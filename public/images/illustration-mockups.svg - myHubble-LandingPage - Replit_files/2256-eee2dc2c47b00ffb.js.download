"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2256],{83261:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(10253),o=r(67294),i=r(6625);function a(e){var t=e.container,r=e.service,a=e.name,c=e.skip,u=void 0!==c&&c,l=(0,i.Z)(),s=(0,n.Z)(o.useState({isConnecting:!0,channel:null,error:null,context:null}),2),d=s[0],f=s[1];return o.useEffect((function(){var e=t.openChannel({service:r,name:a,skip:function(){return u}},(function(e){if(!e.error)return f({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){l.current&&f({isConnecting:e.willReconnect,channel:null,error:null,context:null})};f({context:e.context,channel:null,error:e.error,isConnecting:!1})}));return function(){e()}}),[t,r,a,u,l]),d}},83971:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(47568),o=r(10253),i=r(34051),a=r.n(i),c=r(67294),u=r(83261),l=r(98705);function s(e){var t=(0,u.Z)({container:e,service:"exec"}).channel,r=(0,c.useRef)(!1),i=(0,c.useRef)([]),s=(0,l.Z)((0,n.Z)(a().mark((function e(){var n,c,u,l,d,f,p,h,m,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=2;break}return e.abrupt("return");case 2:if(i.current.length){e.next=4;break}return e.abrupt("return");case 4:if("open"===(null===t||void 0===t?void 0:t.status)){e.next=6;break}return e.abrupt("return");case 6:if(n=i.current.pop()){e.next=9;break}throw new Error("Expected request");case 9:return c=(0,o.Z)(n,2),u=c[0],l=u.args,d=u.env,f=c[1],p="",h=t.onCommand((function(e){e.output&&(p+=e.output)})),r.current=!0,e.next=15,t.request({exec:{args:l,env:d}});case 15:m=e.sent,r.current=!1,h(),v=m.channelClosed?"Channel closed":m.error,f(v?{error:v,output:p||null}:{output:p,error:null}),s.current();case 21:case"end":return e.stop()}}),e)})))),d=null===t||void 0===t?void 0:t.status;return(0,c.useEffect)((function(){"open"===d&&s.current()}),[d,s]),(0,c.useCallback)((function(e){var t=e.args,r=e.env;return new Promise((function(e){i.current.push([{args:t,env:r},e]),s.current()}))}),[s])}},97813:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(91131),o=r(95068),i=r(63805),a=r(89182);function c(){var e=(0,a.Z)(),t=e.openFiles,r=e.activeTab,c=(0,n.Dv)(o.QP);return(0,i.isMobile)()?t[r]||null:c}},89182:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(10253),o=r(67294),i=r(99408),a=r(6625);function c(){var e=(0,i.Z)().session,t=(0,n.Z)(o.useState(e.getState()),2),r=t[0],c=t[1],u=(0,a.Z)();return o.useEffect((function(){return c(e.getState()),e.onSessionStateChanged((function(e){u.current&&c(e)}))}),[e,u]),r}},76205:function(e,t,r){r.d(t,{M:function(){return f},Z:function(){return l}});var n=r(26042),o=r(99534),i=r(35944),a=(r(67294),r(60731)),c=r(50009),u=r(70917);function l(e){var t,r=null===(t=e.highlightRanges)||void 0===t?void 0:t.filter((function(e){return e.to>0}));return(0,i.BX)(a.Tg,{elevated:!0,css:[a.l0.align.center,a.l0.p(4),a.l0.borderRadius(8),a.l0.rowWithGap(4),e.active?a.l0.color.foregroundDefault:a.l0.color.foregroundDimmer,e.active&&[{}],{fontSize:a.TV.fontSizeDefault,lineHeight:"normal"}],children:[e.icon,(0,i.tZ)(a.xv,{css:[{color:"inherit"}],children:(null===r||void 0===r?void 0:r.length)?(0,i.tZ)(c.xK,{style:{color:(e.active,a.TV.foregroundDimmest)},matchStyle:{fontWeight:a.TV.fontWeightBold,color:a.TV.foregroundDefault},source:e.label,matches:r.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label})]})}var s=(0,a.KD)("button"),d=(0,u.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",cursor:"pointer"});function f(e){var t=e.onClick,r=(0,o.Z)(e,["onClick"]);return(0,i.tZ)(s,{css:[d],onClick:t,children:(0,i.tZ)(l,(0,n.Z)({},r))})}},28871:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(35944),o=(r(67294),r(60731)),i=r(76205),a=r(33279);function c(e){var t=e.content||(0,n.BX)(n.HY,{children:[(Array.isArray(e.item)?e.item:[e.item]).map((function(e,t){return(0,n.tZ)(i.Z,{icon:e.icon,label:e.label,active:e.active,highlightRanges:e.highlightRanges},e.label+t)})),e.description?(0,n.tZ)(o.xv,{variant:"small",color:e.active?"dimmer":"dimmest",css:[o.l0.flex.growAndShrink(1)],children:e.description}):null]});return(0,n.BX)(o.Tg,{elevated:e.active,css:[o.l0.p(8),o.l0.rowWithGap(4),o.l0.align.center,o.l0.justify.spaceBetween],children:[(0,n.tZ)(o.G7,{css:[o.l0.rowWithGap(4),o.l0.align.center,o.l0.flex.growAndShrink(1)],children:t}),e.keyboardShortcut?(0,n.tZ)(a.Z,{shortcut:e.keyboardShortcut}):null]})}},91550:function(e,t,r){r.d(t,{i:function(){return v},q:function(){return h}});var n=r(47568),o=r(34051),i=r.n(o),a=r(35944),c=(r(67294),r(3218)),u=r(24888),l=r(88961),s=r(39715),d=r(63736),f=r(60731),p=r(58794),h={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"};function m(){return(0,a.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,a.tZ)(l.Z,{}),(0,a.tZ)(f.xv,{color:"dimmest",children:"Something went wrong searching your Repl's files. Please try again."})]})}function v(e){return(0,s.fA)({type:"context",label:"Files",description:"Find a file",icon:(0,a.tZ)(u.Z,{}),keyboardShortcut:h},{match:(0,s.zf)({defaultScore:3}),commands:function(){var t=(0,n.Z)(i().mark((function t(r){var o,u,f,h,v,g,b,Z;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.session,u=e.fs,(f=r.search?r.search.toLowerCase():void 0)||r.active){t.next=4;break}return t.abrupt("return",[]);case 4:return t.next=6,e.getRecentFiles();case 6:if(h=t.sent,v=new Set(h),!f&&!r.active){t.next=17;break}return t.next=11,u.listFiles();case 11:if(!(g=t.sent).error){t.next=14;break}return t.abrupt("return",[{data:{type:"error",label:g.error,icon:(0,a.tZ)(l.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(m,{})}}}}]);case 14:if(g.files){t.next=16;break}throw new Error("Expected files");case 16:g.files.forEach((function(e){v.has(e)||v.add(e)}));case 17:return b=[],v.forEach((function(e){var t=h.includes(e),r={type:"openFile",label:e,icon:(0,a.tZ)(d.Z,{path:e}),deeplink:{path:e}};if(f){var n=c.Z.match(f,e);n&&b.push((0,s.fA)(r,{match:function(){return{score:t?2*n.score:n.score,render:{ranges:n.ranges}}}}))}else b.push((0,s.fA)(r,{match:function(){return{score:1}}}))})),0===b.length&&r.active&&(Z=r.search,b.push({data:{label:Z,description:"Create a new file",icon:(0,a.tZ)(d.Z,{path:Z}),type:"action",run:(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.writeFile(Z,p.Z.from(""));case 2:o.openFile(Z);case 3:case"end":return e.stop()}}),e)})))},match:function(){return{score:1}}})),t.abrupt("return",b);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}},39715:function(e,t,r){r.d(t,{fA:function(){return o},pl:function(){return a},zf:function(){return i}});var n=r(3218);function o(e,t){var r=t.commands;return{data:e,match:t.match,commands:r}}function i(e){var t=e.defaultScore,r=void 0===t?1:t;return function(e){var t=e.search,o=e.data,i=e.active;if(!t&&i)return{score:r};var a=n.Z.match(t,o.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=i({defaultScore:1})},5257:function(e,t,r){r.d(t,{Z:function(){return h},k:function(){return d}});var n=r(26042),o=r(69396),i=r(67294),a=r(96594),c=r(24351),u=r(98705),l=r(29815);var s=r(10253);function d(e){var t,r=e.path.map((function(e){return e.data.label}));return(null===(t=e.match)||void 0===t?void 0:t.key)&&r.push(e.match.key),r.join(":")}function f(e,t){return t.match.score-e.match.score}function p(e){var t,r=e.current,n=e.updates,o=e.insertSectionHeaders,i=n.items.sort(f),a=(null===(t=n.path[n.path.length-1])||void 0===t?void 0:t.data.description)||r.placeholder;if(o){var c=function(e){var t=new Map;e.forEach((function(e){var r=function(e){return e.path.slice(1,-1).map((function(e){return e.data.label})).join(" > ")}(e),n=t.get(r);n?n.items.push(e):t.set(r,{score:e.match.score,items:[e]})}));var r=(0,l.Z)(t.entries()).sort((function(e,t){var r=(0,s.Z)(e,2)[1];return(0,s.Z)(t,2)[1].score-r.score})),n={items:[],itemsWithSections:[]},o=0;return r.forEach((function(e){var t=(0,s.Z)(e,2),r=t[0],i=t[1];n.itemsWithSections.push({isSection:!0,name:r}),i.items.forEach((function(e){n.items.push(e),n.itemsWithSections.push({item:e,index:o++})}))})),n}(i);return{items:c.items,itemsWithSections:c.itemsWithSections,isLoading:Boolean(n.partial),path:n.path,placeholder:a}}return{items:i,isLoading:Boolean(n.partial),path:n.path,placeholder:a}}function h(e){var t,r=function(e){var t,r=e.index,n=e.focus;b.setPath(T.slice(0,r+1)),n&&(null===(t=d.current)||void 0===t||t.focus())},s=(0,u.Z)(e.onSelect),d=(0,i.useRef)(null),f=(0,i.useState)(""),h=f[0],m=f[1],v=(0,u.Z)(e.insertSectionHeaders),g=(0,i.useState)((function(){return function(e){var t=e.initialPath,r=e.partialUpdateTimeout,n=e.onUpdate,o=function(e){a&&clearTimeout(a);var t=++c,o=0,u=[],s=i[i.length-1];s.commands?(void 0!==r&&(a=setTimeout((function(){u.length&&n({items:u,partial:!0,path:i})}),r)),function r(s,d){if(o++,!s.commands)throw new Error("Expected commands");var f=(0,l.Z)(d).concat([s]),p=f.length===i.length;Promise.resolve(s.commands({active:p,search:e,path:f})).then((function(s){t===c?(o--,s.forEach((function(t){var n=(0,l.Z)(f).concat([t]),o=t.match?t.match({search:e,data:t.data,path:n,active:p}):null;o&&u.push({path:n,data:t.data,match:o}),t.commands&&r(t,f)})),o>0||(a&&clearTimeout(a),n({items:u,path:i}))):a&&clearTimeout(a)}))}(s,i.slice(0,i.length-1))):n({items:u,path:i})},i=t,a=null,c=0;return{search:o,setPath:function(e){i=e,o(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return i}}}({initialPath:Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand],partialUpdateTimeout:100,onUpdate:function(e){S((function(t){return p({current:t,updates:e,insertSectionHeaders:v.current})}))}})})),b=g[0];(0,i.useEffect)((function(){b.setPath(Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand])}),[e.initialCommand,b]);var Z=(0,i.useState)((function(){var e,t=b.getPath();return{path:t,items:[],itemsWithSections:[],isLoading:!1,placeholder:(null===(e=t[t.length-1])||void 0===e?void 0:e.data.description)||""}})),y=Z[0],x=y.items,w=y.itemsWithSections,k=y.placeholder,T=y.path,A=y.isLoading,S=Z[1],B=(0,c.Z)(h,100);(0,i.useEffect)((function(){S((function(e){return(0,o.Z)((0,n.Z)({},e),{isLoading:!0})})),b.search(B)}),[b,B]);var C=Boolean(h||T.length>1),F=(0,a.Kb)({inputValue:h,items:x,itemToString:function(e){return e?e.data.label:""},initialHighlightedIndex:C?0:-1,defaultHighlightedIndex:C?0:-1}),E=F.selectedItem;return(0,i.useEffect)((function(){if(E)return"context"===E.data.type?(b.setPath(E.path),void m("")):void s.current(E)}),[b,E,s]),{keyboardShortcut:null===(t=T[0])||void 0===t?void 0:t.data.keyboardShortcut,resetToIndex:r,handleBackspace:function(){h.length||1!==T.length&&r({index:T.length-2})},handleLeftRightArrow:function(e){if(F.highlightedIndex>-1){var t="previous"===("ArrowLeft"===e?"previous":"next")?x[F.highlightedIndex-1]?F.highlightedIndex-1:0===F.highlightedIndex&&x.length?x.length-1:null:x[F.highlightedIndex+1]?F.highlightedIndex+1:x[0]?0:null;null!==t&&F.setHighlightedIndex(t)}},combobox:F,inputValue:h,setInputValue:m,items:x,itemsWithSections:w,placeholder:k,path:T,isLoading:A,inputRef:d}}},25990:function(e,t,r){var n;r.d(t,{T:function(){return n}}),function(e){e.Reset="reset",e.EditorTypeSwitch="editor-type-switch",e.Filter="filter",e.FieldEdit="field-edit",e.DotReplitOpen="dotreplit-open",e.NonFlaggedWsType="non-flagged-ws-type"}(n||(n={}))},47579:function(e,t,r){r.d(t,{P:function(){return s}});var n=r(10253),o=r(67294),i=r(25497),a=r(81700),c=r.n(a),u=r(6625),l=r(99408),s=function(){var e=(0,l.Z)().dotReplit,t=(0,u.Z)(),r=(0,n.Z)(o.useState(null),2),a=r[0],s=r[1];return o.useEffect((function(){return e.watch((function(e){t.current&&(e.error?e.error===i.Yt.NotFound&&s([]):e.config.hidden?s(e.config.hidden.map((function(e){return c()(e,{extended:!0,globstar:!0})}))):s([]))}))}),[e]),a}},67808:function(e,t,r){r.d(t,{Z:function(){return $e}});var n,o=r(47568),i=r(10253),a=r(34051),c=r.n(a),u=r(35944),l=r(60536),s=r.n(l),d=r(67294),f=r(65456),p=r(31066),h=r(99408),m=r(30019),v=r(93921),g=r(92098),b=r(29815),Z=r(58794),y=r(82378),x=r(32703);function w(){return w=(0,o.Z)(c().mark((function e(t){var r,i,a,u,l,s,d,f,p,h,m,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parentPath,i=t.overwrite,a=t.fs,u=t.files,l=t.shouldUseFileTransferAPI,s=t.onStart,d=t.onUpload,f=t.onError,p=t.onDone,h=function(){var e=(0,o.Z)(c().mark((function e(t){var r,o,u,s,p,h,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.targetPath,o=t.file,u=t.progress,i){e.next=9;break}return e.next=4,a.stat(r);case 4:if(!e.sent.exists){e.next=9;break}return s={file:o,path:r,error:n.AlreadyExists},f(s),e.abrupt("return",s);case 9:return p=null,e.prev=10,e.next=13,(0,x.pV)(o);case 13:p=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),h={file:o,path:r,error:n.FileRead},f(h),e.abrupt("return",h);case 21:if(m=Z.Z.from(p),!l){e.next=27;break}return e.next=25,a.transferFile(r,m,(function(e,t){u.current=t/e}));case 25:e.next=29;break;case 27:return e.next=29,a.writeFile(r,m);case 29:return d({file:o,path:r}),e.abrupt("return",{path:r,file:o});case 31:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),m=u.map((function(e){var t=e.path||e.webkitRelativePath||e.name;return{targetPath:r?r+"/"+t:t,progress:(0,y.u)(0),file:e}})),s(m),e.next=6,Promise.all(m.map(h));case 6:v=e.sent,p({parentPath:r,uploads:v.filter((function(e){return!("error"in e)})),errors:v.reduce((function(e,t){return"error"in t?(0,b.Z)(e).concat([t]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function k(e){var t=e.fs,r=e.onDone,n=(0,i.Z)(d.useState([]),2),o=n[0],a=n[1],c=d.useRef(r);d.useEffect((function(){c.current=r}),[r]);var u=d.useCallback((function(e){var r=e.parentPath,n=e.files;!function(e){w.apply(this,arguments)}({overwrite:e.overwrite,parentPath:r,files:n.filter(Boolean),fs:t,shouldUseFileTransferAPI:!0,onStart:function(e){return a((function(t){return(0,b.Z)(t).concat((0,b.Z)(e))}))},onUpload:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onError:function(e){a((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onDone:function(e){c.current&&c.current(e)}})}),[t,a]);return{uploadFiles:u,pendingUploads:o}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(n||(n={}));var T=r(69453),A=r(38935);function S(){var e=(0,h.Z)().session,t=(0,i.Z)(d.useState(e.getAreHiddenFilesVisible()),2),r=t[0],n=t[1];return d.useEffect((function(){return n(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(n)}),[e]),r}var B=r(63377),C=r(46609);function F(e){var t=e.onDownloadZip,r=e.readOnly,n=void 0!==r&&r,o=(0,C.y)().uploadFiles,i=d.useRef(null),a=d.useRef(null),c=S(),l=(0,B.Z)(),p=(0,h.Z)().session,m=d.useMemo((function(){if("undefined"===typeof document)return[];if(n)return[c?A.s.HideHiddenFiles:A.s.ShowHiddenFiles];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,r=[A.s.UploadFile];return t&&r.push(A.s.UploadFolder),r.push(A.s.DownloadZip),r.push(c?A.s.HideHiddenFiles:A.s.ShowHiddenFiles),r}),[c,n]);return(0,u.BX)(u.HY,{children:[(0,u.tZ)("input",{ref:i,type:"file",onChange:function(e){var t=e.target.files;t&&o({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,u.tZ)("input",{ref:a,type:"file",onChange:function(e){var t=e.target.files;t&&o({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,u.tZ)(A.Z,{actions:m,onAction:function(e){switch(e){case A.s.UploadFile:if(!i.current)return;return i.current.click(),void(0,T.Z)({replId:l,action:"uploaded",fileType:f.Tv.File});case A.s.UploadFolder:if(!a.current)return;return a.current.click(),void(0,T.Z)({replId:l,action:"uploaded",fileType:f.Tv.Directory});case A.s.DownloadZip:return t(),void(0,T.Z)({replId:l,action:"zipDownloaded"});case A.s.ShowHiddenFiles:return void p.setAreHiddenFilesVisible(!0);case A.s.HideHiddenFiles:p.setAreHiddenFilesVisible(!1)}}}),(0,u.tZ)(s(),{id:"2ff4f6cb1b2dc3a5",children:"input.jsx-2ff4f6cb1b2dc3a5{display:none}"})]})}var E=r(60731),D=r(90317),R=r(26042),N=r(69396),P=r(91131),I=r(7787),U=r(39499),V=r.n(U),H=r(83971),_=r(98705),O=r(21131),G="date '+%s%N' && cat /sys/fs/cgroup/cpu/cpuacct.usage /sys/fs/cgroup/cpu/cpu.cfs_quota_us /sys/fs/cgroup/cpu/cpu.cfs_period_us /sys/fs/cgroup/memory/memory.usage_in_bytes /sys/fs/cgroup/memory/memory.limit_in_bytes ",W="cat /repl/stats/subvolume_usage_bytes /repl/stats/subvolume_total_bytes";function L(e){return e/1024/1024}function X(e){return Math.round(100*(e+Number.EPSILON))/100}function j(){var e=(0,O.Z)((function(){return(0,P.cn)({wallTimeNanos:V().BigInt(0),cpuTimeNanos:V().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:0})}),[]),t=(0,O.Z)((function(){return{cpu:{currentAtom:(0,P.cn)((function(t){return X(t(e).cpuUtilPercent)})),totalAtom:(0,P.cn)((function(){return 100}))},ram:{currentAtom:(0,P.cn)((function(t){return X(L(t(e).memoryUsageBytes))})),totalAtom:(0,P.cn)((function(t){return L(t(e).memoryLimitBytes)}))},disk:{currentAtom:(0,P.cn)((function(t){return L(t(e).storageUsedBytes)})),totalAtom:(0,P.cn)((function(t){return L(t(e).storageTotalBytes)}))}}}),[e]),r=(0,P.b9)(e);return function(e){var t=(0,h.Z)().container,r=(0,H.Z)(t),n=(0,_.Z)(e);d.useEffect((function(){var e=!1,t=null;function i(){return a.apply(this,arguments)}function a(){return(a=(0,o.Z)(c().mark((function o(){var a,u,l;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,r({args:["bash","-c",G]});case 3:if(u=o.sent,!e){o.next=6;break}return o.abrupt("return");case 6:if(null===u.error){o.next=9;break}return I.kg.error("Error running resource tracking command",{errorMessage:u.error}),o.abrupt("return");case 9:return o.next=11,r({args:["bash","-c",W]});case 11:if(l=o.sent,!e){o.next=14;break}return o.abrupt("return");case 14:if(null===l.error||(null===(a=l.output)||void 0===a?void 0:a.includes("No such file or directory"))){o.next=17;break}return I.kg.error("Error running storage command",{errorMessage:l.error}),o.abrupt("return");case 17:n.current({trackingResult:u,storageResult:l}),t=setTimeout(i,2e3);case 19:case"end":return o.stop()}}),o)})))).apply(this,arguments)}return i(),function(){e=!0,t&&clearTimeout(t)}}),[t,r,n])}((function(e){var t=e.trackingResult,n=e.storageResult;r((function(e){var r,o;try{r=function(e,t){if(6!==e.length)throw new Error("Received unexpected output from resource tracking command: ".concat(e));var r={wallTimeNanos:V().BigInt(0),cpuTimeNanos:V().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:1073741824},n=e.map((function(e){return parseInt(e,10)}));if(n.includes(NaN))throw new Error("Could not parse one or more values from resource monitoring command: ".concat(e));var o=V().BigInt(e[0]),i=V().BigInt(e[1]),a=n[2],c=n[3],u=n[4],l=n[5];if(!(u>=0&&l>0))throw new Error("Memory usage or limit reported negative: ".concat(e));if(r.memoryUsageBytes=u,r.memoryLimitBytes=l,V().GT(t.wallTimeNanos,0)&&V().GT(t.cpuTimeNanos,0)){var s=V().toNumber(V().subtract(o,t.wallTimeNanos)),d=V().toNumber(V().subtract(i,t.cpuTimeNanos));if(s>0&&d>=0&&a>0&&c>0){var f=a/c;r.cpuUtilPercent=100*d/s/f}else{r.cpuUtilPercent=0;var p=JSON.stringify((0,N.Z)((0,R.Z)({},t),{wallTimeNanos:t.wallTimeNanos.toString(),cpuTimeNanos:t.cpuTimeNanos.toString()}));I.kg.error("CPU usage calculation returned negative value: ".concat(e,". Previous resources: ").concat(p))}}return r.wallTimeNanos=o,r.cpuTimeNanos=i,r}((t.output||"").trim().split("\n"),e)}catch(i){return I.kg.error("Could not calculate resources",{errorMessage:i.message}),e}if(!r)throw new Error("Expected resources");try{o=function(e){if(2!==e.length)throw new Error("Received unexpected output from storage command: ".concat(e));var t=parseInt(e[0],10),r=parseInt(e[1],10);if(isNaN(t)||isNaN(r))throw new Error("Could not parse values from storage output command: ".concat(e));return{storageUsedBytes:t,storageTotalBytes:r}}((n.output||"").trim().split("\n"))}catch(a){return I.kg.error("Could not calculate resources",{errorMessage:a.message}),e}return r.storageUsedBytes=o.storageUsedBytes,r.storageTotalBytes=o.storageTotalBytes,r}))})),t}var M,z=r(48869),Y=r(53666),K=r(13331),q=r(56124),J=r(4158),Q=r(88961);function $(e){var t=e.callToAction,r=(0,i.Z)(d.useState(!1),2),n=r[0],o=r[1],a=j();return(0,u.tZ)(E.G7,{css:[E.l0.p(8),E.l0.backgroundColor.backgroundDefault,{borderTop:"1px solid ".concat(E.TV.backgroundHigher)}],children:n?(0,u.tZ)(ae,{resources:a,onClose:function(){return o(!1)},callToAction:t}):(0,u.tZ)(ie,{resources:a,onExpand:function(){return o(!0)}})})}function ee(e){var t=e.textAtom,r=e.variant,n=e.className,o=(0,P.Dv)(t);return o?(0,u.tZ)(E.xv,{className:n,variant:r,children:o}):null}function te(e){var t=e.title,r=e.totalAtom,n=e.currentAtom,o=e.description,i=e.measure,a=e.inactive,c=void 0!==a&&a,l=(0,O.Z)((function(){return(0,P.cn)((function(e){return le(e(n),e(r))}))}),[n,r]),s=(0,O.Z)((function(){return(0,P.cn)((function(e){return function(e,t,r,n){if("empty"===e||void 0===t)return;if(void 0===n)return se(t/r*100)+"%";return se(t)+"/"+se(r)+" "+n}(e(l),e(n),e(r),i)}))}),[l,n,r,i]),d=(0,O.Z)((function(){return(0,P.cn)((function(e){var t=e(l);return"At limit"===t||"Close to limit"===t}))}),[l]),f=(0,P.Dv)(d);return(0,u.BX)(E.G7,{css:[E.l0.flex.row,E.l0.justify.spaceBetween,E.l0.align.end],children:[(0,u.BX)(E.G7,{css:[E.l0.rowWithGap(2),E.l0.align.center,E.l0.minHeight(E.TV.space24)],children:[(0,u.tZ)(E.xv,{css:{fontWeight:E.TV.fontWeightMedium},children:c?t+": last run":t}),o&&(0,u.tZ)(E.hU,{alt:o,size:24,children:(0,u.tZ)(J.Z,{})}),f&&(0,u.BX)(E.G7,{css:[E.l0.rowWithGap(4),E.l0.align.center,E.l0.pl(4)],children:[(0,u.tZ)(Q.Z,{color:E.TV.orangeStronger}),(0,u.tZ)(ee,{textAtom:l,variant:"small",css:E.l0.pb(2)})]})]}),(0,u.tZ)(ee,{textAtom:s,variant:"small",css:E.l0.pb(2)})]})}function re(e){var t=e.title,r=e.totalAtom,n=e.currentAtom,o=e.description,i=e.measure,a=e.inactive,c=void 0!==a&&a;return(0,u.BX)(E.G7,{css:E.l0.colWithGap(4),children:[(0,u.tZ)(te,{title:t,description:o,currentAtom:n,totalAtom:r,inactive:c,measure:i}),(0,u.tZ)(ue,{currentAtom:n,totalAtom:r,inactive:c})]})}function ne(e){var t=e.title,r=e.doWarnAtom,n=e.inactive,o=void 0!==n&&n,i=(0,P.Dv)(r);return(0,u.BX)(E.G7,{css:[E.l0.rowWithGap(4),E.l0.align.center],children:[(0,u.tZ)(E.xv,{variant:"small",css:E.l0.color.foregroundDimmer,children:o?t+" last run":t}),i&&(0,u.tZ)(Q.Z,{color:E.TV.orangeStronger})]})}function oe(e){var t=e.title,r=e.totalAtom,n=e.currentAtom,o=e.inactive,i=void 0!==o&&o,a=(0,O.Z)((function(){return(0,P.cn)((function(e){var t=le(e(n),e(r));return"At limit"===t||"Close to limit"===t}))}),[n,r]);return(0,u.BX)(E.G7,{css:[E.l0.colWithGap(4),E.l0.flex.grow(2),{flexBasis:32}],children:[(0,u.tZ)(ne,{title:t,doWarnAtom:a,inactive:i}),(0,u.tZ)(ue,{currentAtom:n,totalAtom:r,inactive:i,mini:!0})]})}function ie(e){var t=e.resources,r=e.onExpand,n=e.inactive,o=void 0!==n&&n,i=t.cpu,a=t.ram,c=t.disk;return(0,u.tZ)(E.Tg,{background:"default",children:(0,u.BX)(E.G7,{css:[E.d$,E.l0.display.flex,E.l0.flex.row,E.l0.justify.spaceBetween,E.l0.align.center,E.l0.focusRing,{gap:E.TV.space12,background:"transparent",":hover":{cursor:"pointer"}}],role:"button",tag:"button","aria-expanded":!1,onClick:r,children:[(0,u.tZ)(oe,{title:"CPU",totalAtom:i.totalAtom,currentAtom:i.currentAtom,inactive:o}),(0,u.tZ)(oe,{title:"RAM",totalAtom:a.totalAtom,currentAtom:a.currentAtom,inactive:o}),(0,u.tZ)(oe,{title:"Storage",totalAtom:c.totalAtom,currentAtom:c.currentAtom,inactive:o}),(0,u.tZ)(q.Z,{})]})})}function ae(e){var t=e.callToAction,r=e.resources,n=e.onClose,o=e.inactive,i=void 0!==o&&o,a=r.cpu,c=r.ram,l=r.disk;return(0,u.BX)(E.Tg,{background:"default",css:E.l0.colWithGap(12),children:[(0,u.BX)(E.G7,{css:[E.l0.flex.row,E.l0.justify.spaceBetween],children:[(0,u.tZ)(E.xv,{variant:"subheadDefault",children:"Repl Resources"}),(0,u.tZ)(E.hU,{alt:"collapse",tooltipHidden:!0,onClick:n,"aria-expanded":!0,children:(0,u.tZ)(z.Z,{})})]}),(0,u.tZ)(re,{title:"CPU",description:"How much processing power your Repl is using",totalAtom:a.totalAtom,currentAtom:a.currentAtom,inactive:i}),(0,u.tZ)(re,{title:"RAM",description:"How much memory your Repl is using",totalAtom:c.totalAtom,currentAtom:c.currentAtom,measure:"MB",inactive:i}),(0,u.tZ)(re,{title:"Storage",description:"How much room your Repl has to store files",totalAtom:l.totalAtom,currentAtom:l.currentAtom,measure:"MB"}),(0,u.tZ)(ce,{callToAction:t})]})}function ce(e){var t=e.callToAction,r=null;return t===M.Upgrade?r=(0,u.BX)(u.HY,{children:[(0,u.tZ)(E.xv,{multiline:!0,children:"Low on resources?"}),(0,u.tZ)(Y.Z,{context:"repl_resources"})]}):t===M.Boost&&(r=(0,u.BX)(u.HY,{children:[(0,u.tZ)(E.xv,{multiline:!0,children:"Low on resources? Try boosting your Repl."}),(0,u.tZ)(E.ZP,{href:"https://blog.replit.com/boosts",text:"Learn about Boosts",iconLeft:(0,u.tZ)(K.Z,{})})]})),(0,u.BX)(u.HY,{children:[r,(0,u.BX)(E.xv,{multiline:!0,children:[(0,u.tZ)("a",{href:"https://blog.replit.com/repl-resources",target:"_blank",children:"Learn more"})," ","about resource limits."]})]})}function ue(e){var t=e.currentAtom,r=e.totalAtom,n=e.inactive,o=e.mini,i=(0,P.Dv)(r),a=(0,P.Dv)(t),c=function(e){switch(e){case"empty":case"fine":default:return;case"At limit":return E.TV.accentNegativeDefault;case"Close to limit":return E.TV.orangeDefault}}(le(a,i));return(0,u.tZ)(E.JY,{css:o&&E.l0.height(8),total:i,current:a,color:c,disabled:n})}function le(e,t){if(void 0===e)return"empty";var r=e/t;return r>=1?"At limit":r>=.9?"Close to limit":"fine"}function se(e){return Math.round(100*(e+Number.EPSILON))/100}!function(e){e.Upgrade="UPGRADE",e.Boost="BOOST",e.Nothing="NOTHING"}(M||(M={}));var de=r(19526),fe=r(1879),pe=r(73842),he=r(93058),me=r(55601),ve=r(29163),ge=r(86851),be=r(9252),Ze=r(97813),ye=r(43804),xe=r(23329),we=r(47579),ke=r(48551);var Te=/\(copy\)( \d+)?$/,Ae=/\d+$/;function Se(e,t){for(var r=(0,ke.r6)(e),n=(0,ke.eb)(e),o=Te.test(n)?e:"".concat(n," (copy)").concat(r.length>0?".".concat(r):""),i=1;i<=t.size;i++){if(!t.has(o))return o;var a=(0,ke.eb)(o),c=a.split(" ");Ae.test(a)&&c.pop(),o="".concat(c.join(" ")," ").concat(i),r.length>0&&(o+=".".concat(r))}return o}var Be=r(7469),Ce=r(25497),Fe=r(6625),Ee=r(74591),De=r(14924),Re=r(32951),Ne=r(93160),Pe=(r(1144),r(81255)),Ie=r(69346),Ue=r(57263),Ve=r(67629),He=r(87653),_e=r(76205),Oe=(r(28871),r(5257)),Ge={backgroundColor:"transparent",borderColor:"transparent",color:Pe.TV.foregroundDefault,fontSize:Pe.TV.fontSizeDefault,paddingRight:Pe.TV.space4,paddingTop:Pe.TV.space4,paddingBottom:Pe.TV.space4,display:"block",lineHeight:1.4,flexGrow:1,"::placeholder":{color:Pe.TV.foregroundDimmest},":focus":{outline:"0 none"},":focus::placeholder":{color:Pe.TV.foregroundDimmer},":hover::placeholder":{color:Pe.TV.foregroundDimmer}},We=(0,Ie.K)("div"),Le=(0,Ie.K)("input");function Xe(e){var t=e.onIsOpenChange,r=e.commandBar,n=(0,_.Z)(t);(0,Re.Z)((function(){n.current(r.combobox.isOpen)}),[r.combobox.isOpen]);var o=(0,d.useRef)(null);return(0,u.tZ)(u.HY,{children:(0,u.tZ)(Ie.Z,{innerRef:o,css:[(0,De.Z)({position:"relative",height:32,marginBottom:16},"@media (max-width: ".concat(Ue.j.mobileMax,"px)"),r.combobox.isOpen&&{position:"fixed",top:0,left:Pe.TV.space8,width:"calc(100% - ".concat(Pe.TV.space16,")")})],children:(0,u.tZ)(Ne.Z,{background:"higher",css:[Pe.l0.borderRadius(8),{overflow:"hidden",border:"1px solid transparent",position:"absolute",zIndex:100,top:0,left:8,width:"calc(100% - ".concat(Pe.TV.space16,")"),":focus-within":{boxShadow:r.combobox.isOpen?Pe.TV.shadow1:null,borderColor:r.combobox.isOpen?Pe.TV.outlineDimmest:null}}],children:(0,u.BX)(We,(0,N.Z)((0,R.Z)({},r.combobox.getComboboxProps()),{css:[Pe.l0.rowWithGap(4),Pe.l0.align.center,Pe.l0.p(4),Pe.l0.px(8)],children:[r.path.map((function(e,t){var n=e.data;if(t<=0)return null;var o=n.label,i=n.icon,a=o+t;return(0,u.tZ)(_e.M,{label:o,icon:i,onClick:function(){r.resetToIndex({index:t,focus:!0})}},a)})),(0,u.BX)(Ie.Z,{css:[Pe.l0.rowWithGap(4),Pe.l0.align.center,Pe.l0.flex.growAndShrink(1)],children:[1===r.path.length?(0,u.tZ)(He.Z,{fill:Pe.TV.foregroundDimmest}):null,(0,u.tZ)(Le,(0,R.Z)({css:[Ge]},r.combobox.getInputProps({value:r.inputValue,ref:r.inputRef,onChange:function(e){r.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():r.resetToIndex({index:0}):r.handleLeftRightArrow(e.key)},onFocus:function(){r.combobox.isOpen||r.combobox.openMenu()},placeholder:r.placeholder}))),r.inputValue.length>0?(0,u.tZ)(Ve.Z,{fill:Pe.TV.foregroundDimmest,css:[Pe.l0.cursor.pointer],onClick:function(){return r.setInputValue("")}}):null]})]}))})})})}var je=r(9838),Me=r(42456),ze=r(91550),Ye=r(76198);function Ke(e){var t=e.commandBar;return(0,u.tZ)("div",(0,N.Z)((0,R.Z)({},t.combobox.getMenuProps()),{css:[E.l0.width("100%"),E.l0.overflowY("auto"),E.l0.flex.grow(1),E.l0.p(8),E.l0.pt(0)],children:t.items.filter((function(e){return"openFile"===e.data.type})).slice(0,100).map((function(e,r){var n=r===t.combobox.highlightedIndex;return(0,u.tZ)("span",(0,N.Z)((0,R.Z)({},t.combobox.getItemProps({item:e,index:r})),{children:(0,u.tZ)(Ye.ZP,{active:n,onClick:function(){return null},actions:void 0,onAction:function(){return null},children:(0,u.BX)("div",{css:[E.l0.display.flex,E.l0.align.center,E.l0.overflow("hidden"),E.l0.flex.grow(1)],children:[(0,u.tZ)(Ye.qh,{type:f.Tv.File,path:e.data.label,active:n}),(0,u.tZ)(Ye.tJ,{children:e.data.label})]})})}),(0,Oe.k)(e))}))}))}var qe=r(86292),Je=r(25990),Qe=r(88679);function $e(e){var t=e.onFileNodeClick,r=e.readOnly,a=void 0!==r&&r,l=e.showResources,b=void 0===l||l,Z=(0,he.Z)().showError,y=(0,B.Z)(),x=(0,je.c)("flag-filetree-search").enabled,w=(0,i.Z)(d.useState(!1),2),A=(w[0],w[1]),P=(0,i.Z)(d.useState(null),2),I=P[0],U=P[1],V=(0,h.Z)(),H=V.presence,_=V.fs,O=V.session,G=(0,we.P)(),W=function(){var e=(0,h.Z)().dotReplit,t=(0,Fe.Z)(),r=(0,i.Z)(d.useState(null),2),n=r[0],o=r[1];return d.useEffect((function(){return e.watch((function(e){var r;t.current&&(e.error?e.error===Ce.Yt.NotFound&&o(null):o(null!==(r=e.config.entrypoint)&&void 0!==r?r:null))}))}),[e]),n}(),L=(0,i.Z)(d.useState(null),2),X=L[0],j=L[1],z=(0,Ze.Z)(),Y=S(),K=function(e){var t=(0,i.Z)(d.useState(null),2),r=t[0],n=t[1],o=(0,i.Z)(d.useState(null),2),a=o[0],c=o[1];return d.useEffect((function(){if(a){var t=!1;return"rename"===a.type?(a.fileType===f.Tv.File?e.moveFile(a.path,a.to):e.moveDir(a.path,a.to)).then((function(e){t||(c(null),e.error&&n(e.error))})):(a.fileType===f.Tv.File?e.deleteFile(a.path):e.deleteDir(a.path)).then((function(e){t||(c(null),e.error&&n(e.error))})),function(){t=!0}}n(null)}),[a,e]),{renameNode:function(e){return c((0,N.Z)((0,R.Z)({},e),{type:"rename"}))},deleteNode:function(e){return c((0,N.Z)((0,R.Z)({},e),{type:"delete"}))},currentOp:a,error:r}}(_),q=K.renameNode,J=K.deleteNode,Q=K.currentOp,ee=K.error;d.useEffect((function(){ee&&Z("Something went wrong trying to move or remove a file.")}),[ee,Z]);var te=(0,D.aEG)({variables:{replId:y}}).data,re="Repl"===(null===te||void 0===te?void 0:te.repl.__typename)?te.repl:void 0,ne=re?re.url:void 0,oe=function(e){var t;if(!e)return M.Nothing;var r="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,n=(null===e||void 0===e?void 0:e.currentUser)?e.currentUser:void 0;return void 0===r||void 0===n||n.id!==(null===(t=r.owner)||void 0===t?void 0:t.id)||r.isBoosted||"PowerUpCostsType"!==r.powerUpCosts.__typename||r.powerUpCosts.boost.explanation!==D.ChQ.NeedsCycles?M.Nothing:M.Upgrade}(te),ie="Repl"===(null===te||void 0===te?void 0:te.repl.__typename)?te.repl.language:void 0,ae="Repl"===(null===te||void 0===te?void 0:te.repl.__typename)&&(te.repl.isProjectFork||te.repl.isModelSolution||te.repl.isModelSolutionFork),ce=d.useCallback((function(){var e=(ne||window.location.pathname)+".zip";window.open(e,"_blank")}),[ne]),ue=d.useCallback(function(){var e=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(t),!t||!X){e.next=6;break}return e.next=4,_.stat(X);case 4:e.sent.exists||j(z||null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[z,X,_]),le=(0,i.Z)(d.useState(null),2),se=le[0],Te=le[1];d.useEffect((function(){z!==X&&j(z)}),[z]);var Ae=k({onDone:function(e){var t=e.parentPath,r=e.errors;if(r.length){var o=r.filter((function(e){return e.error===n.AlreadyExists}));o.length&&Te({parentPath:t,errors:o});var i=r.filter((function(e){return e.error!==n.AlreadyExists}));i.length&&Z("There was an error uploading: ".concat(i.map((function(e){return e.path})).join(", ")))}},fs:_}),De=Ae.uploadFiles,Re=Ae.pendingUploads,Ne=(0,i.Z)(d.useState(null),2),Pe=Ne[0],Ie=Ne[1],Ue=(0,i.Z)(d.useState(null),2),Ve=Ue[0],He=Ue[1],_e=(0,Be.Z)({fs:_}),Ge=_e.dirInfo,We=_e.setExpandedState,Le=_e.watchDir,Ye=(0,xe.Z)(ye.H.Sidepane),$e=(0,Me.A)(),et=d.useMemo((function(){return(0,ze.i)({session:O,fs:_,getRecentFiles:$e})}),[_,$e,O]),tt=(0,Oe.Z)({insertSectionHeaders:!0,onSelect:function(e){if("openFile"===e.data.type)return O.openFile(e.data.deeplink.path),void tt.setInputValue("")},initialCommand:et});return(0,u.tZ)(C.i.Provider,{value:{dirInfo:Ge,setExpandedState:We,watchDir:Le,fs:_,activePath:X,setActivePath:j,pendingFileType:I,setPendingFileType:ue,pendingUploads:Re,uploadFiles:De,getNodeType:function(){var e=(0,o.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.readFile(t);case 2:return r=e.sent,e.abrupt("return",r.error===f.Df.IsDirectory?f.Tv.Directory:f.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),transformChildren:ie?(0,me.Z)({language:ie,entrypointFile:W,shouldHideHiddenFiles:!Y,hiddenFiles:null!==G&&void 0!==G?G:[],isProjectFork:ae}):void 0,downloadFile:function(){var e=(0,o.Z)(c().mark((function e(t,r){var n,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.readFile(t);case 2:if(!(n=e.sent).error){e.next=6;break}return Z(n.error),e.abrupt("return");case 6:o=(0,ke.yC)(t),(i=document.createElement("a")).setAttribute("href","data:".concat(o,";base64,").concat(n.content.toString("base64"))),i.setAttribute("download",r),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),currentRenamePath:Pe,setCurrentRenamePath:Ie,pendingDelete:Ve,setPendingDelete:He,renameNode:q,deleteNode:J,currentOp:Q,nodeOpError:ee,overwriteNode:function(){var e=(0,o.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.type===f.Tv.Directory?_.deleteDir:_.deleteFile,e.next=3,n(r.path);case 3:if(!e.sent.error){e.next=7;break}return Z("Something went wrong trying to move: ".concat(t)),e.abrupt("return");case 7:q({path:t,fileType:r.type,to:r.path});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=(0,o.Z)(c().mark((function e(t,r){var n,o,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se((0,ke.UO)(t),new Set(r)),o=(0,ke.Il)(t),i=o?"".concat(o,"/").concat(n):n,e.next=5,_.copyFile(t,i);case 5:if(!(a=e.sent).error){e.next=9;break}return Z(a.error),e.abrupt("return");case 9:Ie(i);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},children:(0,u.tZ)(g.Z,{children:(0,u.BX)("div",{ref:Ye,className:"jsx-585bfb9763393b08 filetree",children:[(0,u.BX)(de.Ug,{align:"center",wrap:"nowrap",spacing:0,className:"filetree-header",children:[(0,u.tZ)("div",{className:"jsx-585bfb9763393b08 heading",children:(0,u.tZ)(m.Z,{level:4,css:[{userSelect:"none"}],children:"Files"})}),a?null:(0,u.BX)(u.HY,{children:[(0,u.tZ)(ve.Z,{css:[E.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,T.Z)({replId:y,action:"added",source:"filetree",fileType:f.Tv.File}),ue(f.Tv.File)},alt:"Add file",children:(0,u.tZ)(ge.Z,{})}),(0,u.tZ)("div",{className:"jsx-585bfb9763393b08 filetree-action-separator"}),(0,u.tZ)(ve.Z,{css:[E.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,T.Z)({replId:y,action:"added",fileType:f.Tv.Directory,source:"filetree"}),ue(f.Tv.Directory)},alt:"Add folder",children:(0,u.tZ)(be.Z,{})})]}),(0,u.tZ)(F,{readOnly:a,onDownloadZip:ce})]}),x&&(0,u.tZ)(Xe,{onIsOpenChange:A,commandBar:tt}),0!==tt.inputValue.length?(0,u.tZ)(Ke,{commandBar:tt}):(0,u.BX)(u.HY,{children:[(0,u.tZ)("div",{ref:tt.combobox.getMenuProps().ref,className:"jsx-585bfb9763393b08"}),(0,u.tZ)(v.Z,{siblings:[],onClick:function(){return null},readOnly:a,onNodeClick:function(e){var r=e.path,n=e.type,o=e.newTab;(j(r),n!==f.Tv.Directory)&&(r===Qe.Z&&(0,qe.j)(qe.U3.VISUAL_DOTREPLIT_EDITOR_USED,{action:Je.T.DotReplitOpen}),(0,T.Z)(o?{replId:y,action:"newTab",source:"filetree"}:{replId:y,action:"select",source:"filetree"}),t(r,o),H.getFollowedUser()&&H.unfollowUser())},path:p.Ql})]}),b?(0,u.tZ)($,{callToAction:oe}):null,(0,u.tZ)(fe.Z,{isOpen:Boolean(se),onRequestClose:function(){return Te(null)},children:se?(0,u.tZ)(pe.Z,{paths:se.errors.map((function(e){return e.path})),onCancel:function(){return Te(null)},onConfirm:function(){De({overwrite:!0,parentPath:se.parentPath,files:se.errors.map((function(e){return e.file}))}),Te(null)}}):null}),(0,u.tZ)(fe.Z,{isOpen:Boolean(Ve),onRequestClose:function(){return He(null)},children:Ve?(0,u.tZ)(Ee.Z,{name:Ve.path,entityType:Ve.type===f.Tv.File?"file":"folder",hideModal:function(){return He(null)},delete:function(){He(null),J({fileType:Ve.type,path:Ve.path})}}):null}),(0,u.tZ)(s(),{id:"585bfb9763393b08",children:".filetree.jsx-585bfb9763393b08{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;overflow:hidden;-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);background-color:var(--background-default)}.filetree-header.jsx-585bfb9763393b08{margin-bottom:var(--space-8)}.filetree.jsx-585bfb9763393b08 .filetree-header{padding:var(--space-8);background-color:var(--background-default);position:-webkit-sticky;position:sticky;top:0;z-index:1}.filetree-action-separator.jsx-585bfb9763393b08{height:6px;width:0;margin-left:4px;margin-right:4px;border-right:1px solid var(--foreground-dimmest)}.add-button:hover{color:var(--foreground-default)!important}.heading.jsx-585bfb9763393b08{margin-right:auto}"})]})})})}},98719:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(29815),o=r(35944),i=r(9008),a=r.n(i),c=r(63377),u=r(97813),l=r(90317);function s(e){var t,r=e.prefix,i=void 0===r?"":r,s=e.suffix,d=void 0===s?"":s,f=(0,u.Z)(),p=(0,c.Z)(),h=(0,l.I1C)({variables:{replId:p}}),m=h.data||h.previousData,v="Repl"===(null===m||void 0===m||null===(t=m.repl)||void 0===t?void 0:t.__typename)?m.repl:null,g=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.Z)(t.filter(Boolean)).concat(["Replit"]).join(" - ")}(i,f,null===v||void 0===v?void 0:v.title,d);return(0,o.tZ)(a(),{children:(0,o.tZ)("title",{children:g},"title")})}}}]);
//# sourceMappingURL=2256-eee2dc2c47b00ffb.js.map