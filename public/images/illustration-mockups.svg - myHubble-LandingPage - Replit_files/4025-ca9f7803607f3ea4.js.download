"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4025,7206,6808],{81979:function(e,t,n){var r=n(67294).createContext({activeFile:null,users:[],annotations:[],generalThread:void 0,onRequestCloseThread:function(){},handleFinalizeMessage:function(){},handleChangeMessage:function(){},setResolvedAnnotation:function(){},createAnnotationAnchorPlaceholder:function(){},markAllMessagesInReplAsSeenByUser:function(){},jumpToThread:function(){}});t.Z=r},65632:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(35944),i=n(60536),a=n.n(i),o=(n(67294),n(94184)),c=n.n(o);function s(e){var t=e.unreadDot,n=e.size,i=void 0===n?12:n,o=e.count,s=void 0===o?null:o,l=s&&s>99,u=l?"99+":null===s||void 0===s?void 0:s.toString();return(0,r.BX)("span",{className:"jsx-1c7f3b9066c4c334",children:[(0,r.tZ)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",className:"jsx-1c7f3b9066c4c334",children:(0,r.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1c7f3b9066c4c334"})}),t&&(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 unread-indicator"}),Boolean(s)&&(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 "+(c()("count",{overflow:l})||""),children:u}),(0,r.tZ)(a(),{id:"1c7f3b9066c4c334",children:"span.jsx-1c7f3b9066c4c334{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.unread-indicator.jsx-1c7f3b9066c4c334{width:5px;height:5px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-red-default);-webkit-transform:translate(8px,-1px);-moz-transform:translate(8px,-1px);-ms-transform:translate(8px,-1px);-o-transform:translate(8px,-1px);transform:translate(8px,-1px);position:absolute}.count.jsx-1c7f3b9066c4c334{-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-negative-default);-webkit-transform:translate(50%,-50%);-moz-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);-o-transform:translate(50%,-50%);transform:translate(50%,-50%);position:absolute;min-width:16px;padding:2px 3px;height:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:var(--font-size-small)}.overflow.jsx-1c7f3b9066c4c334{-webkit-transform:translate(25%,-50%);-moz-transform:translate(25%,-50%);-ms-transform:translate(25%,-50%);-o-transform:translate(25%,-50%);transform:translate(25%,-50%)}"})]})}},23038:function(e,t,n){n.d(t,{ZP:function(){return y}});var r=n(35944),i=n(60536),a=n.n(i),o=n(67294),c=n(93604),s=n(35977),l=n(28898),u=n(9583);function d(e){var t=e.message,n=e.messageStyle,i=o.useMemo((function(){return"TextMessageContentType"===t.content.__typename?(0,u.kW)(t.content.text,{}):"PreviewMessageContentType"===t.content.__typename&&"string"===typeof t.content.preview?(0,u.kW)(t.content.preview,{}):null}),[t.content]),c="PreviewMessageContentType"===t.content.__typename&&"string"!==typeof t.content.preview;return t.user&&(i||c)?(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 "+(n||""),children:[(0,r.BX)("div",{className:"jsx-e1dab5bcce309da6 message",children:[i&&(0,r.tZ)(u.YI,{message:i,codeStyles:{color:"var(--accent-orange-stronger)",background:"var(--background-highest)"}}),c&&(0,r.BX)("span",{className:"jsx-e1dab5bcce309da6 typing-indicator",children:[(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,r.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"})]})]}),(0,r.tZ)(a(),{id:"e1dab5bcce309da6",children:".message.jsx-e1dab5bcce309da6{background:var(--background-higher);padding:var(--space-4)var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-size:var(--font-size-default);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;white-space:pre-wrap}.userhighlight.jsx-e1dab5bcce309da6 .message.jsx-e1dab5bcce309da6{background:transparent}.typing-indicator.jsx-e1dab5bcce309da6{min-height:1em;display:grid;grid-auto-flow:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.dot.jsx-e1dab5bcce309da6{width:6px;height:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;display:inline-block;background-color:var(--foreground-dimmest);-webkit-animation:pulse.6s infinite;-moz-animation:pulse.6s infinite;-o-animation:pulse.6s infinite;animation:pulse.6s infinite}.dot.jsx-e1dab5bcce309da6:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.dot.jsx-e1dab5bcce309da6:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.dot.jsx-e1dab5bcce309da6:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-moz-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-o-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}"})]}):null}var f=n(17847),p=n(44781),h=n(88075),m=n(19526);function v(e){var t=e.message,n=o.useMemo((function(){var e=t.timeCreated;return e?(0,f.Z)(new Date(e),"do MMM, hh:mm a"):""}),[t]),i=t.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(m.Ug,{align:"center",spacing:1,children:[i&&(0,r.tZ)(l.Z,{url:i.image,size:"m"}),(0,r.tZ)(h.Z,{color:"var(--foreground-default)",size:24}),(0,r.BX)(p.Z,{size:"xsmall",children:["Resolved ",n]})]})})}function g(e){var t=e.message,n=o.useMemo((function(){var e=t.timeCreated;return e?(0,f.Z)(new Date(e),"do MMM, hh:mm a"):""}),[t]),i=t.user;return(0,r.tZ)("div",{className:"resolved-message",children:(0,r.BX)(m.Ug,{align:"center",spacing:1,children:[i&&(0,r.tZ)(l.Z,{url:i.image,size:"m"}),(0,r.tZ)(h.Z,{size:24,color:"var(--foreground-dimmest)"}),(0,r.BX)(p.Z,{size:"xsmall",children:["Unresolved ",n]})]})})}var b=function(e){var t=new Date(e),n=new Date;return(0,s.Z)(n,t)<60?"now":(0,c.F)(t,!0)};function x(e){var t=e.messageGroup,n=t.messages,i=t.user,o=t.timeCreated;return i?(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-group",children:[(0,r.BX)("div",{className:"jsx-3469fc8bae278840 message-info",children:[(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 avatar",children:(0,r.tZ)(l.Z,{url:i.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 username",children:i.username}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 time",children:b(o)})]}),(0,r.tZ)("div",{className:"jsx-3469fc8bae278840 messages",children:n.map((function(e){return(0,r.tZ)(d,{message:e},e.id)}))}),(0,r.tZ)(a(),{id:"3469fc8bae278840",children:".message-group.jsx-3469fc8bae278840{background-color:var(--background-default);color:var(--foreground-default);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--space-8);grid-template-columns:minmax(0,1fr)}.message-info.jsx-3469fc8bae278840{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-small)}.messages.jsx-3469fc8bae278840{display:grid;grid-row-gap:var(--space-4);grid-template-columns:minmax(0,1fr)}.avatar.jsx-3469fc8bae278840{margin-right:5px}.username.jsx-3469fc8bae278840{color:var(--foreground-dimmer);font-weight:var(--font-weight-medium);margin-right:3px}.time.jsx-3469fc8bae278840{color:var(--foreground-dimmest)}"})]}):null}function y(e){var t=e.messageGroup;if("TextMessageContentType"===t.messageType||"PreviewMessageContentType"===t.messageType)return(0,r.tZ)(x,{messageGroup:t});if("StatusMessageContentType"===t.messageType){var n=t.messages[0];if("StatusMessageContentType"===n.content.__typename&&"resolved"===n.content.status)return(0,r.tZ)(v,{message:n});if("StatusMessageContentType"===n.content.__typename&&"unresolved"===n.content.status)return(0,r.tZ)(g,{message:n})}return null}},61133:function(e,t,n){var r=n(47568),i=n(26042),a=n(69396),o=n(10253),c=n(34051),s=n.n(c),l=n(35944),u=n(67294),d=n(60536),f=n.n(d),p=n(35642),h=n(94184),m=n.n(h),v=n(96594),g=n(71171),b=n.n(g),x=n(8633),y=n(28898),Z=n(86292),w=n(2666),k=n(90317),E=n(18332),_=n(16449),C=n(84856),S=u.forwardRef((function(e,t){var n,c,d=e.annote,h=e.placeholder,g=e.onChangeMessage,S=e.onFinalizeMessage,T=function(){""!==R.trim()&&(S({messageId:z||b()(),message:R.trim()}),U(null),N(""),setTimeout(F),(0,Z.j)(Z.U3.CONVERSATION_MESSAGE_SENT,{threadMessagesCount:d.messages.length,otherThreadParticipantsCount:ee.length,anchorId:d.id}))},I=null===(n=(0,k.Fqz)().data)||void 0===n||null===(c=n.currentUser)||void 0===c?void 0:c.id,j=(0,o.Z)(u.useState(""),2),R=j[0],N=j[1],P=(0,o.Z)(u.useState(!1),2),D=P[0],B=P[1],O=u.useRef(null),A=(0,o.Z)(u.useState(null),2),z=A[0],U=A[1],L=(0,C.Z)(),G=(0,_.Z)(),X=G.ref,F=G.update,M=(0,o.Z)((0,E.Z)({"@":function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.filter((function(e){return e.id!==I})),t&&(r=t.toLowerCase(),n=n.filter((function(e){return e.username.toLowerCase().startsWith(r)}))),e.abrupt("return",n.slice(0,5).map((function(e){return{icon:(0,l.tZ)(y.Z,{url:e.image,style:{height:"24px",width:"24px",minWidth:"24px",minHeight:"24px"}}),value:e.username}})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),2),W=M[0].suggestions,H=M[1],V=(0,v.Kb)({items:(null===W||void 0===W?void 0:W.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(null===W||void 0===W?void 0:W.results.length),onSelectedItemChange:function(e){var t=e.selectedItem;if(W&&t){var n=W.applySuggestion({targetValue:R,suggestionValue:t.value}),r=n.fullValue,i=n.cursorIndex;N(r),setTimeout((function(){O.current&&(O.current.setSelectionRange(i,i),O.current.focus(),F())}))}}}),q=V.isOpen,K=V.getInputProps,Q=V.getMenuProps,Y=V.getItemProps,J=V.highlightedIndex,$=V.getComboboxProps;u.useEffect((function(){var e="threads/drafts/".concat(d.id),t=p.Z.get(e,"string");t&&N(t);var n=O.current;return function(){if(n){var t=n.value;0!==t.length?p.Z.set(e,t):p.Z.remove(e)}}}),[]),u.useEffect((function(){setTimeout((function(){O.current&&O.current.focus()}))}),[O]);var ee=(0,w.Z)(d).filter((function(e){return e.id!==I})),te="Add a comment";return 1===ee.length?te="Reply to @".concat(ee[0].username):ee.length>1&&(te="Reply"),d.isResolved&&(te="Reply to unresolve this thread"),h&&(te=h),(0,l.BX)("div",{className:"jsx-bfbb8b62e7b10f1d",children:[(0,l.BX)("div",(0,a.Z)((0,i.Z)({},$()),{className:"jsx-bfbb8b62e7b10f1d input-group",children:[(0,l.tZ)("textarea",(0,a.Z)((0,i.Z)({},K({autoFocus:!0,placeholder:te,value:R,onCompositionStart:function(){return B(!0)},onCompositionEnd:function(){return B(!1)},onChange:function(e){var t=e.target.value,n=z||b()();z||U(n),N(t),g({messageId:n,message:t})},onKeyDown:function(e){e.stopPropagation(),q||(e.nativeEvent.preventDownshiftDefault=!0,"Enter"!==e.key||e.shiftKey||D||(e.preventDefault(),T()))},rows:1,ref:function(e){O.current=e,t&&"object"===typeof t&&(t.current=e),H(e),X(e)}})),{className:"jsx-bfbb8b62e7b10f1d "+(m()("inputbox",{hasContent:R.length>0})||"")})),(0,l.tZ)("button",{onClick:T,className:"jsx-bfbb8b62e7b10f1d "+(m()("send-button",{isValid:R.length>0})||""),children:(0,l.tZ)(x.Z,{size:12})})]})),(0,l.tZ)("div",(0,a.Z)((0,i.Z)({},Q({})),{className:"jsx-bfbb8b62e7b10f1d",children:q&&(0,l.tZ)("div",{className:"jsx-bfbb8b62e7b10f1d mention-suggestions-container",children:W.results.map((function(e,t){return(0,u.createElement)("div",(0,a.Z)((0,i.Z)({},Y({item:e,index:t})),{key:e.value,className:"jsx-bfbb8b62e7b10f1d "+(m()("mention-suggestion",{selected:J===t})||""),children:[e.icon,(0,l.tZ)("div",{className:"jsx-bfbb8b62e7b10f1d",children:e.value})]}))}))})})),(0,l.tZ)(f(),{id:"bfbb8b62e7b10f1d",children:'.input-group.jsx-bfbb8b62e7b10f1d{display:grid;grid-template-columns:1fr -webkit-min-content;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}.inputbox.jsx-bfbb8b62e7b10f1d{background:var(--background-higher);color:var(--foreground-default);border:none;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);padding:var(--space-8);outline:none;resize:none;font-family:"IBM Plex Sans",sans-serif;font-size:var(--font-size-default);line-height:16px;overflow-y:auto;max-height:-webkit-calc(var(--font-size-default)*18);max-height:-moz-calc(var(--font-size-default)*18);max-height:calc(var(--font-size-default)*18)}.inputbox.jsx-bfbb8b62e7b10f1d::-webkit-input-placeholder{white-space:pre}.inputbox.jsx-bfbb8b62e7b10f1d:-moz-placeholder{white-space:pre}.inputbox.jsx-bfbb8b62e7b10f1d::-moz-placeholder{white-space:pre}.inputbox.jsx-bfbb8b62e7b10f1d:-ms-input-placeholder{white-space:pre}.inputbox.jsx-bfbb8b62e7b10f1d::-ms-input-placeholder{white-space:pre}.inputbox.jsx-bfbb8b62e7b10f1d::placeholder{white-space:pre}.inputbox.hasContent.jsx-bfbb8b62e7b10f1d{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.send-button.jsx-bfbb8b62e7b10f1d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:24px;height:24px;background:var(--background-highest);color:var(--foreground-dimmest);border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.send-button.jsx-bfbb8b62e7b10f1d:focus{outline:none}.send-button.isValid.jsx-bfbb8b62e7b10f1d{background:var(--accent-primary-default);color:var(--white);cursor:pointer}.send-button.isValid.jsx-bfbb8b62e7b10f1d:hover{background:var(--accent-primary-default)}.send-button.isValid.jsx-bfbb8b62e7b10f1d:active{background:var(--accent-primary-default)}.mention-suggestions-container.jsx-bfbb8b62e7b10f1d{padding-top:1em;display:grid;grid-row-gap:var(--space-4);overflow:hidden}.mention-suggestion.jsx-bfbb8b62e7b10f1d{display:grid;grid-template-columns:-webkit-min-content -webkit-max-content;grid-template-columns:min-content max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--space-8);padding:var(--space-8)0;cursor:pointer;color:var(--foreground-default)}.mention-suggestion.selected.jsx-bfbb8b62e7b10f1d{background-color:var(--background-root)}.mention-suggestion.selected.jsx-bfbb8b62e7b10f1d>*.jsx-bfbb8b62e7b10f1d{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}'})]})}));S.displayName="ThreadInputForwarded",t.Z=S},2666:function(e,t){t.Z=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,o=e.messages[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;c.user&&(t[c.user.id]=c.user)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return Object.values(t)}},7842:function(e,t,n){n.d(t,{Z:function(){return i}});var r=["TextMessageContentType","PreviewMessageContentType"];function i(e){var t=[],n=null,i=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l,u,d,f,p=c.value;if(!n||(null===p||void 0===p||null===(l=p.user)||void 0===l?void 0:l.id)!==(null===n||void 0===n||null===(u=n.user)||void 0===u?void 0:u.id)||(null===p||void 0===p||null===(d=p.anchor)||void 0===d?void 0:d.id)!==(null===n||void 0===n?void 0:n.anchorId)||!r.includes(n.messageType)||!r.includes(p.content.__typename)||new Date(p.timeCreated).getTime()-new Date(n.timeCreated).getTime()>6e5)n&&t.push(n),n={user:p.user,timeCreated:p.timeCreated,anchorId:null===p||void 0===p||null===(f=p.anchor)||void 0===f?void 0:f.id,messages:[p],messageType:p.content.__typename};else n.messages.push(p)}}catch(h){a=!0,o=h}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n&&t.push(n),t}},49630:function(e,t,n){n.d(t,{Ft:function(){return h},Vy:function(){return g},kL:function(){return v}});var r=n(47568),i=n(10253),a=n(34051),o=n.n(a),c=n(67294),s=n(92876),l=n(78120),u=n(86292);function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(t,n,r){var i,a,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.path&&"number"===typeof t.indexStart&&"number"===typeof t.indexEnd&&t.otVersion){e.next=2;break}return e.abrupt("return");case 2:if(r!==t.otVersion){e.next=4;break}return e.abrupt("return",{path:t.path,indexStart:t.indexStart,indexEnd:t.indexEnd,otVersion:t.otVersion});case 4:return i=r,a=window.performance.now(),c=function(){(0,u.j)(u.U3.ANNOTATION_FASTFORWARDED,{opCount:i-t.otVersion,anchorId:t.id,flagPid1Fastforwards:!0,time:window.performance.now()-a})},e.next=9,n({indexStart:t.indexStart,indexEnd:t.indexEnd,versionFrom:t.otVersion,versionTo:i});case 9:return s=e.sent,c(),e.abrupt("return",{path:t.path,indexStart:s.indexStart,indexEnd:s.indexEnd,otVersion:i});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(99408);function h(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(o().mark((function e(t){var n,r,i,a,c,u,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.anchor,r=t.version,i=t.transformSelection,a=t.content,n.path){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,d(n,i,r);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",null);case 8:return f=function(){},p=function(){try{for(var e=l.xv.of(a.split("\n")),t=e.lineAt(c.indexStart),n=e.lineAt(c.indexEnd),r=[],i=t.number===n.number?Math.max(0,t.number-1):t.number,o=Math.min(e.lines,n.number+1),u=i;u<=o;u++)r.push(e.line(u).text);return{startLineNumber:i,lines:r}}catch(d){s.Tb(d)}},e.abrupt("return",{anchor:n,newSelection:c,newPosition:undefined,selectedContent:u,getHighlight:f,getSnippet:p});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=(0,p.Z)().fs,n=c.useRef(null),r=c.useRef(null),a=(0,i.Z)(c.useState(!1),2),o=a[0],s=a[1];return c.useEffect((function(){if(e){var i=function(){r.current=null,s(!1)},a=t.watchOtFile(e,{onReady:function(e){var t=e.transformSelection,i=e.initialContent;n.current=i.toString(),r.current=t,s(!0)},onMoveOrDelete:function(){i()},onError:function(){i()},onChange:function(e){var t=e.latestContent;n.current=t}});return function(){i(),a()}}}),[e,t]),{contentRef:n,transformSelectionRef:r,loadedFile:o}}function g(e){var t=(0,p.Z)().fs,n=(0,i.Z)(c.useState(null),2),r=n[0],a=n[1],o=v(null===e||void 0===e?void 0:e.path),s=o.contentRef,l=o.loadedFile,u=o.transformSelectionRef;return c.useEffect((function(){(null===e||void 0===e?void 0:e.path)&&l&&u.current&&null!==s.current&&h({anchor:e,version:t.getOTVersion(e.path),transformSelection:u.current,content:s.current}).then((function(e){a(e)})).catch((function(){a(null)}))}),[t,e,l]),r}},20934:function(e,t,n){n.d(t,{Q:function(){return a},c:function(){return i}});var r=n(91131),i=(0,r.cn)(!1),a=(0,r.cn)(null)},83223:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(10253),i=n(67294),a=n(63377),o=n(90317);function c(e){var t=(0,a.Z)(),n=(0,r.Z)((0,o.nAY)(),1)[0];i.useEffect((function(){if(e){var r=e.messages.filter((function(e){return!e.seen})).map((function(e){return e.id}));0!==r.length&&n({variables:{replId:t,threadId:e.id,messageIds:r},optimisticResponse:{markMessagesAsSeen:{messages:r.map((function(e){return{id:e,seen:!0,__typename:"AnnotationMessage"}})),__typename:"AnnotationMessageList"}}})}}),[t,e,n])}},722:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(14924),i=n(26042),a=n(69396),o=n(10253),c=n(67294),s=n(90317),l=n(81979);function u(e){var t=c.useContext(l.Z).users,n=(0,o.Z)(c.useState({}),2),u=n[0],d=n[1],f=c.useRef(null),p=c.useCallback((function(){var e={};for(var t in u)Date.now()-u[t].time<1e3&&(e[t]=u[t]);d(e)}),[u,d]);return(0,s.ig3)({variables:{threadId:e},onSubscriptionData:function(n){var o,c,s=n.subscriptionData;if(null===(o=s.data)||void 0===o?void 0:o.threadPreview){var l=null===(c=s.data)||void 0===c?void 0:c.threadPreview;if("number"===typeof l.userId){var u=new Date,h=u.toJSON();d((function(n){return(0,a.Z)((0,i.Z)({},n),(0,r.Z)({},l.userId,{time:u.getTime(),user:t.find((function(e){return e.id===l.userId})),id:l.messageId,currentUserIsAuthor:!1,timeCreated:h,timeUpdated:h,anchor:{id:e},content:{__typename:"PreviewMessageContentType",preview:l.message}}))})),f.current&&clearTimeout(f.current),f.current=setTimeout(p,2e3)}}},skip:!e}),c.useMemo((function(){return Object.values(u)}),[u])}},84856:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(90317),i=n(63377);function a(){var e,t=(0,i.Z)(),n=(0,r.LSE)({variables:{replId:t}}).data;if("Repl"!==(null===n||void 0===n?void 0:n.repl.__typename))return[];var a=[];(null===(e=n.repl.owner)||void 0===e?void 0:e.username)&&"User"===n.repl.owner.__typename&&a.push(n.repl.owner);var o=!0,c=!1,s=void 0;try{for(var l,u=n.repl.permissions[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d,f=l.value;(null===(d=f.user)||void 0===d?void 0:d.username)&&a.push(f.user)}}catch(p){c=!0,s=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}return a}},95984:function(e,t,n){n.d(t,{R$:function(){return te},Wo:function(){return $},D2:function(){return V},XZ:function(){return re},JJ:function(){return J},sN:function(){return ae},ZP:function(){return ie},s3:function(){return ee}});var r=n(14924),i=n(26042),a=n(69396),o=n(10253),c=n(35944),s=n(67294),l=n(81255),u=n(1144),d=n(69346),f=n(17556),p=n(7286),h=n(87653),m=n(64080),v=n(88808),g=n(86514),b=n(75026),x=n(96659),y=n(41034),Z=n(8527),w=n(46702),k=n(93160),E=n(33279),_=n(43530),C=n(17713),S=n(87514),T=n(79688),I=n(92876),j=n(86292),R=n(44044),N=n(91674),P=n(55528),D=n(58823),B=n(99408),O=n(77365),A=n(29163),z=n(51995),U=n(8941),L=n(97813),G=n(41656),X=n(93058),F=n(15682),M=n(44676),W=n(37424);function H(e){var t=e.view,n=e.metadata,r=e.closeMenu,i=n.text,a=n.icon,f=(0,X.Z)().showError,p=s.useRef(!1),h=(0,o.Z)(s.useState(!1),2),m=h[0],v=h[1],g=(0,o.Z)(s.useState(null),2),b=g[0],x=g[1],y=(0,B.Z)().fs,Z=(0,L.Z)(),w=(0,P.Z)(Z||""),k=(0,W.H)(),E=k("label"),_=k("menu"),C=s.useRef(null),S=(0,o.Z)((0,F.XZ)(C,!1),4),T=(S[0],S[1]),H=S[2],V=S[3];return(0,F.Ym)(T,C),s.useEffect((function(){if(w&&Z&&m&&!p.current){var e=t.state,n=e.selection.main,r={start:(0,G.s)(e.doc,n.from),end:(0,G.s)(e.doc,n.to)};p.current=!0,w.request.codeActions(Z,r).then((function(e){if((0,j.j)(j.U3.EDITOR_CONTEXT_MENU_CODE_ACTIONS_REQUESTED,{success:!("error"in e),numActions:"result"in e&&e.result?e.result.length:null}),"error"in e)return p.current=!1,x([]),f("Something went wrong fetching code actions"),void I.Tb(new Error(e.error.message));null!==e.result&&0!==e.result.length?x(e.result):x([])}))}}),[w,m,Z,b,t,f]),(0,c.BX)(d.Z,{tag:"li",onClick:function(e){e.stopPropagation(),v((function(e){return!e}))},children:[(0,c.BX)(d.Z,{css:[R.gU.listItem,l.l0.p(8),l.l0.flex.row,l.l0.align.center],children:[a,(0,c.tZ)(d.Z,{css:[l.l0.pl(8)],children:(0,c.tZ)(u.x,{id:E,children:i})}),(0,c.tZ)(d.Z,{css:[l.l0.position.absolute,l.l0.right(4)],children:(0,c.tZ)(A.Z,{alt:"Toggle Code Actions",tooltipHidden:!0,"aria-expanded":m,"aria-controls":_,onClick:function(){V(),v((function(e){return!e}))},innerRef:C,onKeyDown:H,children:(0,c.tZ)(U.Z,{rotate:m?90:0,style:{transition:"200ms ease"}})})})]}),m&&!b?(0,c.BX)(d.Z,{css:[l.l0.p(8),l.l0.flex.row,l.l0.align.center],children:[(0,c.tZ)(u.x,{color:"dimmer",children:"Loading actions..."}),(0,c.tZ)(d.Z,{css:[l.l0.align.center,l.l0.justify.center,l.l0.position.absolute,l.l0.right(4),l.l0.width(24),l.l0.height(24)],children:(0,c.tZ)(O.Z,{})})]}):null,m&&b&&w?(0,c.BX)(d.Z,{tag:"ul",role:"menubar","aria-orientation":"vertical","aria-labelledby":E,id:_,children:[b.map((function(e,t){return(0,c.tZ)(M.Z,{onClick:function(){if(N.Command.is(e))return w.request.executeCommand(e.command,e.arguments),void r();var t=e.edit,n=e.command;t&&(0,D.w)({edit:t,fs:y,client:w}),n&&w.request.executeCommand(n.command,n.arguments),r()},children:(0,c.tZ)(d.Z,{css:[R.gU.listItem,l.l0.p(8),l.l0.flex.row,l.l0.align.center],children:(0,c.BX)(d.Z,{css:[l.l0.flex.row,l.l0.justify.spaceBetween,l.l0.width("100%")],children:[(0,c.tZ)(u.x,{css:[l.l0.maxWidth("90%")],children:e.title}),(0,c.tZ)(d.Z,{tag:"span",children:(0,c.tZ)(z.Z,{size:12})})]})})},t)})),0===b.length?(0,c.tZ)(d.Z,{css:[l.l0.p(8),l.l0.flex.row,l.l0.align.center],children:(0,c.tZ)(u.x,{color:"dimmer",children:"No actions available"})}):null]}):null]})}var V,q,K=n(88961),Q=n(77836),Y=n(15085),J="Divider";!function(e){e.Cut="Cut",e.Copy="Copy",e.Paste="Paste",e.JumpToDefinition="JumpToDefinition",e.JumpToTypeDefinition="JumpToTypeDefinition",e.JumpToImplementation="JumpToImplementation",e.FindReferences="FindReferences",e.Rename="Rename",e.SelectAllOccurrences="SelectAllOccurrences",e.CodeActions="CodeActions",e.CopyLinkToPos="CopyLinkToPos",e.ToggleBreakpoint="ToggleBreakpoint",e.StartThread="StartThread",e.ExplainCode="ExplainCode",e.LookForErrors="LookForErrors",e.GenerateCode="GenerateCode",e.SearchCode="SearchCode"}(V||(V={}));var $=(q={},(0,r.Z)(q,V.Cut,{text:"Cut",icon:(0,c.tZ)(x.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"X"}}),(0,r.Z)(q,V.Copy,{text:"Copy",icon:(0,c.tZ)(y.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"C"}}),(0,r.Z)(q,V.Paste,{text:"Paste",icon:(0,c.tZ)(Z.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"V"}}),(0,r.Z)(q,V.JumpToDefinition,{text:"Jump to definition",icon:(0,c.tZ)(w.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"F12"}}),(0,r.Z)(q,V.JumpToTypeDefinition,{text:"Jump to type definition",icon:(0,c.tZ)(S.Z,{})}),(0,r.Z)(q,V.JumpToImplementation,{text:"Jump to implementation",icon:(0,c.tZ)(T.Z,{})}),(0,r.Z)(q,V.FindReferences,{text:"Find references",icon:(0,c.tZ)(h.Z,{}),keyboardShortcut:{shiftKey:!0,key:"F12"}}),(0,r.Z)(q,V.Rename,{text:"Rename all occurrences",icon:(0,c.tZ)(m.Z,{}),keyboardShortcut:{key:"F2"}}),(0,r.Z)(q,V.SelectAllOccurrences,{text:"Select all occurrences",icon:(0,c.tZ)(p.Z,{}),keyboardShortcut:{key:"F2",cmdOrCtrlKey:!0}}),(0,r.Z)(q,V.CodeActions,{text:"Code actions",icon:(0,c.tZ)(C.Z,{})}),(0,r.Z)(q,V.CopyLinkToPos,{text:"Copy link to position",icon:(0,c.tZ)(v.Z,{})}),(0,r.Z)(q,V.ToggleBreakpoint,{text:"Toggle breakpoint",icon:(0,c.tZ)(g.Z,{})}),(0,r.Z)(q,V.StartThread,{text:"Start thread",icon:(0,c.tZ)(b.Z,{}),keyboardShortcut:{key:"/",altKey:!0}}),(0,r.Z)(q,V.LookForErrors,{text:"Look for errors",icon:(0,c.tZ)(K.Z,{})}),(0,r.Z)(q,V.ExplainCode,{text:"Explain code",icon:(0,c.tZ)(_.Z,{})}),(0,r.Z)(q,V.GenerateCode,{text:"Generate code",icon:(0,c.tZ)(Q.Z,{}),keyboardShortcut:{key:"g",altKey:!0}}),(0,r.Z)(q,V.SearchCode,{text:"Search code",icon:(0,c.tZ)(h.Z,{})}),q);function ee(e){return e===J}var te=35;function ne(e){var t=e.dom,n=e.verticalOffset,r=e.coords,i=r.x,a=r.y,o=t.getBoundingClientRect().bottom,c=document.documentElement.clientWidth;if(i+275>c&&(i=c-275-5),a+n>o){var s=a-n;return s<0?{x:i+5,y:0}:{x:i,y:s}}return{x:i,y:a}}function re(e){var t=e.view,n=e.coords,r=e.closeMenu,i=e.verticalOffset,a=e.children,u=e.width,p=void 0===u?275:u,h=t.dom,m=(0,f.Z)(r,[]),v=(0,o.Z)(s.useState((function(){return ne({dom:h,verticalOffset:i,coords:n})})),2),g=v[0],b=g.x,x=g.y,y=v[1];return s.useEffect((function(){y(ne({dom:h,verticalOffset:i,coords:n}))}),[n,i,h]),(0,c.tZ)(k.Z,{innerRef:m,background:"higher",className:"cm-custom-context-menu",css:[l.l0.position.fixed,l.l0.flex.column,l.l0.justify.center,l.l0.borderRadius(8),l.l0.shadow(1),l.l0.width(p),l.l0.zIndex(101),{border:"1px solid ".concat(l.TV.outlineDimmest)},{left:b,top:x}],children:(0,c.tZ)(Y.ZP,{children:(0,c.tZ)(F.uP,{options:{direction:"vertical"},children:(0,c.tZ)(d.Z,{tag:"ul",role:"menubar","aria-orientation":"vertical","aria-label":"Context",children:a})})})})}function ie(e){var t=e.view,n=e.closeMenu,r=e.actions,o=e.onAction,s=r.map((function(e){return ee(e)?1:te})).reduce((function(e,t){return e+t}),0);return(0,c.tZ)(re,(0,a.Z)((0,i.Z)({verticalOffset:s},e),{children:r.map((function(e,i){return ee(e)?(0,c.tZ)(d.Z,{css:[{borderBottom:"1px solid var(--background-highest)"}]},i):e===V.CodeActions?(0,c.tZ)(H,{view:t,closeMenu:n,metadata:$[e]},e):e===V.StartThread&&t.state.selection.main.empty?null:(0,c.tZ)(M.Z,{onClick:function(){o(e),n()},children:(0,c.tZ)(oe,{item:e,isFirst:0===i,isLast:i===r.length-1})},e)}))}))}function ae(e){var t=e.children,n=e.isFirst,r=e.isLast;return(0,c.tZ)(d.Z,{css:[l.l0.p(8),l.l0.flex.row,l.l0.align.center,n&&{borderTopLeftRadius:4,borderTopRightRadius:4},r&&{borderBottomLeftRadius:4,borderBottomRightRadius:4}],children:t})}function oe(e){var t=e.item,n=e.isFirst,r=e.isLast,i=$[t],a=i.text,o=i.icon,s=i.keyboardShortcut;return(0,c.BX)(ae,{isFirst:n,isLast:r,children:[o,(0,c.tZ)(d.Z,{css:[l.l0.px(8)],children:(0,c.tZ)(u.x,{children:a})}),s?(0,c.tZ)(d.Z,{css:[l.l0.position.absolute,l.l0.right(4)],children:(0,c.tZ)(E.Z,{shortcut:s,small:!0,hideBorder:!0})}):null]})}},44676:function(e,t,n){var r=n(10253),i=n(35944),a=n(15682),o=n(60731),c=n(67294),s=(0,o.KD)("button");t.Z=function(e){var t=e.onClick,n=e.children,l=c.useRef(null),u=(0,r.Z)((0,a.XZ)(l,!1),4),d=u[0],f=u[1],p=u[2],h=u[3];return(0,a.Ym)(f,l),(0,i.tZ)(s,{ref:l,role:"menuitem",css:[o.d$,o.gU.listItem],onClick:function(e){h(),t(e)},onKeyDown:p,tabIndex:d,children:n})}},65674:function(e,t,n){n.d(t,{_j:function(){return o},gm:function(){return v},yK:function(){return s},Gj:function(){return a},f3:function(){return g},tl:function(){return u},Kw:function(){return l},fI:function(){return b},r4:function(){return d},kJ:function(){return f},oV:function(){return p},EE:function(){return x},eR:function(){return h},ZF:function(){return y}});var r=n(10253),i=n(31557),a={regexp:/-?\b\d+\.?\d*\b/g,cursor:"ew-resize",onDrag:function(e,t,n){var r=Number(e)+n.movementX;isNaN(r)||t(r.toString())}},o={regexp:/true|false/g,cursor:"pointer",onClick:function(e,t){switch(e){case"true":return t("false");case"false":return t("true")}}};function c(e){var t=new RegExp("".concat(e,"\\(-?\\b\\d+\\.?\\d*\\b\\s*(,\\s*-?\\b\\d+\\.?\\d*\\b)?"),"g"),n=new RegExp("".concat(e,"\\((?<x>-?\\b\\d+\\.?\\d*\\b)\\s*(,\\s*(?<y>-?\\b\\d+\\.?\\d*\\b))?"));return{regexp:t,cursor:"move",onDrag:function(t,r,i){var a,o,c=n.exec(t),s=Number(null===c||void 0===c||null===(a=c.groups)||void 0===a?void 0:a.x),l=Number(null===c||void 0===c||null===(o=c.groups)||void 0===o?void 0:o.y);isNaN(s)||(isNaN(l)&&(l=s),r("".concat(e,"(").concat(s+i.movementX,", ").concat(l+i.movementY)))}}}var s=c("vec2"),l=c("ellipse"),u=c("circle"),d=c("point"),f=c("rect"),p=c("square"),h=c("vertex");function m(e){var t=new RegExp("".concat(e,"\\(.*\\)"),"g"),n=new RegExp("".concat(e,"\\((?<r>\\d+)\\s*,\\s*(?<g>\\d+)\\s*,\\s*(?<b>\\d+)\\)"));return{regexp:t,cursor:"pointer",onClick:function(t,i){var a,o,c,s=n.exec(t),l=Number(null===s||void 0===s||null===(a=s.groups)||void 0===a?void 0:a.r),u=Number(null===s||void 0===s||null===(o=s.groups)||void 0===o?void 0:o.g),d=Number(null===s||void 0===s||null===(c=s.groups)||void 0===c?void 0:c.b),f=document.createElement("input");f.type="color",isNaN(l+u+d)||(f.value=function(e,t,n){return"#"+e.toString(16)+t.toString(16)+n.toString(16)}(l,u,d)),f.addEventListener("input",(function(t){var n=t.target;if(n.value){var a=(0,r.Z)(function(e){var t=parseInt(e.substring(1),16);return[t>>16&255,t>>8&255,255&t]}(n.value),3),o=a[0],c=a[1],s=a[2];i("".concat(e,"(").concat(o,", ").concat(c,", ").concat(s,")"))}})),f.click()}}}var v=m("rgb"),g=m("background"),b=m("fill"),x=m("stroke"),y={regexp:/https?:\/\/[^\s)"]+/g,cursor:"pointer",onClick:function(e){(0,i.Z)(e)&&window.open(e,"_blank")}}},98284:function(e,t,n){n.d(t,{Fy:function(){return E},Vw:function(){return _},dp:function(){return S},u5:function(){return C}});var r=n(10253),i=n(35944),a=n(60536),o=n.n(a),c=n(67294),s=n(24561),l=n(16064),u=n(57731),d=n(94184),f=n.n(d),p=n(47421),h=n(63736),m=n(69346),v=n(81255),g=n(29163),b=n(48869),x=n(1144),y=n(34847),Z=n(59006),w=n(41656);function k(e){var t=e.height,n=e.loading;return(0,i.BX)("div",{className:o().dynamic([["5a8d0f5b84417a3b",[t]]])+" "+(f()("loader",{loading:n})||""),children:[(0,i.BX)(s.ZP,{viewBox:"0 0 100 36",primaryColor:"var(--background-highest)",secondaryColor:"var(--background-higher)",children:[(0,i.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"4",height:"4",className:o().dynamic([["5a8d0f5b84417a3b",[t]]])}),(0,i.tZ)("rect",{x:"6",y:"0",rx:"2",ry:"2",width:"92",height:"4",className:o().dynamic([["5a8d0f5b84417a3b",[t]]])})]}),(0,i.tZ)(o(),{id:"5a8d0f5b84417a3b",dynamic:[t],children:".loader.__jsx-style-dynamic-selector{padding:var(--space-8);display:none}.loader.loading.__jsx-style-dynamic-selector{height:".concat(t,";display:block}")})]})}function E(e){var t=e.maxHeight,n=e.minHeight,a=e.extensions,s=void 0===a?[]:a,u=e.allowScroll,d=void 0===u||u,h=e.fontSize,m=e.hideGutter,g=e.path,b=e.snippet,x=e.style,y=e.elevation,E=e.onNavigateToCode,_=(0,l.Z)({hideGutter:m,filePath:g,fontSize:h,readOnly:!0}),C=_.view,S=_.ref,T=(0,r.Z)(c.useState(!1),2),I=T[0],j=T[1],R=c.useRef(v.TV.backgroundDefault),N=(0,Z.Z)({view:C});return c.useEffect((function(){if(C&&b&&g){var e="lines"in b?b.lines.join("\n"):b.doc;C.dispatch({changes:{from:0,to:C.state.doc.length,insert:e},effects:N.reconfigure([(0,p.Eu)({formatNumber:function(e){return String(e+b.startLineNumber-1)}}),s])});var t,n={root:v.TV.backgroundRoot,higher:v.TV.backgroundHigher,highest:v.TV.backgroundHighest,default:v.TV.backgroundDefault};return R.current=y&&null!==(t=n[y])&&void 0!==t?t:v.TV.backgroundDefault,j(!0),function(){C.dispatch({effects:N.reconfigure([])})}}}),[C,b,g,N,s,y]),(0,i.BX)("div",{style:x,className:o().dynamic([["7371a85c4a264eca",[t||"10em",n,R.current,R.current]]]),children:[(0,i.tZ)("div",{ref:S,onClick:function(e){if(E&&C){var t=e.clientX,n=e.clientY,r=C.posAtCoords({x:t,y:n}),i=null!==r?(0,w.s)(C.state.doc,r):null;E(i)}},className:o().dynamic([["7371a85c4a264eca",[t||"10em",n,R.current,R.current]]])+" "+(f()("snippet-editor",{"no-scroll":!d,loading:!I})||"")}),(0,i.tZ)(k,{loading:!I,height:t}),(0,i.tZ)(o(),{id:"7371a85c4a264eca",dynamic:[t||"10em",n,R.current,R.current],children:".snippet-editor.__jsx-style-dynamic-selector .cm-scroller{max-height:".concat(t||"10em",";min-height:").concat(n,";scrollbar-width:thin;outline:none}.snippet-editor.__jsx-style-dynamic-selector .cm-content{padding-bottom:0}.snippet-editor.__jsx-style-dynamic-selector .cm-editor{background-color:").concat(R.current,"}.snippet-editor.loading.__jsx-style-dynamic-selector{display:none}.snippet-editor.no-scroll.__jsx-style-dynamic-selector .cm-scroller{overflow:hidden}.snippet-editor.__jsx-style-dynamic-selector ::-webkit-scrollbar{width:4px}.snippet-editor.__jsx-style-dynamic-selector .cm-gutters{min-width:unset;background-color:").concat(R.current,"}")})]})}function _(e){var t=e.path,n=e.doc,a=e.extensions,o=void 0===a?[]:a,s=e.numMatches,l=e.onNavigateToCode,u=e.initiallyExpanded,d=(0,r.Z)(c.useState(u),2),f=d[0],p=d[1],Z=f?"block":"none",w=f?180:0,k=f?"Collapse snippet":"Expand snippet";return(0,i.BX)(m.Z,{children:[(0,i.BX)(m.Z,{css:[v.l0.flex.row,v.l0.p(4),{justifyContent:"space-between"}],children:[(0,i.BX)(m.Z,{css:[v.l0.rowWithGap(8),v.l0.center,v.l0.p(4)],children:[(0,i.tZ)(h.Z,{path:t}),(0,i.tZ)(x.x,{children:t}),(0,i.tZ)(x.x,{color:"dimmest",children:(0,y.Z)("match",s,!0)})]}),(0,i.tZ)(g.Z,{alt:k,tooltipHidden:!0,onClick:function(){return p((function(e){return!e}))},children:(0,i.tZ)(b.Z,{rotate:w,style:{transition:"200ms ease"}})})]}),(0,i.tZ)(m.Z,{css:[v.l0.p(4),{display:Z}],children:(0,i.tZ)(E,{path:t,snippet:{doc:n,startLineNumber:1},extensions:o,maxHeight:"max-content",allowScroll:!0,hideGutter:!0,onNavigateToCode:l})})]})}function C(e){var t=e.path,n=e.snippet,r=e.maxHeight,a=e.minHeight,c=e.extensions,s=void 0===c?[]:c,l=e.allowScroll,u=void 0===l||l,d=e.onNavigateToCode,f=function(e){if(!e)return"";var t="lines"in e?e.lines.length:e.doc.lines;return(0,y.Z)("line",t,!0)}(n);return(0,i.BX)("div",{className:"jsx-ea81418c08a690a7 snippet-container",children:[(0,i.BX)("div",{className:"jsx-ea81418c08a690a7 snippet-header",children:[(0,i.BX)("div",{className:"jsx-ea81418c08a690a7 path-container",children:[(0,i.tZ)("span",{className:"jsx-ea81418c08a690a7 lang-icon",children:(0,i.tZ)(h.Z,{path:t,fill:"var(--accent-primary-default)"})}),(0,i.tZ)("span",{className:"jsx-ea81418c08a690a7 path",children:t}),(0,i.BX)("span",{className:"jsx-ea81418c08a690a7 lines",children:["  ","\u2022 ",f]})]}),(0,i.tZ)("div",{onClick:d,className:"jsx-ea81418c08a690a7 jump-to-code",children:"Jump to code"})]}),(0,i.tZ)(E,{path:t,fontSize:12,snippet:n,maxHeight:r||"54pt",minHeight:a,extensions:s,allowScroll:u}),(0,i.tZ)(o(),{id:"ea81418c08a690a7",children:".snippet-container.jsx-ea81418c08a690a7{display:grid;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);grid-gap:var(--space-4)}.snippet-header.jsx-ea81418c08a690a7{display:grid;grid-auto-flow:column;grid-template-columns:1fr -webkit-max-content;grid-template-columns:1fr max-content;padding:var(--space-4);grid-gap:var(--space-8)}.path-container.jsx-ea81418c08a690a7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.lang-icon.jsx-ea81418c08a690a7{width:20px;height:20px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.path.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-default);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.lines.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-dimmer);white-space:pre}.jump-to-code.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-default);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}function S(e){var t=e.extensions,n=void 0===t?[]:t,r=e.timeString,a=e.message,c=e.onClick,s=e.snippet,l=e.avatar,d=e.path;return(0,i.BX)("div",{onClick:c,className:"jsx-ac67521191136beb snippet-container",children:[(0,i.tZ)(E,{path:d,snippet:s,fontSize:12,maxHeight:"36pt",minHeight:"36pt",allowScroll:!1,style:{opacity:.7},extensions:n}),(0,i.BX)("div",{className:"jsx-ac67521191136beb snippet-first-message",children:[l?(0,i.tZ)(u.Z,{src:l.src,size:24,alt:l.name}):(0,i.tZ)("div",{className:"jsx-ac67521191136beb"}),(0,i.tZ)("div",{className:"jsx-ac67521191136beb text",children:a}),(0,i.tZ)("div",{className:"jsx-ac67521191136beb time",children:r})]}),(0,i.tZ)(o(),{id:"ac67521191136beb",children:".snippet-container.jsx-ac67521191136beb{display:grid;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);overflow:hidden;grid-gap:var(--space-4);max-width:100%;cursor:pointer;-webkit-transition:-webkit-transform.1s ease-in-out;-moz-transition:-moz-transform.1s ease-in-out;-o-transition:-o-transform.1s ease-in-out;transition:-webkit-transform.1s ease-in-out;transition:-moz-transform.1s ease-in-out;transition:-o-transform.1s ease-in-out;transition:transform.1s ease-in-out}.snippet-container.jsx-ac67521191136beb:hover{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}.snippet-first-message.jsx-ac67521191136beb{border-top:1px solid var(--outline-dimmest);font-size:var(--font-size-default);background:var(--background-root);color:var(--foreground-default);padding:var(--space-8);display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content 1fr -webkit-max-content;grid-template-columns:min-content 1fr max-content;grid-gap:var(--space-8);-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.text.jsx-ac67521191136beb{-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.time.jsx-ac67521191136beb{font-size:var(--font-size-small)}"})]})}},58142:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(51438),i=n(28668),a=n(25171),o=n(47421),c=n(78120),s=n(81255),l=n(34847),u=new(function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).elementClass="cm-gutterElement-hidden",e}return n.prototype.toDOM=function(){var e=document.createElement("span");e.classList.add("cm-hidden-lines-gutter");var t=document.createElement("span");return t.classList.add("cm-dot"),e.appendChild(t),e},n}(o.SJ)),d=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).numLines=e,i}var o=n.prototype;return o.eq=function(e){return e.numLines===this.numLines},o.toDOM=function(){var e=document.createElement("span");return e.textContent="".concat(this.numLines," hidden ").concat((0,l.Z)("line",this.numLines)),e.className="cm-hidden-lines",e},n}(o.l9),f=o.p.mark({class:"cm-searchResultMatch"}),p=o.tk.baseTheme({".cm-hidden-lines":{color:"var(--foreground-dimmer)",backgroundColor:"var(--background-highest)",display:"inline-block",width:"100%"},".cm-hidden-lines-gutter":{backgroundColor:"var(--background-highest)",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},".cm-dot":{height:"5px",width:"5px",backgroundColor:"var(--foreground-dimmest)",borderRadius:"50%",display:"inline-block"},".cm-tooltip .cm-scroller":{border:"2px solid var(--background-highest)",borderRadius:"var(--border-radius-4)"},".cm-tooltip .cm-scroller:hover":{border:"2px solid var(--accent-primary-dimmest)",boxShadow:"var(--shadow-1)",cursor:"pointer"},".cm-searchResultMatch":{color:s.TV.foregroundDefault,backgroundColor:s.TV.accentPrimaryDimmest,outline:s.TV.accentPrimaryDimmer+" solid 1px"},".cm-searchResultMatch span":{color:s.TV.foregroundDefault},".cm-tooltip .cm-searchResultMatch:hover":{opacity:.8},".cm-tooltip .cm-gutterElement":{display:"flex",marginTop:0,padding:"0 !important",width:"var(--space-24) !important",textAlign:"center",alignItems:"center",justifyContent:"center",lineHeight:"21px"},".cm-tooltip .cm-line":{padding:0},".cm-tooltip .cm-gutters":{padding:0},".cm-tooltip .cm-content":{paddingTop:0},".cm-tooltip .cm-lineWrapping":{whiteSpace:"pre"},".cm-tooltip .cm-cursor":{display:"none"},".cm-tooltip .cm-selectionBackground":{display:"none"}});function h(e,t){var n=e.sort((function(e,t){return e.from-t.from})),r=n.map((function(e){var t=e.from,n=e.to;return f.range(t,n)})),i=o.lg.define((function(){return{}}),{decorations:function(){return o.p.set(r)}}),a=function(e,t){var n=[],r=1;e.forEach((function(i,a){var o=t.lineAt(i.from),c=t.lineAt(i.to);r<o.number-2&&n.push({startLine:r,endLine:o.number-2}),r=c.number+2,a===e.length-1&&r<t.lines&&n.push({startLine:r,endLine:t.lines})}));var i=n.map((function(e){var n=t.line(e.startLine),r=t.line(e.endLine);return o.p.replace({widget:new d(e.endLine-e.startLine+1)}).range(n.from,r.to)})),a=n.map((function(e){var n=t.line(e.startLine);return o.p.line({class:"cm-line-hidden"}).range(n.from)})),s=c.QQ.define({create:function(){return o.p.set(i)},update:function(e){return e},provide:function(e){return o.tk.decorations.from(e)}}),l=c.QQ.define({create:function(){return o.p.set(a)},update:function(e){return e},provide:function(e){return o.tk.decorations.from(e)}}),f=n.map((function(e){var n=t.line(e.startLine);return u.range(n.from)})),h=o.p2.of(c.Xs.of(f));return[s,l,p,h]}(n,t);return[i,a]}},60523:function(e,t,n){var r=n(67294).createContext(null);t.Z=r},78823:function(e,t,n){n.d(t,{nE:function(){return S},OQ:function(){return E},qi:function(){return b},UQ:function(){return x},YM:function(){return w},PQ:function(){return C},ZS:function(){return _},eR:function(){return Z},zj:function(){return I},cR:function(){return k}});var r=n(51438),i=n(14924),a=n(28668),o=n(26042),c=n(69396),s=n(25171),l=n(35944),u=n(78120),d=n(410),f=n(60731),p=n(47421),h=n(73935),m=n(65632),v=(n(67294),function(e){var t=e.isOpen;return(0,l.tZ)(f.hU,{alt:"View threads",size:24,className:"thread-indicator",css:[f.l0.width(20),f.l0.height(20),f.l0.transition.snappy,f.l0.cursor.pointer,f.l0.display.flex,f.l0.borderRadius(4),f.l0.color.foregroundDimmer,{borderWidth:f.TV.borderWidthDefault,borderStyle:"solid",borderColor:t?f.TV.accentPrimaryStronger:"transparent",backgroundColor:t?f.TV.accentPrimaryDefault:f.TV.backgroundHighest,outline:0},{":hover":{borderColor:f.TV.accentPrimaryDefault,background:f.TV.accentPrimaryDimmer+" !important"},svg:{width:14,height:14}}],children:(0,l.tZ)(m.Z,{})})}),g=n(34528),b=u.Py.define(),x=u.Py.define(),y=u.Py.define(),Z=u.Py.define(),w=u.Py.define(),k=p.tk.baseTheme({".replit-thread-highlight":{background:f.TV.blueDimmest}}),E=u.QQ.define({create:function(){return{}},update:function(e,t){var n=e;return(0,d.j)(t,b,(function(e){n=e.value})),t.changes.empty?n:n=Object.values(n).map((function(e){return(0,c.Z)((0,o.Z)({},e),{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})).reduce((function(e,t){return e[t.id]=t,e}),{})}}),_=u.QQ.define({create:function(){return null},update:function(e,t){var n=e;return(0,d.j)(t,x,(function(e){var r=t.state,i=r.selection.main;n={id:e.value,indexStart:i.from,indexEnd:i.empty?Math.min(i.to+1,r.doc.length):i.to}})),(0,d.j)(t,y,(function(){n=null})),(0,d.j)(t,w,(function(){n=null})),null!==n&&(0,d.j)(t,b,(function(e){if(!n)throw new Error("expected newPlaceholder");e.value[n.id]&&(n=null)})),!t.changes.empty&&n&&(n=(0,c.Z)((0,o.Z)({},n),{indexStart:t.changes.mapPos(n.indexStart),indexEnd:t.changes.mapPos(n.indexEnd)})),n}}),C=u.QQ.define({create:function(){return null},update:function(e,t){var n=e;return(0,d.j)(t,w,(function(e){n=e.value})),(0,d.j)(t,x,(function(e){n=e.value})),n}}),S=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).id=e,a.setThreadElements=i,a}var l=n.prototype;return l.eq=function(e){return e.id===this.id},l.toDOM=function(e){var t=this,n=document.createElement("div");n.className="cm-thread-portal-widget";var r=e.dom.querySelector(".cm-scroller"),a=e.dom.querySelector(".cm-gutters");return r&&a&&(0,g.L)(n,r,a),setTimeout((function(){t.setThreadElements((function(e){return(0,c.Z)((0,o.Z)({},e),(0,i.Z)({},t.id,n))}))})),n},l.destroy=function(){var e=this;setTimeout((function(){e.setThreadElements((function(t){var n=(0,o.Z)({},t);return delete n[e.id],n}))}))},l.ignoreEvent=function(){return!0},n}(p.l9),T=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).id=e,i}return n.prototype.toDOM=function(e){var t=this,n=document.createElement("span");return n.setAttribute("aria-hidden","true"),n.className="cm-thread-indicator-widget",h.render((0,l.tZ)(v,{isOpen:e.state.field(C)===this.id}),n),n.style.cursor="pointer",n.onclick=function(n){n.stopPropagation(),n.preventDefault(),e.dispatch({effects:[w.of(e.state.field(C)===t.id?null:t.id)]})},n},n}(p.SJ),I=(0,p.v5)({class:"cm-thread-indicator-gutter",markers:function(e){var t=e.state.field(E);return u.Xs.of(Object.values(t).map((function(t){var n=e.state.doc.lineAt(Math.min(t.indexStart,t.indexEnd)).from;return new T(t.id).range(n)})),!0)},initialSpacer:function(){return new T("initial-spacer")}})},34528:function(e,t,n){function r(e,t,n){var r=t.clientWidth,i=n.clientWidth;e.style.maxWidth="".concat(r-i,"px"),e.style.position="sticky",e.style.left=i+"px"}n.d(t,{L:function(){return r}})},2230:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(26042),i=n(69396),a=n(10253),o=n(29815),c=n(67294),s=n(93058),l=n(90317),u=n(84856),d=n(63377),f=n(9583),p=n(99408),h=n(78823),m=n(9838);function v(e,t,n){var v=(0,s.Z)().showError,g=(0,d.Z)(),b=(0,m.c)("flag-typing-indicator").enabled,x=(0,m.c)("flag-typing-presence").enabled,y=(0,u.Z)().map((function(e){return e.username})),Z=(0,p.Z)().fs,w=(0,l.GDQ)({variables:{id:e}}),k=w.data,E=w.error,_=w.loading,C=w.client,S=!(!k||_||"AnnotationAnchor"===k.thread.__typename),T=c.useMemo((function(){return!k||_?null:"UserError"===k.thread.__typename?{id:e,__typename:"AnnotationAnchor",messages:[],isGeneral:!1,isResolved:!1}:"AnnotationAnchor"===k.thread.__typename?k.thread:null}),[k,e,_]),I=(0,a.Z)((0,l.tTj)({onError:function(e){return v(e.message)},update:function(e,t){var n,r;t.errors?t.errors.forEach((function(e){return v(e.message)})):"UserError"!==(null===(n=t.data)||void 0===n||null===(r=n.createThread)||void 0===r?void 0:r.__typename)||v(t.data.createThread.message)}}),1),j=I[0],R=(0,a.Z)((0,l.ALh)({onError:function(e){return v(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return v(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createThreadMessage;r&&"UserError"===r.__typename&&v(r.message)}}}),1),N=R[0],P=(0,a.Z)((0,l.YaW)({onError:function(e){return v(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return v(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.updateThread;r&&"UserError"===r.__typename&&v(r.message)}}}),1),D=P[0],B=(0,a.Z)((0,l.HjV)(),1)[0],O=function(){var e=null===k||void 0===k?void 0:k.currentUser;return e?{user:{__typename:"User",id:e.id,username:e.username,image:e.image}}:{}};return{thread:T,isPlaceholder:S,error:E,loading:_,updateThread:function(e){var t,n=e.changes,a="AnnotationAnchor"===(null===k||void 0===k||null===(t=k.thread)||void 0===t?void 0:t.__typename)?k.thread:null;if(!a)throw new Error("expected thread");D({variables:{id:a.id,changes:n},optimisticResponse:{updateThread:(0,i.Z)((0,r.Z)({},a,n),{isResolved:"boolean"===typeof n.isResolved?n.isResolved:a.isResolved})}})},finalizeThreadMessage:function(a){var c,s=a.message,u=a.messageId,d=a.highlight,p={id:u,text:s,mentions:(0,f.kW)(s,{users:(0,o.Z)(y).concat(["everyone"])}).mentions};if(S&&t&&n){var m=t.state.field(h.ZS),v={id:e,replId:g,indexStart:null===m||void 0===m?void 0:m.indexStart,indexEnd:null===m||void 0===m?void 0:m.indexEnd,otVersion:Z.getOTVersion(n),path:n};j({variables:{thread:v,message:p},optimisticResponse:{__typename:"RootMutationType",createThread:(0,i.Z)((0,r.Z)({__typename:"AnnotationAnchor"},v,O()),{messages:[(0,i.Z)((0,r.Z)({id:u,timeCreated:Date.now(),currentUserIsAuthor:!0},O()),{content:{text:s,__typename:"TextMessageContentType"},anchor:{id:v.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",seen:!0})],isResolved:!1,isGeneral:!1})}}),C.writeQuery({query:l.VOL,variables:{id:e},data:{thread:(0,i.Z)((0,r.Z)((0,i.Z)((0,r.Z)({},v),{isResolved:!1,isGeneral:!1}),O()),{messages:[(0,i.Z)((0,r.Z)({id:u,timeCreated:Date.now(),currentUserIsAuthor:!0},O()),{content:{text:s,__typename:"TextMessageContentType"},anchor:{id:v.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",seen:!0})],__typename:"AnnotationAnchor"}),currentUser:null===k||void 0===k?void 0:k.currentUser}});var b=C.readQuery({query:l.JqK,variables:{replId:g,path:n}});if(b){var x,w="ThreadsByFileResult"===(null===(x=b.threadsByFile)||void 0===x?void 0:x.__typename)?b.threadsByFile.threads:[],E=O().user;C.writeQuery({query:l.JqK,variables:{replId:g,path:n},data:{threadsByFile:{__typename:"ThreadsByFileResult",threads:(0,o.Z)(w).concat([(0,r.Z)({messageCount:1,unreadCount:0,__typename:"AnnotationAnchor",isGeneral:!1,user:E,isResolved:!1,participants:[E]},v)])}}})}}else{var _="AnnotationAnchor"===(null===k||void 0===k||null===(c=k.thread)||void 0===c?void 0:c.__typename)?k.thread:null;if(!_)throw new Error("expected thread");N({variables:{replId:g,threadId:_.id,threadMessage:p,highlight:d},optimisticResponse:{createThreadMessage:(0,i.Z)((0,r.Z)({},_),{messages:(0,o.Z)(_.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([(0,i.Z)((0,r.Z)({},O(),p),{content:{text:p.text,__typename:"TextMessageContentType"},anchor:{id:_.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})])})}})}},changeThreadMessage:function(t){var n=t.messageId,r=t.message;b&&B({variables:{threadId:e,messageId:n,message:null!==x&&void 0!==x&&x?r:null}})}}}},410:function(e,t,n){function r(e,t,n){if("effects"in e){var i=!0,a=!1,o=void 0;try{for(var c,s=e.effects[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;l.is(t)&&n(l)}}catch(m){a=!0,o=m}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}else{var u=!0,d=!1,f=void 0;try{for(var p,h=e.transactions[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){r(p.value,t,n)}}catch(m){d=!0,f=m}finally{try{u||null==h.return||h.return()}finally{if(d)throw f}}}}n.d(t,{j:function(){return r}})},41656:function(e,t,n){function r(e,t){var n=Math.max(t.line+1,1),r=e.line(Math.min(n,e.lines));if(n>e.lines)return r.to;var i=r.from+t.character;return Math.min(i,r.to)}function i(e,t){var n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}n.d(t,{R:function(){return r},s:function(){return i}})},94561:function(e,t,n){var r=n(40872),i=n(26042),a=n(69396),o=n(35944),c=n(60536),s=n.n(c);t.Z=function(e){var t=(0,r.Z)({},e);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(s(),{id:"fcfe85a13ecbf46b",children:".one.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.two.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:.1s;-moz-animation-delay:.1s;-o-animation-delay:.1s;animation-delay:.1s}.three.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes dot{\n            0% {\n              opacity: 0.1;\n            }\n            50% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0.1;\n            }\n        }@-moz-keyframes dot{\n            0% {\n              opacity: 0.1;\n            }\n            50% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0.1;\n            }\n        }@-o-keyframes dot{\n            0% {\n              opacity: 0.1;\n            }\n            50% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0.1;\n            }\n        }@keyframes dot{\n            0% {\n              opacity: 0.1;\n            }\n            50% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0.1;\n            }\n        }"}),(0,o.tZ)("span",(0,a.Z)((0,i.Z)({},t),{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"one"),children:"."})),(0,o.tZ)("span",(0,a.Z)((0,i.Z)({},t),{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"two"),children:"."})),(0,o.tZ)("span",(0,a.Z)((0,i.Z)({},t),{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"three"),children:"."}))]})}},62718:function(e,t,n){var r=n(35944),i=n(60536),a=n.n(i),o=n(67294);t.Z=function(){return(0,r.tZ)(o.Fragment,{children:(0,r.tZ)(a(),{id:"cf42b6e1693787e8",children:"body .Select{font-size:16px}body .Select-control{color:var(--foreground-default)!important;background-color:var(--background-default)!important;border:1px solid var(--foreground-dimmest)!important;-webkit-border-radius:var(--border-radius-4)!important;-moz-border-radius:var(--border-radius-4)!important;border-radius:var(--border-radius-4)!important;-webkit-transition:all.1s;-moz-transition:all.1s;-o-transition:all.1s;transition:all.1s}body .Select-control:hover{border-color:var(--foreground-default)!important}body .Select.is-focused .Select-control,body .Select.is-open .Select-control{border-color:var(--foreground-dimmer)!important}body .Select.is-focused.is-open .Select-control{-webkit-border-bottom-left-radius:0!important;-moz-border-radius-bottomleft:0!important;border-bottom-left-radius:0!important;-webkit-border-bottom-right-radius:0!important;-moz-border-radius-bottomright:0!important;border-bottom-right-radius:0!important}body .Select-control .Select-value{height:38px!important;background-color:var(--background-default)!important;color:var(--foreground-default)!important;cursor:pointer}body .Select.is-open .Select-value,body .Select.is-focused .Select-value{background-color:var(--background-default)!important}body .Select .Select-control .Select-placeholder{color:var(--foreground-dimmest)!important}body .Select-menu-outer{border:1px solid var(--foreground-dimmer)!important;border-top:0 none!important;-webkit-border-bottom-left-radius:var(--border-radius-4)!important;-moz-border-radius-bottomleft:var(--border-radius-4)!important;border-bottom-left-radius:var(--border-radius-4)!important;-webkit-border-bottom-right-radius:var(--border-radius-4)!important;-moz-border-radius-bottomright:var(--border-radius-4)!important;border-bottom-right-radius:var(--border-radius-4)!important;background-color:var(--background-root)!important}body .Select-value-label{color:var(--foreground-default)!important}body .Select-option{color:var(--foreground-default)!important;background-color:var(--background-default)!important}body .Select-option.is-disabled{color:var(--foreground-dimmest)!important}body .Select .Select-option.is-focused{background-color:var(--accent-primary-dimmest)!important;color:var(--foreground-default)!important}body .Select .Select-option.is-selected{background-color:var(--accent-primary-dimmer)!important}body .Select-input input{color:var(--foreground-default)!important}"})})}},25386:function(e,t,n){var r=n(47568),i=n(10253),a=n(29815),o=n(34051),c=n.n(o),s=n(35944),l=n(60536),u=n.n(l),d=n(67294),f=n(99408),p=n(83261),h=n(35256),m=n(58794),v=n(36077),g=n.n(v),b=n(93058),x=n(86292),y=n(48551),Z=n(51748),w=n(29163),k=n(55528),E=n(56030),_=n(77365),C=n(81255),S=n(51871),T=36,I=function(){return(0,s.BX)("div",{className:"jsx-3e741e4d889c73d "+u().dynamic([["7b5cc3030f1a201a",[T]]])+" file-header-format-button",children:[(0,s.tZ)("div",{className:"jsx-3e741e4d889c73d "+u().dynamic([["7b5cc3030f1a201a",[T]]])+" file-header-format-icon",children:(0,s.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.581 16.428",className:"jsx-3e741e4d889c73d "+u().dynamic([["7b5cc3030f1a201a",[T]]]),children:[(0,s.tZ)("path",{d:"M13.26.747H3.323A2.569,2.569,0,0,0,.754,3.316h0v9.795a2.569,2.569,0,0,0,2.568,2.57h9.937a2.569,2.569,0,0,0,2.569-2.569h0V3.316A2.569,2.569,0,0,0,13.26.747Z",className:"jsx-3e741e4d889c73d "+u().dynamic([["7b5cc3030f1a201a",[T]]])+" cls-1"}),(0,s.tZ)("path",{d:"M13.118,11.269a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.759-.759V11.23a.671.671,0,0,1,.689-.653l.07.006h8.438a.671.671,0,0,1,.753.578.7.7,0,0,1,.006.069ZM3.161,5.111V5.073a.759.759,0,0,1,.759-.759h8.439a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.76-.758ZM3.148,8.2a.759.759,0,0,1,.758-.76H8.4a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.907a.759.759,0,0,1-.759-.759Z",className:"jsx-3e741e4d889c73d "+u().dynamic([["7b5cc3030f1a201a",[T]]])+" cls-2"})]})}),(0,s.tZ)(u(),{id:"3e741e4d889c73d",children:".file-header-format-button.jsx-3e741e4d889c73d .cls-1{fill:var(--foreground-default)}.file-header-format-button.jsx-3e741e4d889c73d .cls-2{fill:var(--background-default)}"}),(0,s.tZ)(u(),{id:"7b5cc3030f1a201a",dynamic:[T],children:".file-header-format-button.__jsx-style-dynamic-selector{padding:0 10px;height:100%;width:".concat(T,"px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;opacity:.7}.file-header-format-button.__jsx-style-dynamic-selector:hover{opacity:1}.file-header-format-icon.__jsx-style-dynamic-selector{height:16px;width:16px;cursor:pointer}")})]})};function j(e){var t=e.filePath,n=e.replLanguage,a=(0,f.Z)(),o=a.fs,s=a.container,l=(0,p.Z)({container:s,service:"format",skip:!g().supportsFormatting(n)}).channel,u=(0,i.Z)(d.useState(!1),2),v=u[0],x=u[1],y=(0,b.Z)().showError,Z=function(){return x(!1)};return d.useEffect((function(){if(v&&l){var e=!1,n=[],i=o.watchOtFile(t,{onReady:function(e){!function(e,t){a.apply(this,arguments)}(e.initialContent,e.writeOp)},onChange:function(e){var t=e.op;n=h.compose(t,n)},onError:function(){Z()},onMoveOrDelete:function(){Z()}});return function(){e=!0,i()}}function a(){return(a=(0,r.Z)(c().mark((function r(i,a){var o,s,u,d;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e&&l){r.next=2;break}return r.abrupt("return");case 2:if(0!==i.length){r.next=5;break}return Z(),r.abrupt("return");case 5:return r.next=7,l.request({file:{path:t,content:i.toBuffer()}});case 7:if(o=r.sent,!e){r.next=10;break}return r.abrupt("return");case 10:if(!o.error&&o.file){r.next=14;break}return y("Failed to format ".concat(t),1500),Z(),r.abrupt("return");case 14:if(0!==(s=m.Z.from(o.file.content)).length){r.next=18;break}return Z(),r.abrupt("return");case 18:if(0!==(u=h.diffStr(i.toString(),s.toString())).length){r.next=22;break}return Z(),r.abrupt("return");case 22:if(0!==(d=n.length>0?h.transform(u,n,"left"):u).length){r.next=26;break}return Z(),r.abrupt("return");case 26:a(d),Z();case 28:case"end":return r.stop()}}),r)})))).apply(this,arguments)}}),[l,t,o,v,y]),d.useEffect(Z,[t]),g().supportsFormatting(n)?function(){return x(!0)}:null}function R(e){var t=e.formatWithLsp,n=e.formatWithService,r=e.replLanguage,i=e.filePath,a=(null===t||void 0===t?void 0:t.fn)||n;if(!a)throw new Error("Expected format function");(0,x.j)(x.U3.AUTO_FORMAT_USED,{language:r,extension:(0,y.r6)(i)}),a()}t.Z=function(e){var t=e.filePath,n=e.replLanguage,i=j({filePath:t,replLanguage:n}),o=function(e){var t,n=e.filePath,i=(0,Z.Z)().preferences,o=(0,f.Z)().fs,s=(0,k.Z)(n),l=Boolean(null===(t=null===s||void 0===s?void 0:s.getServerCapabilities())||void 0===t?void 0:t.documentFormattingProvider),u=(0,d.useState)([]),p=u[0],m=u[1],v=(0,b.Z)(),g=v.showError,x=v.showConfirm;return l?{fn:function(){if(!p.includes(n)){m((function(e){return(0,a.Z)(e).concat([n])}));var e=[],t=function(e){e?g("Sorry, formatting ".concat(n," failed"),1500):x("Formatted ".concat(n," successfully"),1500),l(),m((function(e){return e.filter((function(e){return e!==n}))}))},l=o.watchOtFile(n,{onReady:function(){var a=(0,r.Z)(c().mark((function r(a){var o,l,u,d,f;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a.initialContent,l=a.writeOp,s){r.next=3;break}throw new Error("LSP client not found");case 3:return r.next=5,s.request.format(n,{insertSpaces:i.indentIsSpaces,tabSize:i.indentSize});case 5:if(!("error"in(u=r.sent))){r.next=9;break}return t(!0),r.abrupt("return");case 9:if(!u.cancelled){r.next=12;break}return t(!0),r.abrupt("return");case 12:if(u.result){r.next=15;break}return t(!0),r.abrupt("return");case 15:if(d=(0,E.Z)(u.result,o.toString()),0!==(f=e.length>0?h.transform(d,e,"left"):d).length){r.next=20;break}return t(),r.abrupt("return");case 20:l(f),t();case 22:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}(),onChange:function(t){var n=t.op;e=h.compose(n,e)}})}},isFormatting:p.includes(n)}:null}({filePath:t});if((0,S.x)({cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"S"},{enabled:Boolean((0,y.Mb)(t)&&(o||i)),run:function(){R({formatWithLsp:o,formatWithService:i,replLanguage:n,filePath:t})}}),!(0,y.Mb)(t)||!o&&!i)return null;var l=(0,y.eb)(t);return(0,s.tZ)(w.Z,{css:[C.l0.zIndex(1),{alignSelf:"center"}],alt:(null===o||void 0===o?void 0:o.isFormatting)?"Formatting ".concat(l,", please wait"):"Format ".concat(l," code"),tooltipPlacement:"left-end",onClick:function(){R({formatWithLsp:o,formatWithService:i,replLanguage:n,filePath:t})},children:(null===o||void 0===o?void 0:o.isFormatting)?(0,s.tZ)(_.Z,{}):(0,s.tZ)(I,{})})}},43902:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(35944),i=n(60536),a=n.n(i);n(67294);function o(e){var t=e.style;return(0,r.tZ)("div",{style:t,className:"jsx-c09452bedc697c5e spinner",children:(0,r.tZ)(a(),{id:"c09452bedc697c5e",children:'@-webkit-keyframes replit-logo-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes replit-logo-spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes replit-logo-spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes replit-logo-spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.spinner.jsx-c09452bedc697c5e{width:40px;height:40px;background-image:url("/public/images/logo-grayscale.png");-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;background-position:center;background-repeat:no-repeat;-webkit-animation:replit-logo-spin 1.5s linear infinite;-moz-animation:replit-logo-spin 1.5s linear infinite;-o-animation:replit-logo-spin 1.5s linear infinite;animation:replit-logo-spin 1.5s linear infinite}'})})}},54523:function(e,t,n){n.d(t,{F:function(){return f},Y:function(){return d}});var r=n(35944),i=n(60536),a=n.n(i),o=n(67294),c=n(44781),s=n(30019),l=n(19526),u=n(86292);function d(){return o.useEffect((function(){(0,u.j)(u.U3.WS_REPLCO_UNREACHABLE)}),[]),(0,r.BX)("div",{className:"jsx-88c49dc4f1cb807b unreachable",children:[(0,r.BX)(l.gC,{align:"center",spacing:4,children:[(0,r.BX)(l.gC,{align:"center",children:[(0,r.tZ)(s.Z,{level:1,children:"\ud83d\ude48"}),(0,r.tZ)(s.Z,{level:4,children:"This Repl link isn\u2019t broken!"}),(0,r.tZ)(s.Z,{level:4,foreground:2,children:"It\u2019s just blocked."})]}),(0,r.BX)(l.gC,{spacing:2,className:"why",children:[(0,r.tZ)(c.Z,{foreground:2,children:"Why this might be happening:"}),(0,r.tZ)(c.Z,{foreground:2,children:(0,r.BX)("ul",{className:"jsx-88c49dc4f1cb807b",children:[(0,r.BX)("li",{className:"jsx-88c49dc4f1cb807b",children:["repl.co URLs could be"," ",(0,r.tZ)(c.Z,{fontWeight:"medium",foreground:1,children:"blocked by a firewall,"})," ","so contact your IT administrator"]}),(0,r.BX)("li",{className:"jsx-88c49dc4f1cb807b",children:["repl.co URLs could be"," ",(0,r.tZ)(c.Z,{fontWeight:"medium",foreground:1,children:"blocked by your ISP,"})," ","so try getting in touch with them"]})]})})]}),(0,r.BX)(c.Z,{foreground:2,align:"center",children:["If you have any other questions, please check out"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/teams-edu/it-administrators-toolkit",target:"_blank",rel:"noopener noreferrer",className:"jsx-88c49dc4f1cb807b",children:"our IT docs"})," ","or"," ",(0,r.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",className:"jsx-88c49dc4f1cb807b",children:"contact support"}),"."]})]}),(0,r.tZ)(a(),{id:"88c49dc4f1cb807b",children:".unreachable.jsx-88c49dc4f1cb807b{padding:var(--space-32)}.unreachable.jsx-88c49dc4f1cb807b ul.jsx-88c49dc4f1cb807b{list-style-position:inside}.unreachable.jsx-88c49dc4f1cb807b li.jsx-88c49dc4f1cb807b{padding-bottom:var(--space-16)}"})]})}var f=o.createContext(!1)},16449:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(10253),i=n(67294),a=n(79367),o=n.n(a);function c(){var e=(0,r.Z)(i.useState(null),2),t=e[0],n=e[1];return i.useLayoutEffect((function(){if(t)return o()(t),function(){o().destroy(t)}}),[t]),{ref:n,update:function(){t&&o().update(t)}}}},36052:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(10253),i=n(91131),a=n(64824),o=n(90317),c=n(98146),s=n(51748),l=new Date("2022-07-08"),u=(0,a.O4)("useCelebrateFirstReplPlay",!1);function d(){var e,t,n=(0,o.Tq7)(),a=(0,s.Z)().preferences.extraDelight,d=(0,c.$0)().fireCircularBurstFrom,f=(0,r.Z)((0,i.KO)(u),2),p=f[0],h=f[1],m=null!==(t=null===(e=n.data)||void 0===e?void 0:e.currentUser)&&void 0!==t?t:null,v=!p&&m&&new Date(m.timeCreated)>=l;return{hasCelebrated:p,celebrate:function(e){(a||v)&&d({element:e}),v&&h(!0)}}}},47979:function(e,t,n){n.d(t,{f6:function(){return l},oj:function(){return s},xZ:function(){return d}});var r=n(10253),i=n(67294),a=n(99408),o=n(97813);function c(e){var t=(0,r.Z)(i.useState(!1),2),n=t[0],o=t[1],c=(0,a.Z)().dotReplit;return i.useEffect((function(){var t=!1;return c.getConfig().then((function(n){t||n.error||n.config.language===e&&o(!0)})),function(){t=!0}}),[e,c]),n}function s(){return c("kaboom")}function l(){return c("kaboomdraw")}var u=/^draw.[tj]s$/;function d(){var e=(0,o.Z)();return l()&&Boolean(null===e||void 0===e?void 0:e.match(u))}},58482:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(11163),i=n.n(r),a=n(99408),o=n(67294),c=n(65456),s=n(13482),l="You have unsaved changes";function u(){var e=(0,a.Z)().fs,t=(0,r.useRouter)(),n=(0,o.useState)(!1),u=n[0],d=n[1],f=(0,o.useRef)(!1),p=function(){if(!f.current&&!window.confirm(l))throw i().events.emit("routeChangeError"),i().replace(i(),i().asPath),new Error("Abort route change. Please ignore this error.")};return(0,o.useEffect)((function(){return d(e.getStatus()===c.kO.Syncing),e.onStatusChange((function(e){d(e===c.kO.Syncing)}))}),[e]),(0,o.useEffect)((function(){var e=function(e){if(!f.current)return e.preventDefault(),e.returnValue=l,l};if(u)return window.addEventListener("beforeunload",e),s.g||t.events.on("routeChangeStart",p),function(){window.removeEventListener("beforeunload",e),s.g||t.events.off("routeChangeStart",p)}}),[u,t.events]),function(e){return f.current=e}}},3307:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(10253),i=n(67294),a=n(90317),o=n(37053),c=n(2916),s=n(99408);function l(){var e=(0,r.Z)((0,a.yuJ)(),1)[0],t=(0,s.Z)().fs,n=(0,c.Z)(),l=null===n||void 0===n?void 0:n.currentUserPermissions.containerWrite,u=null===n||void 0===n?void 0:n.id;(0,i.useEffect)((function(){if(l&&u){var n=(0,o.Z)((function(){return e({variables:{replId:u}})}),{wait:6e4,maxWait:6e5}),r=t.onStatusChange((function(){n()}));return function(){n.isScheduled()&&n.flush(),r()}}}),[t,u,l,e])}},4989:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(67294),i=n(63805);function a(){var e=(0,r.useRef)(0),t=(0,r.useState)(!1),n=t[0],a=t[1],o=window.visualViewport;return(0,r.useEffect)((function(){if(o&&(0,i.isMobile)({tablet:!1})){var t=function(){var t=o.height<.8*e.current;a(t)};return e.current=o.height,o.addEventListener("resize",t),function(){o.removeEventListener("resize",t)}}}),[o]),n}},35923:function(e,t,n){n.d(t,{V:function(){return m},Q:function(){return Z}});var r=n(82670),i=n(26042),a=n(53144),o=n(51438),c=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,l=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;(0,o.Z)(this,e);var n="function"===typeof t?t:f(t);this.p=d(n),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}return e.prototype.noise2D=function(e,t){var n,r,i=this.permMod12,a=this.perm,o=0,u=0,d=0,f=(e+t)*c,p=Math.floor(e+f),h=Math.floor(t+f),m=(p+h)*s,v=e-(p-m),g=t-(h-m);v>g?(n=1,r=0):(n=0,r=1);var b=v-n+s,x=g-r+s,y=v-1+2*s,Z=g-1+2*s,w=255&p,k=255&h,E=.5-v*v-g*g;if(E>=0){var _=3*i[w+a[k]];o=(E*=E)*E*(l[_]*v+l[_+1]*g)}var C=.5-b*b-x*x;if(C>=0){var S=3*i[w+n+a[k+r]];u=(C*=C)*C*(l[S]*b+l[S+1]*x)}var T=.5-y*y-Z*Z;if(T>=0){var I=3*i[w+1+a[k+1]];d=(T*=T)*T*(l[I]*y+l[I+1]*Z)}return 70*(o+u+d)},e}();function d(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=n;for(var r=0;r<255;r++){var i=r+~~(e()*(256-r)),a=t[r];t[r]=t[i],t[i]=a}return t}function f(e){var t=0,n=0,r=0,i=1,a=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();return t=a(" "),n=a(" "),r=a(" "),(t-=a(e))<0&&(t+=1),(n-=a(e))<0&&(n+=1),(r-=a(e))<0&&(r+=1),function(){var e=2091639*t+2.3283064365386963e-10*i;return t=n,n=r,r=e-(i=0|e)}}var p=new u;var h=n(25108);function m(e){var t=!1,n=0,r=0,i=null,a=function(c){if(t){var s=c-n;r+=s,n=c,i=window.requestAnimationFrame(a),e({elapsedTime:r,deltaTime:s,stop:o})}},o=function(){t&&(t=!1,i&&window.cancelAnimationFrame(i))};return{start:function(){t||(r=0,n=performance.now(),t=!0,i=window.requestAnimationFrame(a))},stop:o}}var v=function(){return(0,a.hd)(600,1200)},g=function(){return(0,a.hd)(1,3)},b=function(){return{width:(0,a.hd)(5,20),height:(0,a.hd)(5,20)}},x=function(){return(0,a.vF)()};function y(e){return Array.isArray(e)?(0,a.DQ)(e):(0,r.Z)(e,Function)?e():e}function Z(){var e=!1,t=null,n=null,r=[],o=null,c={},s=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=function(){var e=i.value;if(c[e])return"continue";var t=new Image;t.src=e,t.onerror=function(){h.error('Failed to load particle image "'.concat(e,'"'))},c[e]=t},o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)a()}catch(s){n=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}};return{getIsInstalled:function(){return e},addParticles:function(e){for(var t=e.x,n=e.y,l=e.numParticles,u=void 0===l?150:l,d=e.spread,f=void 0===d?60:d,p=e.heading,h=void 0===p?90:p,m=e.airDrag,Z=void 0===m?.9:m,w=e.color,k=void 0===w?x:w,E=e.gravity,_=void 0===E?800:E,C=e.velocity,S=void 0===C?v:C,T=e.size,I=void 0===T?b:T,j=e.lifetime,R=void 0===j?g:j,N=e.flip,P=void 0===N||N,D=e.image,B=void 0===D?void 0:D,O=y(f),A=y(h),z=(0,a.Id)(O),U=(0,a.Id)(-A),L=y(u),G=0;G<L;G++){var X=U+(0,a.hd)(-z/2,z/2),F=y(S),M=y(I),W=M.width,H=M.height,V=y(R),q=y(k),K=y(Z),Q=y(t),Y=y(n),J=y(B);"string"===typeof J&&(c[J]||s([J]),J=c[J]),r.push((0,i.Z)({seed:(0,a.hd)(0,1e5),x:Q,y:Y,gravity:_,airDrag:K,scaleX:1,scaleY:1,rotation:(0,a.hd)(0,(0,a.Id)(360)),velocityX:Math.cos(X)*F,velocityY:Math.sin(X)*F,angularVelocity:(0,a.hd)((0,a.Id)(-400),(0,a.Id)(400)),color:q,alpha:1,width:W,height:H,flip:P,lifetime:V,lifetimeRemaining:V},J?{image:J,type:"image"}:{type:(0,a.DQ)(["rectangle","ellipse"])}))}null===o||void 0===o||o.start()},clearParticles:function(){r=[]},uninstall:function(){e&&(t&&document.body.contains(t)&&document.body.removeChild(t),o&&o.stop(),t=null,n=null,e=!1,c={})},install:function(){e||(t=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex="999999",e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.id="replit-particles-simulation",e.setAttribute("role","image"),e.ariaHidden="true",e}(),(n=t.getContext("2d"))&&(document.body.appendChild(t),o=m((function(e){var i=e.deltaTime,o=e.stop;if(t&&n){var c=n,s=window.scrollX,l=window.scrollY;t.width!==document.documentElement.clientWidth&&(t.width=document.documentElement.clientWidth),t.height!==document.documentElement.clientHeight&&(t.height=document.documentElement.clientHeight),n.clearRect(0,0,t.width,t.height),r.map((function(e){return function(e){var t=e.particle,n=e.deltaTime;t.velocityY+=t.gravity*n/1e3,t.x+=t.velocityX*n/1e3,t.y+=t.velocityY*n/1e3,t.rotation+=t.angularVelocity*n/1e3,t.velocityX*=t.airDrag,t.velocityY*=t.airDrag,t.flip&&(t.scaleY=2*(0,a.WE)(t.lifetimeRemaining,.5));var r=(0,a.NC)(t.velocityX,t.velocityY),i=(0,a.$G)(t.velocityX,t.velocityY),o=r+.05*p.noise2D(t.seed,t.lifetimeRemaining);t.velocityX=Math.cos(o)*i,t.velocityY=Math.sin(o)*i,t.lifetimeRemaining-=n/1e3,t.lifetimeRemaining<=0?t.alpha=0:t.alpha=1-(t.lifetime-t.lifetimeRemaining)/t.lifetime}({particle:e,deltaTime:i})})),r.map((function(e){return function(e){var t=e.particle,n=e.ctx,r=e.scrollX,i=e.scrollY,a=t.width*t.scaleX,o=t.height*t.scaleY,c=t.x-r,s=t.y-i;n.save(),n.translate(c,s),n.rotate(t.rotation),n.globalAlpha=t.alpha,"image"===t.type?n.drawImage(t.image,-a/2,-o/2,a,o):"rectangle"===t.type?(n.fillStyle=t.color,n.fillRect(-a/2,-o/2,a,o)):"ellipse"===t.type&&(n.fillStyle=t.color,n.beginPath(),n.ellipse(0,0,a/2,o/2,0,0,2*Math.PI),n.fill()),n.restore()}({particle:e,ctx:c,scrollX:s,scrollY:l})})),0===(r=r.filter((function(e){return e.lifetimeRemaining>0}))).length&&o()}})),e=!0))},preloadImages:s,unloadImages:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;delete c[o]}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}}},98146:function(e,t,n){n.d(t,{$0:function(){return r.$},hd:function(){return i.hd},su:function(){return r.s}});var r=n(46808),i=n(53144)},46808:function(e,t,n){n.d(t,{$:function(){return h},s:function(){return r}});var r,i=n(26042),a=n(99534),o=n(10253),c=n(67294),s=n(53144),l=n(35923),u=n(91131),d=n(42895),f=(0,l.Q)(),p=(0,u.cn)(f);function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preloadImages,t=(0,o.Z)((0,u.KO)(p),1),n=t[0],r=(0,d.T)();c.useEffect((function(){return n.install(),function(){n.uninstall()}}),[n]),c.useEffect((function(){e&&n.preloadImages(e)}),[n,e]);var l=function(e){r||n.addParticles(e)},f=function(e){var t=e.element,n=(0,a.Z)(e,["element"]);if(!r){var o=(0,s.tj)(t),c=o.x,u=o.y;l((0,i.Z)({x:c,y:u},n))}},h=function(e){r||n.addParticles((0,i.Z)({numParticles:125,spread:360,velocity:function(){return(0,s.hd)(400,900)},size:function(){return{width:(0,s.hd)(5,15),height:(0,s.hd)(5,25)}}},e))},m=function(e){var t=e.element,n=(0,a.Z)(e,["element"]);if(!r){var o=(0,s.tj)(t),c=o.x,l=o.y;h((0,i.Z)({x:c,y:l},n))}},v=function(e){var t=e.direction,o=(0,a.Z)(e,["direction"]);r||n.addParticles((0,i.Z)({heading:t},o))},g=function(e){var t=e.element,o=e.direction,c=(0,a.Z)(e,["element","direction"]);if(!r){var l=(0,s.tj)(t),u=l.x,d=l.y;n.addParticles((0,i.Z)({x:u,y:d,numParticles:100,velocity:function(){return(0,s.hd)(400,1500)},spread:60,size:function(){return{width:(0,s.hd)(5,15),height:(0,s.hd)(5,25)}},heading:o},c))}};return{fireBurst:l,fireBurstFrom:f,fireCircularBurst:h,fireCircularBurstFrom:m,fireDirectionalBurst:v,fireDirectionalBurstFrom:g}}!function(e){e[e.East=0]="East",e[e.NorthEast=45]="NorthEast",e[e.North=90]="North",e[e.NorthWest=135]="NorthWest",e[e.West=180]="West",e[e.SouthWest=225]="SouthWest",e[e.South=270]="South"}(r||(r={}))},53144:function(e,t,n){n.d(t,{$G:function(){return d},DQ:function(){return o},Id:function(){return l},NC:function(){return u},WE:function(){return p},hd:function(){return c},tj:function(){return i},vF:function(){return s}});var r=n(74521);function i(e){var t=function(e){var t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}}(e);return{x:t.x+window.scrollX,y:t.y+window.scrollY}}function a(e,t){return(0,r.Z)(e,t,!1)}function o(e){return e[a(0,e.length-1)]}function c(e,t){return(0,r.Z)(e,t,!0)}function s(){return"hsl(".concat(a(0,360),", 100%, 70%)")}function l(e){return e*Math.PI/180}function u(e,t){return Math.atan2(t,e)}function d(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function f(e,t){return(e%t+t)%t}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(f(e,2*t)-t)}},56919:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(7297),i=n(51889),a=n(31230),o=n(52892);function c(){var e=(0,r.Z)(["\n  mutation deleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}(0,a.ZP)(c());var s=function(e){var t=(0,o.Z)({id:e.id,__typename:e.__typename||"Repl"}),n=function(e,n){return n.node.id===t};return(0,i._M)((function(){return[["data",i.Dx,"recentRepls",n],["data",t]]}))}},31557:function(e,t,n){function r(e){if(!e)return!1;try{var t=new URL(e);return Boolean(t)}catch(n){return!1}}n.d(t,{Z:function(){return r}})},10854:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(10253),i=n(35944),a=n(60536),o=n.n(a),c=n(67294),s=n(86292),l=n(6951),u=n(44781),d=n(93058),f=n(90317),p=n(27206),h=n(19526),m=n(4158),v=n(67629),g=n(88808);function b(e){var t,n,a,b=e.replId,x=(0,d.Z)(),y=x.showConfirm,Z=x.showError,w=(0,f.hA$)({variables:{replId:b}}),k=w.data,E=w.loading,_=w.error,C=(0,r.Z)((0,f.QNZ)({variables:{replId:b},onError:function(e){return Z(e.message)}}),2),S=C[0],T=C[1],I=(0,r.Z)((0,f.ooK)({variables:{replId:b},optimisticResponse:{deleteMultiplayerInviteLink:{id:b,inviteUrl:null,__typename:"Repl"},__typename:"RootMutationType"},onError:function(e){return Z(e.message)},onCompleted:function(e){"UserError"!==e.deleteMultiplayerInviteLink.__typename?"Repl"===e.deleteMultiplayerInviteLink.__typename&&y("Join link deleted"):Z(e.deleteMultiplayerInviteLink.message)}}),2),j=I[0],R=I[1],N=T.loading||R.loading,P=c.useRef(null),D="Repl"===(null===k||void 0===k||null===(t=k.repl)||void 0===t?void 0:t.__typename)&&"Team"===(null===(n=k.repl.owner)||void 0===n?void 0:n.__typename),B="Repl"===(null===k||void 0===k||null===(a=k.repl)||void 0===a?void 0:a.__typename)&&k.repl.inviteUrl?window.location.origin+k.repl.inviteUrl:null;c.useEffect((function(){T.error&&Z(T.error.message),T.data&&(0,s.j)(s.U3.MP2_REFRESHED_LINK,{replId:b})}),[T.error,T.data,b,Z]);var O=function(){P&&P.current&&P.current.select()},A=function(){return(0,i.BX)("div",{"aria-label":"Anyone on the internet with this link can join and edit this Repl","data-microtip-position":"top","data-microtip-size":"medium",role:"tooltip","data-micro":!0,className:"jsx-e33ed68cec233d59 information-icon-container",children:[(0,i.tZ)(m.Z,{}),(0,i.tZ)(o(),{id:"e33ed68cec233d59",children:".information-icon-container.jsx-e33ed68cec233d59{margin-left:5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}"})]})};return E?(0,i.tZ)(u.Z,{children:"loading..."}):_?(0,i.tZ)(u.Z,{children:"Error: please contact support"}):B?(0,i.BX)(h.gC,{align:"stretch",spacing:1,children:[(0,i.tZ)(u.Z,{foreground:2,size:"small",children:(0,i.BX)(h.Ug,{align:"center",children:["Invite ",D?"guests":"friends"," with a join link",A()]})}),(0,i.BX)(h.Ug,{wrap:"nowrap",align:"center",spacing:1,children:[(0,i.tZ)("div",{className:"jsx-1dd1818beded4b33 input-link",children:(0,i.tZ)(p.ZP,{ref:P,readOnly:!0,onChange:function(){return null},value:N?"loading...":B,onClick:O})}),(0,i.tZ)("div",{"aria-label":"Copy","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1dd1818beded4b33",children:(0,i.tZ)(l.Z,{color:"primary",Icon:g.Z,onClick:function(){O(),document.execCommand("copy"),y("Link copied")}})}),(0,i.tZ)("div",{"aria-label":"Delete link","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1dd1818beded4b33",children:(0,i.tZ)(l.Z,{color:"red",Icon:v.Z,onClick:function(e){e.preventDefault(),N||j()}})})]}),(0,i.BX)(u.Z,{size:"small",foreground:2,children:[(0,i.tZ)("a",{onClick:function(e){e.preventDefault(),N||S()},className:"jsx-1dd1818beded4b33",children:"Generate a new link"})," ","(The current one will stop working)"]}),(0,i.tZ)(o(),{id:"1dd1818beded4b33",children:".input-link.jsx-1dd1818beded4b33{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.input-link.jsx-1dd1818beded4b33 input{cursor:text!important}"})]}):(0,i.tZ)("div",{style:{marginTop:"var(--space-8)"},children:(0,i.tZ)(l.Z,{fullWidth:!0,color:"default",onClick:function(){N||S()},children:(0,i.BX)(h.Ug,{align:"center",children:["Generate a join link",A()]})})})}},35776:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(51748),i=n(99408),a=n(67294);function o(){var e=(0,i.Z)(),t=e.lspnix,n=e.lsp,o=(0,r.Z)().preferences.codeIntelligence;(0,a.useEffect)((function(){if(!o)return n.stop(),void t.disable();n.start(),t.enable()}),[t,n,o])}},536:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(7787),i=n(97813),a=n(63377),o=n(67294),c=n(48551),s=n(99408),l=n(32117);function u(e){var t=Boolean(window.performance.getEntriesByName(r.Iy.pageNavStart,"mark").length),n="time to code";window.performance.measure(n,t?r.Iy.pageNavStart:void 0);var i=window.performance.getEntriesByName(n,"measure")[0];if(i){var a="page invisible fetch connection metadata",o=i.duration;if(Boolean(window.performance.getEntriesByName(r.Iy.fetchConnectionMetadataPageInvisibleStart,"mark").length))window.performance.measure(a,r.Iy.fetchConnectionMetadataPageInvisibleStart,r.Iy.fetchConnectionMetadataPageInvisibleEnd),o-=window.performance.getEntriesByName(a,"measure")[0].duration,window.performance.clearMeasures(a),window.performance.clearMarks(r.Iy.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(r.Iy.fetchConnectionMetadataPageInvisibleEnd);r.kg.time("time to code minus page invisible",o,{ssr:!t,workspaceType:e}),r.kg.time("time to code with page invisible",i.duration,{ssr:!t,workspaceType:e}),window.performance.clearMeasures(n),l.v.addTiming("time_to_code_minus_page_invisible",o),l.v.addTiming("time_to_code_with_page_invisible",i.duration)}else r.kg.info("Could not obtain measure for time to code",{workspaceType:e})}var d=new Set;function f(e){var t=e.workspaceType,n=(0,a.Z)(),r=(0,i.Z)(),l=(0,s.Z)().fs;(0,o.useEffect)((function(){var e;if(r&&!d.has(n))return d.add(n),e=(0,c.Mb)(r)?l.watchOtFile(r,{onReady:function(){u(t),e()}}):l.watchFile(r,{onChange:function(){u(t),e()}})}),[r,n,t,l])}},93527:function(e,t,n){n.d(t,{hr:function(){return x},gx:function(){return b},ZP:function(){return Z}});var r=n(35944),i=n(67294),a=n(91131),o=n(69346),c=n(49474),s=n(60731),l=n(26042),u=n(69396),d=n(70917),f={animationDuration:"800ms",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out"},p=(0,d.F4)("\n  0% { transform: translate(0px, 0px) }\n  25% { transform: translate(0px, 80px) }\n  50% { transform: translate(100px, 80px) }\n  75% { transform: translate(100px, 160px) }\n  100% { transform: translate(0px, 160px) }\n"),h=(0,d.F4)("\n  0% { transform: translate(0px, 0px) }\n  25% { transform: translate(0px, -80px) }\n  50% { transform: translate(-100px, -80px) }\n  100% { transform: translate(-100px, -80px) }\n"),m=(0,d.F4)("\n  0% { transform: translate(0px, 0px) }\n  50% { transform: translate(0px, 0px) }\n  75% { transform: translate(0px, -80px) }\n  100% { transform: translate(100px, -80px) }\n"),v=function(e){var t=e.height,n=void 0===t?24:t,i=e.color,a={width:84,height:64,fill:void 0===i?"#F26207":i,rx:12};return(0,r.BX)("svg",{width:n/1.2,height:n,viewBox:"0 0 200 240",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("rect",(0,u.Z)((0,l.Z)({css:[f,{animationName:p}]},a),{x:8,y:8})),(0,r.tZ)("rect",(0,u.Z)((0,l.Z)({css:[f,{animationName:h}]},a),{x:108,y:88})),(0,r.tZ)("rect",(0,u.Z)((0,l.Z)({css:[f,{animationName:m}]},a),{x:8,y:168}))]})},g=n(1144),b=(0,a.cn)(!1),x=function(e){var t=e.reason;return(0,r.BX)(o.Z,{css:[s.l0.center,s.l0.minWidth(225),s.l0.height(225),s.l0.p(16),s.l0.color.foregroundDefault,s.l0.backgroundColor.backgroundOverlay,s.l0.zIndex(5e5),{cursor:"not-allowed"}],children:[(0,r.tZ)(v,{height:80}),(0,r.BX)(g.x,{variant:"subheadBig",css:[s.l0.mt(32)],dataCy:"import-loading-spinner",children:[t,"..."]})]})};function y(){return(0,a.Dv)(b)?(0,r.tZ)(c.Z,{children:(0,r.tZ)(o.Z,{css:[s.l0.position.fixed,s.l0.flex.row,s.l0.align.center,s.l0.justify.center,s.l0.backgroundColor.backgroundOverlay,{top:0,bottom:0,left:0,right:0,zIndex:5e5,cursor:"not-allowed"}],children:(0,r.tZ)(x,{reason:"Importing"})})}):null}var Z=(0,i.memo)(y)},78207:function(e,t,n){n.d(t,{FL:function(){return j},ZP:function(){return I},rJ:function(){return T}});var r=n(47568),i=n(26042),a=n(69396),o=n(10253),c=n(34051),s=n.n(c),l=n(67294),u=n(99408),d=n(91131),f=n(90317),p=n(15240),h=n(63377),m=n(61374),v=n(83971),g=n(59916),b=n(93527),x=n(93058),y=n(48287),Z=n(65456),w=n(31066),k=n(11731),E=n(753),_=n(47491),C=n(70931),S=n(33670);function T(e){return new Promise((function(t,n){var r=e.openChannel({service:"gcsfiles"},(function(e){if(!e.error)return e.channel.request({persistMirror:{path:"."}}).then((function(e){e.ok,r(),t()})),function(e){e.willReconnect&&r()};n(e.error)}))}))}function I(){var e=(0,d.b9)(k._N);j({insertConfigPlugin:function(){return e("config")},setConfigScreenLockIsOpen:(0,d.b9)(b.gx)})}function j(e){var t=e.insertConfigPlugin,n=e.setConfigScreenLockIsOpen,c=(0,h.Z)(),d=(0,o.Z)((0,f.q$D)(),2),b=d[0],k=d[1],I=(0,u.Z)(),j=I.container,R=I.fs,N=I.runner,P=I.dotReplit,D=I.session,B=I.nixService,O=(0,v.Z)(j),A=(0,x.Z)(),z=A.showNotice,U=A.showError,L=A.showConfirm,G=(0,f.cTJ)({skip:!0}).refetch,X=(0,S.Z)();(0,l.useEffect)((function(){k.error&&U("Failed to finish cloning Repl - "+k.error)}),[k.error]),(0,l.useEffect)((function(){k.data&&L("Finished cloning Repl")}),[k.data]),(0,l.useEffect)((function(){M()}),[]);var F=(0,o.Z)((0,f.$6N)({variables:{replId:c},fetchPolicy:"no-cache",onCompleted:function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.repl,r=t.currentUser,"Repl"===n.__typename&&r&&"CurrentUser"===r.__typename){e.next=4;break}return e.abrupt("return");case 4:if(n.config.gitRemoteUrl){e.next=6;break}return e.abrupt("return");case 6:if(n.config.doClone){e.next=8;break}return e.abrupt("return");case 8:de({remote:null!==(a=n.config.gitRemoteUrl)&&void 0!==a?a:"",accessToken:null!==(o=null===(i=r.gitHubInfo)||void 0===i?void 0:i.accessToken)&&void 0!==o?o:null,username:r.username});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),1),M=F[0],W={isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:p.l4.NONE,badState:p.$U.None,remote:"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},H=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({args:m.D6.format(W,null!==t&&void 0!==t?t:"")});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({args:m.M7.format(W,t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({args:m.LO.format(W)});case 2:if(t=e.sent,m.LO.parse){e.next=5;break}return e.abrupt("return");case 5:return n=m.LO.parse(W,null===t.error?t.output:""),r=n.remote,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,o,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.remote,r=t.remoteToken,e.next=3,O({args:m.Di.format((0,a.Z)((0,i.Z)({},W),{remote:n,remoteToken:r}))});case 3:if(o=e.sent,m.Di.parse){e.next=6;break}return e.abrupt("return");case 6:return c=m.Di.parse(W,null===o.error?o.output:"HEAD branch: main"),l=c.defaultBranch,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({args:m.lR.format((0,a.Z)((0,i.Z)({},W),{defaultBranch:t}))});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.remote,r=t.remoteToken,e.next=3,J();case 3:return e.next=5,q();case 5:return e.next=7,$({deepen:!0,remote:n,remoteToken:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({args:m.GE.format(W)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.deepen,r=void 0!==n&&n,o=t.remote,c=t.remoteToken,!o.startsWith("https://api.glitch.com")){e.next=5;break}return e.next=4,O({args:["git","fetch",o,"+refs/heads/*:refs/remotes/origin/*"]});case 4:return e.abrupt("return");case 5:return e.next=7,O({args:m.he.format((0,a.Z)((0,i.Z)({},W),{remote:o,remoteToken:c}),r)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(null===(n=t.nix)||void 0===n?void 0:n.channel)){e.next=8;break}return e.next=5,B.getLatestStableChannel();case 5:r=e.sent,e.next=9;break;case 8:r=t.nix.channel;case 9:return e.next=11,P.updateDotReplit([(0,y.cU)(r)]);case 11:e.sent.error||z("Nix channel was not detected in your imported .replit file but is required for all Nix Repls. The latest stable Nix channel "+'"'.concat(r,'" was automatically added to your .replit file.'),1e4);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({replId:c});case 2:if(t=e.sent,n=t.data,!t.error){e.next=7;break}return e.abrupt("return",null);case 7:if("Repl"===n.repl.__typename){e.next=9;break}return e.abrupt("return",null);case 9:if(r=n.repl.rootOriginReplUrl){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,X({replUrl:r});case 14:return i=e.sent,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.packager){e.next=2;break}return e.abrupt("return");case 2:return n=t.packager,e.next=5,P.updateDotReplit([(0,y.w2)(n)]);case 5:e.sent.error||z("A packager was not detected in your imported .replit file and was automatically added.",1e4);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.env){e.next=2;break}return e.abrupt("return");case 2:if(r=n.env,!t){e.next=12;break}e.t0=s().keys(r);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(i=e.t1.value,!t[i]){e.next=9;break}return e.abrupt("continue",5);case 9:t[i]=r[i],e.next=5;break;case 12:return e.next=14,P.updateDotReplit([(0,y.EX)(r)]);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.debugger){e.next=2;break}return e.abrupt("return");case 2:return n=t.debugger,e.next=5,P.updateDotReplit([(0,y.SD)(n)]);case 5:e.sent.error||z("A debugger was not detected in your imported .replit file so a recommended debugger was automatically added.",1e4);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(null===(n=t.unitTest)||void 0===n?void 0:n.language)){e.next=3;break}return e.abrupt("return");case 3:return r=t.unitTest.language,e.next=6,P.updateDotReplit([(0,y.MY)(r)]);case 6:e.sent.error||z("Unit test configuration was not detected in your imported .replit file and so a recommended config was automatically added.",1e4);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,P.getConfig();case 3:if(!(n=e.sent).error&&n.config){e.next=6;break}return e.abrupt("return");case 6:return r=n.config,e.next=9,te();case 9:return i=e.sent,(a=[]).push(re(r.env,i)),(null===(t=r.nix)||void 0===t?void 0:t.channel)||a.push(ee(i)),r.packager||a.push(ne(i)),r.debugger||a.push(ie(i)),r.unitTest||a.push(ae(i)),e.next=18,Promise.all(a);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r,i,a,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,R.readDir(w.Ql);case 3:if(!(i=e.sent).error){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,P.getConfig();case 8:if(a=e.sent,!(null===(t=a.config)||void 0===t||null===(n=t.gitHubImport)||void 0===n?void 0:n.requiredFiles)){e.next=16;break}return o=a.config.gitHubImport.requiredFiles,c=o.map((function(e){return new RegExp(e)})),e.next=14,Promise.all(i.children.filter((function(e){return!c.some((function(t){return t.test(e.filename)}))})).map((function(e){return e.type===Z.Tv.Directory?R.deleteDir(e.filename):R.deleteFile(e.filename)})));case 14:e.next=19;break;case 16:if(!(null===(r=a.config)||void 0===r?void 0:r.entrypoint)){e.next=19;break}return e.next=19,R.deleteFile(a.config.entrypoint);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(r);case 2:return e.next=4,V(t);case 4:return e.next=6,q();case 6:return e.next=8,$({deepen:!1,remote:t,remoteToken:n});case 8:return e.next=10,K({remote:t,remoteToken:n});case 10:return i=e.sent,e.next=13,Q(null!==i&&void 0!==i?i:"");case 13:return e.next=15,Y({remote:t,remoteToken:n});case 15:if("html"!==N.mode){e.next=20;break}return e.next=18,T(j);case 18:return e.next=20,N.run();case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.readDir(w.Ql);case 2:if(!(t=e.sent).error){e.next=5;break}return e.abrupt("return");case 5:n=t.children.map((function(e){return e.filename})),(r=(0,E.T)(n,"nix"))&&D.openFile(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.J9)({repoNameWithOwner:t,accessToken:n});case 2:if(!("error"in(r=e.sent))){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",r.some((function(e){return e.path===g.l})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)(s().mark((function e(r){var i,a,o,l,u,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.remote,a=r.accessToken,o=r.username,n(!0),e.next=4,ce();case 4:return e.next=6,se(i,a,o);case 6:return e.next=8,oe();case 8:return e.next=10,b({variables:{input:{id:c,doClone:!1}}});case 10:return e.next=12,le();case 12:if(l=(0,C.J)(i),u=!1,!l||!a){e.next=19;break}return d=l.username,f=l.repository,e.next=18,ue("".concat(d,"/").concat(f),a);case 18:u=e.sent;case 19:if(n(!1),"html"!==N.mode){e.next=22;break}return e.abrupt("return");case 22:if(!u){e.next=24;break}return e.abrupt("return");case 24:t();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},51871:function(e,t,n){n.d(t,{h:function(){return u},x:function(){return l}});var r=n(29815),i=n(67294),a=n(61927),o=n(10129),c=n(91131),s=(0,c.cn)([]);function l(e,t){var n=t.run,a=t.enabled,o=void 0===a||a,l=(0,c.b9)(s);(0,i.useEffect)((function(){if(o){var t={shortcut:e,run:n};return l((function(e){return(0,r.Z)(e).concat([t])})),function(){l((function(e){return e.filter((function(e){return e!==t}))}))}}}),[e,n,l,o])}function u(){var e=(0,c.Dv)(s);return(0,i.useEffect)((function(){var t=function(t){(0,a.b)(t);var n=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var l,u=c.value,d=u.shortcut,f=u.run;d.cmdOrCtrlKey===Boolean((0,o.j)(t))&&d.altKey===Boolean(t.altKey)&&d.shiftKey===Boolean(t.shiftKey)&&(null===(l=d.key)||void 0===l?void 0:l.toLowerCase())===t.key.toLowerCase()&&(t.preventDefault(),f())}}catch(p){r=!0,i=p}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),null}},12771:function(e,t,n){n.d(t,{K:function(){return a},R:function(){return o}});var r=n(59637),i=n(29815);function a(e,t){var n=(0,r.Z)(t),i=n[0],a=n.slice(1);if("floating"===i){if(!e.floating)return null;var o=a[0];if("number"!==typeof o)throw new Error("Expected floatingIndex");var c=e.floating[o];if(!c)throw new Error("Expected paneGroup");return c}if("tiling"!==i)throw new Error("Expected tiling path");var s=e.tiling;if(!s)return null;var l=s,u=a.length,d=0,f=!0,p=!1,h=void 0;try{for(var m,v=a[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;if("paneGroup"===l.type)break;if("number"!==typeof g)throw new Error("Expected number");d++,l=l.children[g]}}catch(b){p=!0,h=b}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}return u===d?l:null}function o(e,t){var n=e.floating.find((function(e){return e.panes.includes(t)}));if(n)return{index:n.panes.indexOf(t),paneGroup:n,paneGroupPath:["floating",e.floating.indexOf(n)],floating:!0};var r=e.tiling;if(!r)throw new Error("Invalid paneId");for(var a=[{paneGroupPath:["tiling"],parent:null,grandparent:null,node:r}];a.length;){var o=a.shift();if(!o)throw new Error("Expected item");if("split"===o.node.type){var c=!0,s=!1,l=void 0;try{for(var u,d=o.node.children[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var f=u.value;a.push({grandparent:o.parent,parent:o.node,node:f,paneGroupPath:(0,i.Z)(o.paneGroupPath).concat([o.node.children.indexOf(f)])})}}catch(p){s=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}else if(o.node.panes.includes(t))return{paneGroupPath:o.paneGroupPath,paneGroup:o.node,parent:o.parent,grandparent:o.grandparent,index:o.node.panes.indexOf(t),floating:!1}}throw new Error("Invalid paneId")}},68963:function(e,t,n){n.d(t,{Tu:function(){return s},mZ:function(){return a}});var r=n(12771),i=n(91885);function a(e,t){var n=void 0===t.activeIndex?0:t.activeIndex;if(t.isFloating)e.floating.push({type:"floatingPaneGroup",panes:t.panes,activeIndex:n,rect:t.rect});else{var a=null;if(Array.isArray(t.relativeTo))a=t.relativeTo;else a=(0,r.R)(e,t.relativeTo).paneGroupPath;if(null===a)throw new Error("Expected relativeTo");if("tiling"!==a[0])throw new Error("Expected tiling path");var c=t.placement,s=t.panes,l=t.percent,u="above"===c||"below"===c,d="rightOf"===c||"below"===c;if(e.tiling||1!==a.length){if(!e.tiling)throw new Error("Expected tiling");var f=(0,r.K)(e,a);if(!f||!(0,i.r)(f))throw new Error("Expected tiled node");if(1!==a.length||"replace"!==c){if(1===a.length&&"paneGroup"===e.tiling.type){var p=[e.tiling];return e.tiling={type:"split",percent:100,stacked:u,children:p},void o({insertIndex:d?1:0,panes:s,children:p,percent:l,activeIndex:n})}if(1===a.length&&"split"===e.tiling.type){if(Boolean(e.tiling.stacked)===Boolean(u))return void o({panes:s,percent:l,activeIndex:n,insertIndex:d?e.tiling.children.length:0,children:e.tiling.children});var h={panes:s,type:"paneGroup",percent:void 0===l?50:l,activeIndex:n},m=d?[f,h]:[h,f];return f.percent=100-h.percent,void(e.tiling={type:"split",stacked:u,children:m,percent:100})}if(0===a.length)throw new Error("Expected relativeTo length");var v=(0,r.K)(e,(0,i.I)(a));if("split"!==(null===v||void 0===v?void 0:v.type))throw new Error("Expected split parent");if("replace"!==c)if(Boolean(v.stacked)!==Boolean(u))if(Boolean(v.stacked)===Boolean(u));else{var g={panes:s,type:"paneGroup",percent:void 0===l?50:l,activeIndex:n},b=d?[f,g]:[g,f],x=f.percent;f.percent=100-g.percent;var y=v.children.indexOf(f);v.children[y]={type:"split",stacked:u,children:b,percent:x}}else{var Z=v.children.indexOf(f);o({panes:s,percent:l,activeIndex:n,insertIndex:d?Z+1:Z,children:v.children})}else{var w=v.children.indexOf(f);v.children.splice(w,1,{panes:s,percent:f.percent,type:"paneGroup",activeIndex:n})}}else e.tiling={type:"paneGroup",percent:100,panes:s,activeIndex:n}}else e.tiling={type:"paneGroup",percent:100,panes:s,activeIndex:n}}}function o(e){var t=e.percent,n=e.children,r=e.panes,i=e.insertIndex,a=e.activeIndex;if(void 0===t){var o=n.reduce((function(e,t){return e+t.percent}),0)/n.length,c=100/(100+o);n.forEach((function(e){e.percent=e.percent*c}));var s={panes:r,type:"paneGroup",percent:o*c,activeIndex:a};n.splice(i,0,s)}else{var l=(100-t)/100;n.forEach((function(e){e.percent=e.percent*l}));var u={panes:r,type:"paneGroup",percent:t,activeIndex:a};n.splice(i,0,u)}}function c(e,t){var n=t.index,r=t.paneId,i=t.activate,a=void 0===i||i;if(void 0!==n&&n>e.panes.length)throw new Error("Invalid index");var o=void 0===n?e.panes.length:n;e.panes.splice(o,0,r),a&&(e.activeIndex=o)}function s(e,t){if("floating"!==t.paneGroupPath[0]){var n=(0,r.K)(e,t.paneGroupPath);if("paneGroup"!==(null===n||void 0===n?void 0:n.type))throw new Error("Expected paneGroup");c(n,t)}else{var i=t.paneGroupPath[1];if("number"!==typeof i)throw new Error("Expected floatingIndex");var a=e.floating[i];if(!a)throw new Error("Expected paneGroup");c(a,t)}}},80175:function(e,t,n){n.d(t,{Z:function(){return l},i:function(){return s}});var r=n(10253),i=n(59637),a=n(12771),o=n(91885);function c(e,t){e.panes.splice(t,1),0!==e.activeIndex&&(t>e.activeIndex||(e.activeIndex=e.activeIndex-1))}function s(e,t){var n=(0,a.R)(e,t);if(n.floating)if(1===n.paneGroup.panes.length){var r=n.paneGroupPath[1];if("number"!==typeof r)throw new Error("Expected floatingIndex");l(e,["floating",r])}else c(n.paneGroup,n.index);else{var i=n.paneGroup,o=n.paneGroupPath,s=n.parent;if(!i)throw new Error("paneGroup eith paneId not found: "+t);var u=i.panes.indexOf(t);if(-1===u)throw new Error("Expected paneIndex");s||1!==i.panes.length?i.panes.length>1?c(i,u):l(e,o):e.tiling=null}}function l(e,t){var n=(0,i.Z)(t),c=n[0],s=n.slice(1);if("tiling"!==c||0!==s.length)if("floating"!==c||0!==s.length){var l=(0,a.K)(e,t);if(!l)throw new Error("Expected node");if("floatingPaneGroup"!==l.type){var u=(0,o.I)(t),d=(0,a.K)(e,u);if("split"!==(null===d||void 0===d?void 0:d.type))throw new Error("Expected split");var f=d.children.indexOf(l);if(-1===f)throw new Error("Expected paneGroupIndex");var p=d.children;if(p.splice(f,1),p.length>1){var h=100/p.reduce((function(e,t){return e+t.percent}),0);p.forEach((function(e){e.percent=e.percent*h}))}else{var m=(0,r.Z)(p,1)[0],v=u.length>1?(0,a.K)(e,(0,o.I)(u)):null;if(!v)return m.percent=100,void(e.tiling=m);if("split"!==v.type)throw new Error("Expected split");var g=v.children.indexOf(d);if(-1===g)throw new Error("Expected parentIndex");m.percent=d.percent,v.children[g]=m}}else{var b=e.floating.indexOf(l);if(-1===b)throw new Error("Expected paneGroupIndex");e.floating.splice(b,1)}}else e.floating=[];else e.tiling=null}},91885:function(e,t,n){function r(e){if(e.length<1)throw new Error("Expected a path with a parent");return e.slice(0,-1)}function i(e){return"floatingPaneGroup"!==e.type}n.d(t,{I:function(){return r},r:function(){return i}})},72676:function(e,t,n){n.d(t,{iH:function(){return g},SG:function(){return m},pc:function(){return h},rR:function(){return v}});var r=n(29815),i=n(91131),a=n(18172),o=n(62991),c=n.n(o),s=n(12771),l=n(91885);function u(e,t){var n=t.size,i=t.gap,a=t.headerHeight,o=t.inset,c=void 0===o?0:o,u=[],d=[],f=[],p=[],h=null;function m(t,n,o,c){var u=n.children.indexOf(t),v=n.children.length,g=n.stacked?o.height:o.width;var b=function(){var e=o.width,r=o.height,c=t.percent/100;return n.stacked?r=(g-(i*(v-1)+a*v))*c+a:e=(g-i*(v-1))*c,{width:e,height:r}}(),x=b.width,y=b.height,Z=function(){var e=o.x,t=o.y;if(0===u)return{x:e,y:t};if(!h)throw new Error("Expected previousRect");return n.stacked?t=h.y+h.height+i:e=h.x+h.width+i,{x:e,y:t}}(),w={x:Z.x,y:Z.y,height:y,width:x};if(h=w,"paneGroup"===t.type){var k,E={x:w.x,y:w.y+a,width:w.width,height:w.height-a},_={x:E.x,y:E.y-a,width:E.width,height:a};p.push({rect:_,panes:t.panes,activeIndex:t.activeIndex,path:c}),(k=d).push.apply(k,(0,r.Z)(t.panes.map((function(e,n){return{paneId:e,rect:E,active:n===t.activeIndex}}))))}else t.children.forEach((function(e,n){return m(e,t,w,(0,r.Z)(c).concat([n]))}));if(0!==u){var C={x:w.x-(n.stacked?0:i),y:w.y-(n.stacked?i:0),width:n.stacked?w.width:i,height:n.stacked?i:w.height},S=(0,l.I)(c),T=(0,r.Z)(S).concat([u-1]),I=(0,s.K)(e,T);if(!I||!(0,l.r)(I))throw new Error("Expected leftNode");var j=void 0;0===I.percent?j="left":0===t.percent&&(j="right"),f.push({parentPath:S,leftPath:T,rightPath:c,stacked:n.stacked,rect:C,snapped:j})}}var v={x:c,y:c,width:n.width-2*c,height:n.height-2*c},g=e.tiling;if("paneGroup"===(null===g||void 0===g?void 0:g.type)){var b,x={x:v.x,y:v.y+a,width:v.width,height:v.height-a},y={x:x.x,y:x.y-a,width:x.width,height:a};p.push({rect:y,panes:g.panes,activeIndex:g.activeIndex,path:["tiling"]}),(b=d).push.apply(b,(0,r.Z)(g.panes.map((function(e,t){return{paneId:e,rect:x,active:t===g.activeIndex}}))))}else g&&g.children.forEach((function(e,t){return m(e,g,v,["tiling",t])}));return e.floating.forEach((function(e,t){var n,i=e.rect,o={height:a,width:i.width,x:i.x,y:i.y},c={x:i.x,y:i.y+a,width:i.width,height:Math.max(i.height-a,0)};p.push({rect:o,panes:e.panes,activeIndex:e.activeIndex,path:["floating",t]}),(n=u).push.apply(n,(0,r.Z)(e.panes.map((function(t,n){return{paneId:t,rect:c,active:n===e.activeIndex}}))))})),{tiles:d,gutters:f,headers:p,floating:u}}var d=n(95068),f=n(12727),p=n(78648),h=30,m=8,v=(0,i.cn)(null,(function(e,t,n){t(f.CK,n),t(g,e(d.g4))})),g=(0,i.cn)(null,(function(e,t,n){var i=function(n){var r=n.paneId,i=n.rect,o=n.type,s=n.isHidden;b.delete(r);var l=(0,f.z)(r),u=e(l),d=(0,a.ZP)(u,(function(e){e.paneId=r,e.rect=i,e.type=o,e.isDialog=!1,e.dropBehavior=null,e.isHidden=s}));c()(u,d)||t(l,d)},o=e(f.M0),s=e(f.CK),l=e(f.WA),h=e(f.X2),v=e(f.g3),g=e(f.If),b=new Set((0,r.Z)(l).concat((0,r.Z)(h))),x=new Set(v),y=new Set(g),Z=u(n,{gap:m,size:{width:s.width,height:s.height},headerHeight:o}),w=Z.tiles,k=Z.floating,E=Z.gutters,_=Z.headers,C=E.map(p.xH);c()(v,C)||t(f.g3,C);var S=w.map((function(e){return e.paneId}));c()(l,S)||t(f.WA,S);var T=k.map((function(e){return e.paneId}));c()(h,T)||t(f.X2,T);var I=[];_.forEach((function(n){var r={headerId:(0,p.T6)(n),rect:n.rect,panes:n.panes,activeIndex:n.activeIndex,path:n.path};y.delete(r.headerId);var i=(0,f.Xs)(r.headerId),a=e(i);I.push(r.headerId),c()(a,r)||t(i,r)})),c()(g,I)||t(f.If,I),w.forEach((function(e){var t=e.paneId,n=e.rect,r=e.active;i({paneId:t,rect:n,isHidden:!r,type:"tile"})})),k.forEach((function(e){var t=e.paneId,n=e.rect,r=e.active;i({paneId:t,rect:n,isHidden:!r,type:"floating"})})),E.forEach((function(n){var r={handleId:(0,p.xH)(n),rect:n.rect,parentPath:n.parentPath,leftPath:n.leftPath,rightPath:n.rightPath,stacked:n.stacked,snapped:n.snapped};x.delete(r.handleId);var i=(0,f.vv)(r.handleId),a=e(i);c()(a,r)||t(i,r)})),b.forEach(f.z.remove),x.forEach(f.vv.remove),y.forEach(f.Xs.remove),t(d.g4,n)}))},63035:function(e,t,n){n.d(t,{C$:function(){return d},Cb:function(){return p},XD:function(){return u},gM:function(){return l},gr:function(){return f},h$:function(){return s}});var r=n(91131),i=n(12771),a=n(95068),o=n(30170),c=n(12727),s=(0,r.cn)(!1),l=(0,r.cn)(!1),u=(0,r.cn)((function(e){return e(l)?"webview":"runnerOutput"})),d=(0,r.cn)((function(e){var t=e(u);return e(c.Eh).find((function(n){return e(n.data).type===t}))})),f=(0,r.cn)((function(e){var t=e(s),n=e(o.T5);return t?["tiling",n?1:0,0]:["tiling",n?1:0]})),p=(0,r.cn)((function(e){var t=e(s),n=e(o.T5),r=t?["tiling",n?1:0,1]:["tiling",n?2:1],c=e(a.g4),l=(0,i.K)(c,r);return"split"===(null===l||void 0===l?void 0:l.type)&&r.push(l.children.length-1),r}))},47875:function(e,t,n){n.d(t,{H:function(){return a},Q:function(){return o}});var r=n(91131),i=n(21131),a=(0,r.cn)({flagVisualDotReplitEditor:!1,flagSaveLayoutState:!1,flagLayoutSplits:!1});function o(e){var t=(0,i.Z)((function(){return(0,r.cn)((function(t){return Boolean(t(a)[e])}))}),[e]);return(0,r.Dv)(t)}},36757:function(e,t,n){n.d(t,{g2:function(){return b},zx:function(){return x},$r:function(){return g},vN:function(){return v}});var r=n(26042),i=n(91131),a=n(18172),o=n(71171),c=n.n(o),s=n(80175),l=n(68963),u=n(12771),d=n(91885);var f=n(95068),p=n(78648),h=n(12727),m=n(72676),v=(0,i.cn)(null,(function(e,t,n){t(e((0,h.z)(n.paneId)).data,n.data),n.makeActive&&t(f.W1,{paneId:n.paneId})})),g=(0,i.cn)(null,(function(e,t,n){var i=(0,r.Z)({},e(f.V1));delete i[n],t(f.V1,i);var o=e((0,h.z)(n)),c=e(f.g4),l=e(o.isActiveAtom)?(0,u.R)(c,n).paneGroupPath:null,d=(0,a.ZP)(c,(function(e){(0,s.i)(e,n)}));if(t(m.iH,d),l){var p=(0,u.K)(d,l);if("paneGroup"===(null===p||void 0===p?void 0:p.type)){var v=p.panes[p.activeIndex];v&&t(f.W1,{paneId:v})}}})),b=(0,i.cn)(null,(function(e,t,n){var r=e(f.g4),i=c()(),o=(0,a.ZP)(r,(function(e){(0,l.mZ)(e,{panes:[i],relativeTo:n.relativeTo||["tiling"],placement:n.placement,percent:n.percent})}));t(m.iH,o),t(e((0,h.z)(i)).data,n.pane),n.makeActive&&t(f.W1,{paneId:i})})),x=((0,i.cn)(null,(function(e,t,n){var r={};e(h.Eh).forEach((function(t){r[t.paneId]=e(t.data)}));var i=(0,p.kA)({paneData:r},n.match);if(i)t(v,{paneId:i.paneId,data:n.pane});else if(e(h.Eh).some((function(e){return"tile"===e.type}))){var a=!0,o=!1,c=void 0;try{for(var s,l=n.insertTrys[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,d=(0,p.kA)({paneData:r},u.match);if(d)return"replace"===u.placement?void t(v,{paneId:d.paneId,data:n.pane,makeActive:Boolean(u.makeActive)}):void t(b,{pane:n.pane,percent:u.percent,relativeTo:d.paneId,placement:u.placement,makeActive:Boolean(u.makeActive)})}}catch(f){o=!0,c=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}t(b,{pane:n.pane,placement:"rightOf",makeActive:!0,relativeTo:["tiling"]})}else t(b,{pane:n.pane,placement:"replace",makeActive:!0})})),(0,i.cn)(null,(function(e,t,n){var r=n.a,i=n.b,o=e(f.g4),c=(0,a.ZP)(o,(function(e){!function(e,t){var n=t.a,r=t.b,i=(0,d.I)(n),a=(0,u.K)(e,i);if("split"!==(null===a||void 0===a?void 0:a.type))throw new Error("Expected splitNode");var o=(0,u.K)(e,n);if(!o||!(0,d.r)(o))throw new Error("Expected nodeA");var c=(0,u.K)(e,r);if(!c||!(0,d.r)(c))throw new Error("Expected nodeB");var s=a.children.indexOf(o),l=a.children.indexOf(c);if(1!==Math.abs(s-l))throw new Error("Expected adjacent indexes");a.children[s]=c,a.children[l]=o}(e,{a:r,b:i})}));t(m.iH,c)})),(0,i.cn)(null,(function(e,t,n){var r=e((0,h.z)(n.fromPaneId));if(r.isDialog){t(g,r.paneId);var i=e(h.Eh).some((function(e){return"tile"===e.type}));t(b,i?{pane:n.data,placement:"leftOf",makeActive:!0}:{pane:n.data,placement:"replace",makeActive:!0})}else t(v,{paneId:n.fromPaneId,data:n.data,makeActive:!0})})))},30170:function(e,t,n){n.d(t,{Dn:function(){return u},Ix:function(){return x},T5:function(){return b},Wp:function(){return m},jw:function(){return g},nv:function(){return d},sz:function(){return f},ye:function(){return v},zN:function(){return h}});var r=n(10253),i=n(29815),a=n(91131),o=n(95068),c=n(36757),s=n(86292),l=n(12727),u=["tutorial","kaboombar","filetree","git","packager","envEditor","debugger","database","autograder","unitTests","education","preferences","adminPanel"],d=(0,a.cn)([]),f=(0,a.cn)((function(e){var t=e(b);return t&&u.includes(t.type)?t.type:null})),p=function(e){var t={action:"opened"};switch(e){case"git":return(0,s.j)(s.U3.VERSION_CONTROL_FEATURE_USED,t);case"envEditor":return(0,s.j)(s.U3.ENV_EDITOR_USED,t);case"database":return(0,s.j)(s.U3.DATABASE_USED,t);case"packager":return(0,s.j)(s.U3.PACKAGE_MANAGER_USED,t);case"unitTests":return(0,s.j)(s.U3.REPL_UNIT_TEST_USED,t);case"debugger":return(0,s.j)(s.U3.DEBUGGER_USED,t)}},h=(0,a.cn)(null,(function(e,t,n){var r=e(b);if(!r)return t(c.g2,{pane:{type:n},percent:20,placement:"leftOf",makeActive:!1}),void p(n);r.type!==n?(t(c.vN,{paneId:r.paneId,data:{type:n}}),r.type!==n&&p(n)):t(c.$r,r.paneId)})),m=(0,a.cn)(null,(function(e,t,n){var r=e(b);if(!r)return t(c.g2,{pane:{type:n},percent:20,placement:"leftOf",makeActive:!1}),void p(n);t(c.vN,{paneId:r.paneId,data:{type:n}}),r.type!==n&&p(n)})),v=(0,a.cn)(null,(function(e,t,n){var r=e(d);r.some((function(e){return e.type===n.type}))||t(d,u.reduce((function(e,t){if(n.type===t)return(0,i.Z)(e).concat([n]);var a=r.find((function(e){return e.type===t}));return a?(0,i.Z)(e).concat([a]):e}),[]))})),g=(0,a.cn)(null,(function(e,t,n){var r=e(d),i=r.filter((function(e){return e.type!==n}));i.length!==r.length&&t(d,i)})),b=(0,a.cn)((function(e){var t=e(o.g4);if(!t.tiling)return null;if("split"!==t.tiling.type)return null;if(t.tiling.stacked)return null;var n=(0,r.Z)(t.tiling.children,1)[0];if("paneGroup"!==n.type)return null;var i=e(l.Eh).find((function(e){return e.paneId===n.panes[0]}));if(!i)return null;var a=e(i.data).type;return u.some((function(e){return e===a}))?{paneId:i.paneId,type:a}:null})),x=(0,a.cn)((function(e){return Boolean(e(b))}))},11731:function(e,t,n){n.d(t,{$1:function(){return I},d6:function(){return R},bg:function(){return j},PC:function(){return T},M4:function(){return S},Et:function(){return _},_N:function(){return k},c:function(){return P},a4:function(){return B},SG:function(){return C},Up:function(){return N},ao:function(){return E},im:function(){return Z},Ky:function(){return w},Oe:function(){return y}});var r=n(65456),i=n(71171),a=n.n(i),o=n(18172),c=n(91131),s=n(68963),l=n(12771);var u=n(95068),d=n(12727),f=n(80175),p=n(36757),h=n(63035),m=n(54992),v=n(47875),g=n(78648),b=n(72676),x=n(61412),y=(0,c.cn)(null,(function(e,t,n){var r=e(u.g4),i=(0,l.R)(r,n);t((0,d.Xs)((0,g.XY)(i.paneGroupPath)),(function(e){return(0,o.ZP)(e,(function(e){e.activeIndex=i.index}))}));var a=!0,c=!1,s=void 0;try{for(var f,p=i.paneGroup.panes[Symbol.iterator]();!(a=(f=p.next()).done);a=!0){var h=f.value;t((0,d.z)(h),(function(e){return(0,o.ZP)(e,(function(e){e.isHidden=e.paneId!==n}))}))}}catch(m){c=!0,s=m}finally{try{a||null==p.return||p.return()}finally{if(c)throw s}}t(u.g4,(0,o.ZP)(r,(function(e){!function(e,t){var n=(0,l.R)(e,t).paneGroup;if(!n)throw new Error("Expected pane group");var r=n.panes.indexOf(t);if(-1===r)throw new Error("Expected index");n.activeIndex=r}(e,n)}))),t(u.W1,{paneId:n})})),Z=(0,c.cn)(null,(function(e,t){var n=e(h.Cb),r=e(h.C$);if(r)t(y,r.paneId);else{var i=e(h.XD);t(_,{paneGroupPath:n,index:0,pane:{type:i}})}})),w=(0,c.cn)(null,(function(e,t,n){var r=e(d.Eh).find((function(t){return e(t.data).type===n.type}));if(r)t(y,r.paneId);else{var i=e(h.Cb),a=e(u.g4),o=(0,l.K)(a,i);if("paneGroup"===(null===o||void 0===o?void 0:o.type)){var c=o.panes.length;t(_,{paneGroupPath:i,index:c,pane:n})}}})),k=(0,c.cn)(null,(function(e,t,n){if(!e(d.Eh).find((function(t){return e(t.data).type===n}))){var r=e(h.h$),i=e(h.Cb);t(p.g2,{pane:{type:n},placement:r?"leftOf":"above",relativeTo:i,makeActive:!1})}})),E=(0,c.cn)(null,(function(e,t,n){var r=e(d.Eh).find((function(t){return e(t.data).type===n.type}));if(r){var i=e(u.g4),a=(0,o.ZP)(i,(function(e){(0,f.i)(e,r.paneId)}));t(b.iH,a)}})),_=(0,c.cn)(null,(function(e,t,n){var r=e(u.g4),i=a()(),c=(0,o.ZP)(r,(function(e){(0,s.Tu)(e,{paneId:i,activate:n.activate,paneGroupPath:n.paneGroupPath,index:n.index})}));t(b.iH,c),t(e((0,d.z)(i)).data,n.pane),n.activate&&t(u.W1,{paneId:i})})),C=(0,c.cn)(null,(function(e,t,n){var r=e(u.g4),i=(0,o.ZP)(r,(function(e){var t=(0,l.R)(e,n.paneId);if("paneGroup"!==t.paneGroup.type)throw new Error("Expected paneGroup");var r=(0,l.K)(e,n.toPaneGroupPath);if("paneGroup"!==(null===r||void 0===r?void 0:r.type))throw new Error("Expected toPaneGroup");var i=1===t.paneGroup.panes.length,o=!r.panes.includes(n.paneId);i&&!o||(i&&o&&(0,s.Tu)(e,{paneId:a()(),activate:!1,paneGroupPath:t.paneGroupPath}),(0,f.i)(e,n.paneId),(0,s.Tu)(e,{paneId:n.paneId,paneGroupPath:n.toPaneGroupPath,index:n.index}))}));t(b.iH,i)})),S=((0,c.cn)(null,(function(e,t,n){var r=e(u.g4),i=(0,o.ZP)(r,(function(e){var t=(0,l.R)(e,n.paneToReplace),r=t.index===t.paneGroup.activeIndex;(0,s.Tu)(e,{paneGroupPath:t.paneGroupPath,paneId:n.paneId,index:t.index,activate:r}),(0,f.i)(e,n.paneToReplace)}));t(b.iH,i)})),(0,c.cn)((function(e){return e(d.Eh).some((function(t){return"webview"===e(t.data).type}))}))),T=(0,c.cn)((function(e){return e(d.Eh).some((function(t){return"vnc"===e(t.data).type}))})),I=(0,c.cn)((function(e){return e(d.Eh).some((function(t){return"runnerOutput"===e(t.data).type}))})),j=(0,c.cn)((function(e){return e(d.Eh).some((function(t){return"markdown"===e(t.data).type}))})),R=(0,c.cn)((function(e){return e(d.Eh).some((function(t){return"docs"===e(t.data).type}))})),N=(0,c.cn)(null,(function(e,t,n){var r=n.path,i=n.col,a=n.line,o=e(d.Eh).find((function(t){var n=e(t.data);return!!(0,m.KM)(n)&&r===(0,m.DQ)(n)}));if(!o||n.newTab){var c=e(h.gr),s=e(v.H).flagVisualDotReplitEditor,f=e(x.C),g=(0,m.Dp)({path:r,visualDotReplitEditorEnabled:s&&f}),b="codeEditor"===g?{type:g,data:{path:r,col:i,line:a}}:{type:g,data:{path:r}},Z=(0,l.K)(e(u.g4),c);if("paneGroup"!==(null===Z||void 0===Z?void 0:Z.type))throw new Error("Expected paneGroup");var w=(0,d.z)(Z.panes[Z.activeIndex]),k=e(w),E=e(k.data);n.newTab||!(0,m.KM)(E)&&"commands"!==E.type?t(_,{pane:b,paneGroupPath:c,activate:!0,index:Z.activeIndex+1}):t(p.vN,{paneId:k.paneId,data:b,makeActive:!0})}else t(y,o.paneId)})),P=(0,c.cn)(!1),D=(0,c.cn)(null,(function(e,t,n){var r=e(u.S6).map((function(t){return{paneId:t.paneId,path:(0,m.DQ)(e(t.data))}})).filter((function(e){return n===e.path})),i=[],a=e(u.g4),c=(0,o.ZP)(a,(function(e){var t=!0,n=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var s=o.value.paneId,u=(0,l.R)(e,s);!u.floating&&1===u.paneGroup.panes.length?i.push(s):(0,f.i)(e,s)}}catch(d){n=!0,a=d}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}})),s=!0,d=!1,h=void 0;try{for(var v,g=i[Symbol.iterator]();!(s=(v=g.next()).done);s=!0){var x=v.value;t(p.vN,{paneId:x,data:{type:"commands",data:{autoFocus:!1}}})}}catch(C){d=!0,h=C}finally{try{s||null==g.return||g.return()}finally{if(d)throw h}}var y=!0,Z=!1,w=void 0;try{for(var k,E=r[Symbol.iterator]();!(y=(k=E.next()).done);y=!0){var _=k.value;_.path&&t(u.jM,_.path)}}catch(C){Z=!0,w=C}finally{try{y||null==E.return||E.return()}finally{if(Z)throw w}}t(b.iH,c)})),B=(0,c.cn)(null,(function(e,t,n){var i=n.node.path;if(n.eventType!==r.kS.Delete){var a=e(u.S6).filter((function(t){return(0,m.DQ)(e(t.data))===i})),o=e(v.H).flagVisualDotReplitEditor,c=e(x.C),s={type:(0,m.Dp)({path:n.to,visualDotReplitEditorEnabled:o&&c}),data:{path:n.to}},l=!0,d=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var b=h.value.paneId;t(p.vN,{paneId:b,data:s})}}catch(y){d=!0,f=y}finally{try{l||null==g.return||g.return()}finally{if(d)throw f}}t(u.MI,{from:i,to:n.to})}else t(D,i)}))},78648:function(e,t,n){n.d(t,{T6:function(){return s},XR:function(){return a},XY:function(){return c},kA:function(){return l},xH:function(){return o}});var r=n(26042),i=n(10253);function a(e,t){var n=t.side,i=t.delta,a=(0,r.Z)({},e);return n.startsWith("n")?(a.height=e.height-i.y,a.y=e.y+i.y):n.startsWith("s")&&(a.height=e.height+i.y),n.includes("e")?a.width=e.width+i.x:n.includes("w")&&(a.width=e.width-i.x,a.x=e.x+i.x),a}function o(e){return"handle:"+e.leftPath.join(":")}function c(e){return"header:"+e.join(":")}function s(e){return c(e.path)}function l(e,t){var n=(0,i.Z)(function(e,t){var n=e.paneData,r=[];return Object.entries(n).forEach((function(e){var n=(0,i.Z)(e,2),a=n[0],o=n[1];t({paneId:a,data:o})&&r.push({paneId:a,data:o})})),r}(e,t),1);return n[0]||null}},79848:function(e,t,n){n.d(t,{b:function(){return o},p:function(){return c}});var r=n(55877),i=n.n(r),a=n(53153);function o(e,t){var n={protocolVersion:a.Wj,messageDirection:a.s1.TO_NATIVE,messageId:t,payload:e};null!=window.ReactNativeWebView?window.ReactNativeWebView.postMessage(JSON.stringify(n)):window.postMessage(n)}function c(e){var t=null!==e&&void 0!==e?e:i()();o({messageType:a.cF.ERROR},t)}},53153:function(e,t,n){var r,i;n.d(t,{CF:function(){return x},Se:function(){return d},T$:function(){return h},Wj:function(){return a},ac:function(){return p},cF:function(){return r},fz:function(){return u},m7:function(){return f},nO:function(){return m},q$:function(){return v},s1:function(){return i},to:function(){return g}}),function(e){e.ERROR="ERROR",e.ACK="ACK",e.RESET="RESET",e.TEXT_EDITOR_CLOSED="TEXT_EDITOR_CLOSED",e.TEXT_EDITOR_STATE="WORKSPACE_STATE",e.TEXT_EDITOR_STATE_REQUEST="WORKSPACE_STATE_REQUEST",e.WORKSPACE_STATE="WORKSPACE_STATE1",e.WORKSPACE_STATE_REQUEST="WORKSPACE_STATE_REQUEST1",e.WORKSPACE_REQUEST_TOGGLE_DRAWER="WORKSPACE_REQUEST_TOGGLE_DRAWER",e.WORKSPACE_REQUEST_TOGGLE_ALLPANES="WORKSPACE_REQUEST_TOGGLE_ALLPANES",e.WORKSPACE_REQUEST_TOGGLE_RUN_STATE="WORKSPACE_REQUEST_TOGGLE_RUN_STATE",e.REQUEST_SET_SELECTION="REQUEST_SET_SELECTION",e.REQUEST_REPLACE_SELECTION="REQUEST_REPLACE_SELECTION",e.REQUEST_SET_TEXT="REQUEST_SET_TEXT",e.REQUEST_INSERT_TEXT="REQUEST_INSERT_TEXT",e.REQUEST_PASTE_TEXT="REQUEST_PASTE_TEXT",e.REQUEST_UNDO="REQUEST_UNDO",e.REQUEST_REDO="REQUEST_REDO",e.REQUEST_FOCUS="REQUEST_FOCUS",e.REQUEST_BLUR="REQUEST_BLUR"}(r||(r={})),function(e){e.FROM_NATIVE="FROM_NATIVE",e.TO_NATIVE="TO_NATIVE"}(i||(i={}));var a="1";function o(e){return null!==e&&void 0!==e&&"string"===typeof e}function c(e){return null!=e&&"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)&&Number.isSafeInteger(e)&&e>=0}function s(e){return null!=e&&("object"===typeof e&&null!=e&&("location"in e&&"length"in e&&c(e.location)&&c(e.length)))}function l(e){return null!=e&&(!!Array.isArray(e)&&!!e.every((function(e){return s(e)})))}function u(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"revisionId"in e&&"text"in e&&e.messageType===r.REQUEST_REPLACE_SELECTION&&o(e.filePath)&&o(e.revisionId)&&o(e.text)))}function d(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_SET_SELECTION&&o(e.filePath)&&l(e.selections)&&o(e.revisionId)))}function f(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_SET_TEXT&&o(e.filePath)&&o(e.text)&&l(e.selections)&&o(e.revisionId)))}function p(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"insertionRange"in e&&"selections"in e&&"revisionId"in e&&e.messageType===r.REQUEST_INSERT_TEXT&&o(e.filePath)&&o(e.text)&&s(e.insertionRange)&&l(e.selections)&&o(e.revisionId)))}function h(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"text"in e&&"revisionId"in e&&e.messageType===r.REQUEST_PASTE_TEXT&&o(e.filePath)&&o(e.text)&&o(e.revisionId)))}function m(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"revisionId"in e&&e.messageType===r.REQUEST_UNDO&&o(e.filePath)&&o(e.revisionId)))}function v(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"filePath"in e&&"revisionId"in e&&e.messageType===r.REQUEST_REDO&&o(e.filePath)&&o(e.revisionId)))}function g(e){return null!=e&&("object"===typeof e&&null!=e&&("messageType"in e&&"revisionId"in e&&"filePath"in e&&e.messageType===r.REQUEST_BLUR&&o(e.revisionId)&&o(e.filePath)))}function b(e){if(null==e)return!1;if("object"!==typeof e||null==e)return!1;if(!("messageType"in e)||!o(e.messageType))return!1;switch(e.messageType){case r.ERROR:case r.ACK:case r.RESET:return!0;case r.TEXT_EDITOR_CLOSED:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&"filePath"in e&&e.messageType===r.TEXT_EDITOR_CLOSED&&o(e.filePath)}(e);case r.TEXT_EDITOR_STATE:case r.TEXT_EDITOR_STATE_REQUEST:case r.WORKSPACE_STATE:case r.WORKSPACE_STATE_REQUEST:case r.WORKSPACE_REQUEST_TOGGLE_DRAWER:case r.WORKSPACE_REQUEST_TOGGLE_ALLPANES:case r.WORKSPACE_REQUEST_TOGGLE_RUN_STATE:return!0;case r.REQUEST_SET_SELECTION:return d(e);case r.REQUEST_SET_TEXT:return f(e);case r.REQUEST_INSERT_TEXT:return p(e);case r.REQUEST_PASTE_TEXT:return h(e);case r.REQUEST_REPLACE_SELECTION:return u(e);case r.REQUEST_UNDO:return m(e);case r.REQUEST_REDO:return v(e);case r.REQUEST_FOCUS:return function(e){return null!=e&&"object"===typeof e&&null!=e&&"messageType"in e&&e.messageType===r.REQUEST_FOCUS}(e);case r.REQUEST_BLUR:return g(e);default:return!1}}function x(e){return null!=e&&("object"===typeof e&&null!=e&&("protocolVersion"in e&&"messageDirection"in e&&"messageId"in e&&"payload"in e&&o(e.protocolVersion)&&o(e.messageDirection)&&o(e.messageId)&&b(e.payload)))}},15335:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(67294),i=n(99408);function a(){var e=(0,i.Z)().container,t=(0,r.useState)(e.getConnectionState()),n=t[0],a=t[1];return(0,r.useEffect)((function(){return e.onConnectionStateChanged(a)}),[e]),n}},2916:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(10253),i=n(67294),a=n(99408),o=n(5783);function c(){var e,t,n=(0,a.Z)().container,c=(0,r.Z)(i.useState(null!==(t=null===(e=n.getContext())||void 0===e?void 0:e.repl)&&void 0!==t?t:null),2),s=c[0],l=c[1];return i.useEffect((function(){return n.onConnectionStateChanged((function(e){var t,r;e===o.e.CONNECTED&&l(null!==(r=null===(t=n.getContext())||void 0===t?void 0:t.repl)&&void 0!==r?r:null)}))}),[l,n]),s}},48287:function(e,t,n){n.d(t,{D3:function(){return o},EX:function(){return d},HS:function(){return v},If:function(){return i},KQ:function(){return r},MY:function(){return l},OD:function(){return k},PW:function(){return m},Rr:function(){return s},SD:function(){return E},TV:function(){return w},Ul:function(){return y},Wx:function(){return x},XF:function(){return p},_I:function(){return g},cU:function(){return u},d_:function(){return Z},lw:function(){return _},mO:function(){return h},mk:function(){return b},px:function(){return a},qR:function(){return c},w2:function(){return C},xz:function(){return f}});var r=function(e){return{op:"add",path:"run",value:JSON.stringify(e)}},i=function(e){return{op:"add",path:"entrypoint",value:JSON.stringify(e)}},a=function(e){return{op:"add",path:"hidden",value:JSON.stringify(e)}},o=function(e){return{op:"add",path:"compile",value:JSON.stringify(e)}},c=function(e){return{op:"add",path:"onBoot",value:JSON.stringify(e)}},s=function(e){return{op:"add",path:"audio",value:JSON.stringify(e)}},l=function(e){return{op:"add",path:"unitTest/language",value:JSON.stringify(e)}},u=function(e){return{op:"add",path:"nix/channel",value:JSON.stringify(e)}},d=function(e){return{op:"add",path:"env",value:JSON.stringify(e)}},f=function(e){return{op:"remove",path:"string"===typeof e?e:e.join("/"),value:""}},p=function(e,t){return{op:"add",path:"languages/".concat(e,"/languageServer/start"),value:JSON.stringify(t)}},h=function(e,t){return{op:"add",path:"languages/".concat(e,"/pattern"),value:JSON.stringify(t)}},m=function(e){var t=e.regex,n=e.index;return{op:"add",path:"hints/".concat(n,"/regex"),value:JSON.stringify(t)}},v=function(e){var t=e.message,n=e.index;return{op:"add",path:"hints/".concat(n,"/message"),value:JSON.stringify(t)}},g=function(e){return{op:"add",path:"packager/afterInstall",value:JSON.stringify(e)}},b=function(e){return{op:"add",path:"packager/language",value:JSON.stringify(e)}},x=function(e){return{op:"add",path:"packager/ignoredPaths",value:JSON.stringify(e)}},y=function(e){return{op:"add",path:"packager/ignoredPackages",value:JSON.stringify(e)}},Z=function(e){return{op:"add",path:"packager/features/packageSearch",value:JSON.stringify(e)}},w=function(e){return{op:"add",path:"packager/features/guessImports",value:JSON.stringify(e)}},k=function(e){return{op:"add",path:"packager/features/enabledForHosting",value:JSON.stringify(e)}},E=function(e){return{op:"add",path:"debugger",value:JSON.stringify(e)}},_=function(e){return{op:"add",path:"interpreter",value:JSON.stringify(e)}},C=function(e){return{op:"add",path:"packager",value:JSON.stringify(e)}}},37432:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(10253),i=n(67294),a=n(6625),o=n(84810),c=n(31066);function s(e){var t=e.path,n=e.initialExpanded,s=e.fs,l=(0,r.Z)(i.useState(null),2),u=l[0],d=l[1],f=(0,r.Z)(i.useState(null),2),p=f[0],h=f[1],m=(0,r.Z)(i.useState(Boolean(n)),2),v=m[0],g=m[1],b=(0,a.Z)();i.useEffect((function(){if(v){var e=s.watchDir(t,{onChange:function(e){d(e.filter((function(e){return!(0,o.C)(t===c.Ql?e.filename:t+"/"+e.filename)})))},onError:function(e){h(e)}});return function(){b.current&&d(null),e()}}}),[s,t,v,d,h]);var x=i.useCallback((function(){g(!0)}),[]),y=i.useCallback((function(){g(!1)}),[]);return v?p?{collapse:y,expand:x,children:null,expanded:v,loading:!1,error:p}:u?{collapse:y,expand:x,children:u,loading:!1,error:p,expanded:v}:{collapse:y,expand:x,children:u,loading:!0,error:p,expanded:v}:{collapse:y,expand:x,children:null,loading:!1,error:null,expanded:v}}},36739:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(10253),i=n(67294);function a(e,t){var n=(0,r.Z)(i.useState(null),2),a=n[0],o=n[1];return i.useEffect((function(){var n=!1;return e.readFile(t).then((function(e){n||o(e)})),function(){n=!0}}),[e,t]),a}},58823:function(e,t,n){n.d(t,{w:function(){return c}});var r=n(56030),i=n(65456),a=n(58794);function o(e){var t=e.path,n=e.fs,a=e.edits,o=!1,c=n.watchOtFile(t,{onReady:function(e){var t=e.writeOp,n=e.initialContent;t((0,r.Z)(a,n.toString())),o=!0},onStatusChange:function(e){e===i.KF.Clean&&o&&c()}})}function c(e){var t=e.edit,n=e.fs,r=e.client,c=t.documentChanges,s=t.changes;if(c&&c.forEach((function(e){if("textDocument"in e){var t=e.edits,c=e.textDocument;o({path:r.documentUriToPath(c.uri),fs:n,edits:t})}else switch(e.kind){case"create":var s=r.documentUriToPath(e.uri),l=e.options,u=Boolean((null===l||void 0===l?void 0:l.overwrite)||!(null===l||void 0===l?void 0:l.ignoreIfExists)),d=function(){n.writeFile(s,a.Z.from("")).then((function(e){if(e.error)throw new Error("Something went wrong writing to a file")}))};if(u){d();break}n.stat(s).then((function(e){e.exists||d()}));break;case"delete":var f=r.documentUriToPath(e.uri),p=e.options,h=Boolean(null===p||void 0===p?void 0:p.recursive),m=Boolean(null===p||void 0===p?void 0:p.ignoreIfNotExists);n.stat(f).then((function(e){if(!e.exists)throw new Error("Expected file to exist");if(e.type===i.Tv.Directory&&!h)throw new Error("Trying to delete a directory without recursive option enabled");n.deleteFile(f).then((function(e){var t=e.error;if((t!==i.Df.NotFound||!m)&&t)throw new Error("Something went wrong deleting the file")}))}));break;case"rename":var v=r.documentUriToPath(e.oldUri),g=r.documentUriToPath(e.newUri),b=e.options,x=Boolean((null===b||void 0===b?void 0:b.overwrite)||!(null===b||void 0===b?void 0:b.ignoreIfExists)),y=function(){n.moveFile(v,g).then((function(e){if(e.error)throw new Error("Something went wrong moving the file")}))};if(x){y();break}n.stat(g).then((function(e){e.exists||y()}))}})),s)for(var l in s){var u=r.documentUriToPath(l),d=s[l];o({path:u,fs:n,edits:d})}}},56030:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(10253),i=n(78120),a=n(41656),o=n(35256);function c(e,t){var n=[];if(!e.length)return n;var c=i.xv.of(t.split("\n"));if(1===e.length){var s=(0,r.Z)(e,1)[0],l=s.range,u=l.start,d=l.end,f=s.newText;if(0===(0,a.R)(c,u))if((0,a.R)(c,d)===c.length)return(0,o.diffStr)(t,f)}var p=!0,h=!1,m=void 0;try{for(var v,g=e[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value,x=b.range,y=b.newText,Z=[],w=(0,a.R)(c,x.start);w>0&&Z.push(w);var k=(0,a.R)(c,x.end);k>w&&Z.push({d:k-w}),y.length>0&&Z.push(y),n=(0,o.compose)(n,(0,o.transform)(Z,n,"right"))}}catch(E){h=!0,m=E}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}return n}},55528:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(10253),i=n(67294),a=n(99408),o=n(2916),c=n(26042),s=n(69396),l=n(58830),u=n(7787),d=n(48444);function f(e){return Math.floor(performance.now()-e.startTime)}var p=new WeakSet;function h(e){var t=e.client,n=e.replId,r=e.language;if(!p.has(t)){p.add(t);var i=new Map,a=function(e){return{method:e.method,replId:n,language:r,startTime:Math.floor(e.startTime)}},o=(0,l.Z)((function(e,t){var n=f(t);n>1e4&&u.kg.time("LSP unresponsive request",n,a(t))})),h=setInterval((function(){i.forEach((function(e){o(e.id,e)}))}),2e3);return(0,d.uf)([t.onRequest((function(e){var t=e.id,n=e.data;Math.random()<.01&&i.set(t,{id:t,method:n.method,startTime:performance.now()})})),t.onResponse((function(e){var t=e.id,n=e.error,r=i.get(t);null!=r&&(i.delete(t),u.kg.time("LSP request",f(r),(0,s.Z)((0,c.Z)({},a(r)),{result:null==n?"ok":"error"})))})),t.onCancelRequest((function(e){var t=i.get(e);null!=t&&(i.delete(e),u.kg.time("LSP request",f(t),(0,s.Z)((0,c.Z)({},a(t)),{result:"cancelled"})))})),function(){return clearInterval(h)},function(){return p.delete(t)}])}}var m=n(11625);function v(e){var t=(0,o.Z)(),n=(0,a.Z)(),c=n.lsp,s=n.lspnix,l=(0,r.Z)(i.useState(null),2),u=l[0],d=l[1];return i.useEffect((function(){if(null===t||void 0===t?void 0:t.language){var n,r;if(t.language.startsWith("nix")||t.language.startsWith("html"))n=s.onClient(e,d);else(null===(r=c.getClient())||void 0===r?void 0:r.isSupportedFile(e))?d(c.getClient()):d(null),n=c.onClient((function(t){(null===t||void 0===t?void 0:t.isSupportedFile(e))?d(t):d(null)}));return function(){n(),d(null)}}}),[c,s,e,null===t||void 0===t?void 0:t.language]),i.useEffect((function(){if(u&&t)return h({client:u,replId:t.id,language:(0,m.D)(e)})}),[u,t,e]),u}},58502:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(10253),i=n(67294);function a(e){var t=e.presence,n=(0,r.Z)(i.useState(t.getActiveUsers()),2),a=n[0],o=n[1];return i.useEffect((function(){return o(t.getActiveUsers()),t.onActiveUsersChange((function(e){return o(e)}))}),[t]),a}},86601:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(10253),i=n(67294),a=n(99408);function o(){var e=(0,a.Z)().presence,t=(0,r.Z)(i.useState(e.getFollowedUser()),2),n=t[0],o=t[1];return i.useEffect((function(){return o(e.getFollowedUser()),e.onFollowedUserChanged(o)}),[e]),n}},32027:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(86601);function i(){var e=(0,r.Z)();return e?e.color:null}},91513:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(99408),i=n(67294),a=n(48551);function o(e){var t=(0,r.Z)(),n=t.session,o=t.fs,c=(0,i.useCallback)((function(t){var r=t.code,i=t.insertAt,c=t.newLine,s=void 0===c||c;if(!e||(0,a.T3)(e)||(0,a.sL)(e)||(0,a.IQ)(e))throw new Error("Invalid file, this should never happen");if(0!==r.length)var l=o.watchOtFile(e,{onReady:function(e){var t,a=e.initialContent,c=e.writeOp,u=a.toString(),d=n.getCursorPosition().offset;t="end"===i?u.length:"number"===typeof i?i:d;var f=r;s&&(0!==t&&t!==u.length&&-1===(t=u.indexOf("\n",t))&&(t=u.length),0!==t&&"\n"!==u[t-1]&&(f="\n"+f),"\n"!==u[t]&&(f+="\n"));var p=[f];t>0&&p.unshift(t),c(p),o.flush().finally((function(){l()}))}})}),[e,n,o]);return!e||(0,a.T3)(e)||(0,a.sL)(e)?null:c}},7182:function(e,t,n){var r;n.d(t,{z:function(){return r}}),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB",e.Code="CODE",e.Pane="PANE"}(r||(r={}))},27206:function(e,t,n){n.d(t,{P3:function(){return w},QE:function(){return E}});var r=n(26042),i=n(69396),a=n(99534),o=n(10253),c=n(35944),s=n(60536),l=n.n(s),u=n(67294),d=n(94184),f=n.n(d),p=n(31980),h=n(88075),m=n(88961),v=n(44781),g=n(19526),b=n(42941),x=n(43902),y=n(4158),Z=n(37424),w={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},k=u.forwardRef((function(e,t){var n,s,d,p=e.label,k=e.description,_=e.icon,C=e.id,S=e.onChange,T=e.large,I=e.placeholder,j=void 0===I?"":I,R=e.validationResults,N=e.onValidationError,P=e.dataCy,D=(0,a.Z)(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError","dataCy"]),B=(0,Z.H)(),O=C||B("input"),A=k?B("input-description"):void 0,z=(0,o.Z)(u.useState(!1),2),U=z[0],L=z[1];(null===R||void 0===R?void 0:R.some((function(e){return"loading"===e.state})))?(n="loading",s=(0,c.tZ)(x.Z,{style:{width:"24px",height:"24px"}})):(null===R||void 0===R?void 0:R.some((function(e){return"error"===e.state})))?(n="error",d="var(--accent-negative-default)",s=(0,c.tZ)(m.Z,{}),U&&(null===N||void 0===N||N())):(null===R||void 0===R?void 0:R.some((function(e){return"warning"===e.state})))?(n="warning",d="var(--foreground-dimmest)",s=(0,c.tZ)(y.Z,{})):(null===R||void 0===R?void 0:R.every((function(e){return"success"===e.state})))?(n="success",d="var(--accent-positive-default)",s=(0,c.tZ)(h.Z,{})):n="default";var G=w[n],X=T?"var(--font-size-subhead-default)":"var(--font-size-default)";return(0,c.BX)("div",{className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" container",children:[p&&(0,c.BX)(c.HY,{children:[D.required?(0,c.BX)(g.Ug,{spacing:"2px",children:[(0,c.tZ)(v.Z,{tag:"label",foreground:U?1:2,size:T?"small":"xsmall",htmlFor:O,children:p}),(0,c.tZ)("span",{className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" required",children:"*"})]}):(0,c.tZ)(v.Z,{tag:"label",foreground:U?1:2,size:T?"small":"xsmall",htmlFor:O,children:p}),(0,c.tZ)(b.Z,{height:"4px"})]}),(0,c.BX)("div",{className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" input-container",children:[_&&(0,c.tZ)("div",{className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" icon-container left",children:_}),(0,c.tZ)("input",(0,i.Z)((0,r.Z)({id:O,ref:t,required:D.required||!1,onChange:S,placeholder:j,"aria-busy":"loading"===n,"aria-invalid":"error"===n,"aria-describedby":A,"data-cy":P},D),{onFocus:function(e){L(!0),D.onFocus&&D.onFocus(e)},onBlur:function(e){L(!1),D.onBlur&&D.onBlur(e)},className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" "+(f()(G,D.className)||"")})),s&&(0,c.tZ)("div",{onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)},className:l().dynamic([["9c951117c656eeb7",[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"]]])+" icon-container right",children:s})]}),k&&(0,c.BX)(c.HY,{children:[(0,c.tZ)(b.Z,{height:"4px"}),(0,c.tZ)(v.Z,{id:A,tag:"span",foreground:3,size:T?"medium":"small",children:k})]}),(null===R||void 0===R?void 0:R.some((function(e){return!!e.message})))&&U&&(0,c.tZ)(E,{validationResults:R}),(0,c.tZ)(l(),{id:"9c951117c656eeb7",dynamic:[d,X,D.monospace?"var(--font-family-code)":"var(--font-family-default)",X,_?"var(--space-24)":"auto"],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.spacer.row.__jsx-style-dynamic-selector{width:var(--space-4)}.spacer.col.__jsx-style-dynamic-selector{height:var(--space-4)}.input-container.__jsx-style-dynamic-selector{position:relative}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(d,"}.icon-container.left.__jsx-style-dynamic-selector{left:var(--space-4);background-color:transparent;color:var(--foreground-dimmest)}input.__jsx-style-dynamic-selector{font-size:").concat(X,";font-family:").concat(D.monospace?"var(--font-family-code)":"var(--font-family-default)",";line-height:").concat(X,";background-color:var(--background-default);color:var(--foreground-default);padding:var(--space-8);padding-left:").concat(_?"var(--space-24)":"auto",";border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:color.1s,background-color.1s;-moz-transition:color.1s,background-color.1s;-o-transition:color.1s,background-color.1s;transition:color.1s,background-color.1s}input.__jsx-style-dynamic-selector:disabled{opacity:.5}input.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}input.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-stronger)}input.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}input.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}input.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}input.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),E=function(e){var t=e.validationResults;return(0,c.BX)("div",{"aria-live":"polite",className:"jsx-717f837fe0108fc4 container",children:[t.map((function(e,t){var n;switch(e.state){case"success":n=(0,c.tZ)(h.Z,{color:"var(--accent-positive-default)"});break;case"error":n=(0,c.tZ)(m.Z,{color:"var(--accent-negative-default)"});break;case"warning":n=(0,c.tZ)(y.Z,{color:"var(--foreground-dimmest)"});break;default:n=(0,c.tZ)(p.Z,{color:"var(--foreground-dimmest)"})}return(0,c.BX)("div",{className:"jsx-717f837fe0108fc4 validation-row",children:[(0,c.tZ)("div",{className:"jsx-717f837fe0108fc4 validation-icon-container",children:n}),(0,c.tZ)(b.Z,{width:"4px"}),(0,c.tZ)(v.Z,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})),(0,c.tZ)(l(),{id:"717f837fe0108fc4",children:".container.jsx-717f837fe0108fc4{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:-webkit-calc(100% + var(--space-4));top:-moz-calc(100% + var(--space-4));top:calc(100% + var(--space-4));background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:9999;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.validation-row.jsx-717f837fe0108fc4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;width:100%;padding-bottom:var(--space-4)}.validation-icon-container.jsx-717f837fe0108fc4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding-right:var(--space-4)}"})]})};t.ZP=k},44643:function(e,t,n){var r=n(26042),i=n(69396),a=n(99534),o=n(10253),c=n(35944),s=n(60536),l=n.n(s),u=n(67294),d=n(16449),f=n(88961),p=n(88075),h=n(44781),m=n(19526),v=n(42941),g=n(27206),b=n(29245),x=n(37424),y=u.forwardRef((function(e,t){var n,s,y,Z=e.label,w=e.id,k=e.description,E=e.onChange,_=e.fontFamily,C=void 0===_?"sans-serif":_,S=e.fontSize,T=void 0===S?"medium":S,I=e.fontWeight,j=void 0===I?"regular":I,R=e.foreground,N=void 0===R?1:R,P=e.placeholder,D=void 0===P?"":P,B=e.validationResults,O=e.value,A=(0,a.Z)(e,["label","id","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"]),z=(0,d.Z)().ref,U=(0,x.H)(),L=w||U("input"),G=k?U("input-description"):void 0,X=(0,o.Z)(u.useState(!1),2),F=X[0],M=X[1];(null===B||void 0===B?void 0:B.some((function(e){return"loading"===e.state})))?n="loading":(null===B||void 0===B?void 0:B.some((function(e){return"error"===e.state})))?(n="error",y="var(--accent-negative-default)",s=(0,c.tZ)(f.Z,{})):(null===B||void 0===B?void 0:B.every((function(e){return"success"===e.state})))?(n="success",y="var(--accent-positive-default)",s=(0,c.tZ)(p.Z,{})):n="default";var W=g.P3[n],H=(A.className?A.className+" ":"")+W;return(0,c.BX)("div",{className:l().dynamic([["48c1334c65fd9e51",[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]]]])+" container",children:[Z&&(0,c.BX)(c.HY,{children:[A.required?(0,c.BX)(m.Ug,{spacing:"2px",children:[(0,c.tZ)(h.Z,{tag:"label",foreground:F?1:2,size:"large"===T?"small":"xsmall",htmlFor:L,children:Z}),(0,c.tZ)("span",{className:l().dynamic([["48c1334c65fd9e51",[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]]]])+" required",children:"*"})]}):(0,c.tZ)(h.Z,{tag:"label",foreground:F?1:2,size:"large"===T?"small":"xsmall",htmlFor:L,children:Z}),(0,c.tZ)(v.Z,{height:"4px"})]}),(0,c.BX)("div",{className:l().dynamic([["48c1334c65fd9e51",[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]]]])+" textarea-container",children:[(0,c.tZ)("textarea",(0,i.Z)((0,r.Z)({id:L,placeholder:D,value:O,onChange:E,"aria-busy":"loading"===n,"aria-invalid":"error"===n,"aria-describedby":G},A),{ref:function(e){z(e),t&&("function"!==typeof t?t.current=e:t(e))},onFocus:function(e){M(!0),A.onFocus&&A.onFocus(e)},onBlur:function(e){M(!1),A.onBlur&&A.onBlur(e)},className:l().dynamic([["48c1334c65fd9e51",[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]]]])+" "+(H||"")})),s&&(0,c.tZ)("div",{onMouseEnter:function(){return M(!0)},onMouseLeave:function(){return M(!1)},className:l().dynamic([["48c1334c65fd9e51",[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]]]])+" icon-container right",children:s})]}),k&&(0,c.BX)(c.HY,{children:[(0,c.tZ)(v.Z,{height:"4px"}),(0,c.tZ)(h.Z,{id:G,tag:"span",foreground:3,size:T,children:k})]}),B&&F&&(0,c.tZ)(g.QE,{validationResults:B}),(0,c.tZ)(l(),{id:"48c1334c65fd9e51",dynamic:[y,b.Z.fontSize[T],b.Z.fontFamily[C],b.Z.fontWeight[j],b.Z.foreground[N],b.Z.lineHeight[T]],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.textarea-container.__jsx-style-dynamic-selector{position:relative}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(y,"}textarea.__jsx-style-dynamic-selector{resize:none;font-size:").concat(b.Z.fontSize[T],";font-family:").concat(b.Z.fontFamily[C],";font-weight:").concat(b.Z.fontWeight[j],";color:").concat(b.Z.foreground[N],";line-height:").concat(b.Z.lineHeight[T],";background-color:transparent;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;transition:.1s;line-height:1.4}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default)}textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})}));t.Z=y},98562:function(e,t,n){var r=n(67294).createContext(null);t.Z=r},67287:function(e,t,n){n.d(t,{Dq:function(){return d},En:function(){return x},FG:function(){return a},H2:function(){return y},Rl:function(){return v},aY:function(){return g},aq:function(){return l},eJ:function(){return c},fc:function(){return b},fv:function(){return s},hq:function(){return o},mT:function(){return m},qg:function(){return f},sC:function(){return p},tK:function(){return r},wP:function(){return i},yY:function(){return h},zT:function(){return u}});var r="OPEN_SIDEPANE_BY_TYPE",i="NEW_CONSOLE_MESSAGE",a="LOADING_ENGINE_COMPLETE",o="LOADING_EXECUTION_ENGINE_STARTED",c="RESIZE_TERMINAL",s="CLEAR_CONSOLE",l="STOP_EVAL",u="WORKSPACE_WILL_UNMOUNT",d="UPDATE_WORKSPACE_PREFERENCES",f="@@INIT",p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return{data:e,type:t,raw:!!n}};function h(e){var t=e.wid,n=e.message,r=e.type,a=void 0===r?"":r,o=e.raw;return{wid:t,type:i,message:p(n,a,!!o)}}function m(e){return{type:"RUN_REPL",wid:e.wid}}function v(e){var t=e.wid;return{type:l,wid:t}}function g(e){return{type:"EVAL_CODE",wid:e.wid,code:e.code,clean:e.clean}}function b(e){return{type:"UPDATE_LAYOUT",wid:e.wid,path:e.path,to:e.to,property:e.property}}function x(e){var t=e.wid,n=e.pud;return{type:s,wid:t,pud:n}}function y(e){var t=e.wid,n=e.cols,r=e.rows;return{type:c,wid:t,cols:n,rows:r}}},11533:function(e,t,n){n.d(t,{jz:function(){return k},yC:function(){return Z}});var r=n(47568),i=n(10253),a=n(34051),o=n.n(a),c=n(35944),s=(n(67294),n(92876)),l=n(87653),u=n(86292),d=n(36706),f=n(67273),p=n(50009),h=n(19526),m=n(28173),v=n(3218),g=n(64743),b=100,x="signal: broken pipe",y=["exit status 1",x];function Z(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(o().mark((function e(t){var n,r,a,c,l,d,f,p,h,m,v,g,Z,w,k,E,_,C,S,T,I,j,R,N,P,D;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.container,a=window.performance.now(),e.next=4,r.exec("ag","--noaffinity","--context=0","--workers=1","--literal","--ackmate","--pager","head -".concat(300),"--",n);case 4:if(c=e.sent,l=c.output,d=c.error,f=d&&!y.includes(d),(0,u.j)(u.U3.COMMAND_BAR_SEARCH,{duration:window.performance.now()-a,failed:f}),!f){e.next=12;break}return s.Tb(new Error("Search command failed with error: ".concat(d))),e.abrupt("return",{error:d,results:null,isPartialResult:!1});case 12:if(l){e.next=14;break}return e.abrupt("return",{error:null,results:{},isPartialResult:!1});case 14:p=l.split("\n"),h={},m="",v=0,g=d===x,Z=!0,w=!1,k=void 0,e.prev=20,E=p[Symbol.iterator]();case 22:if(Z=(_=E.next()).done){e.next=46;break}if(C=_.value){e.next=26;break}return e.abrupt("continue",43);case 26:if(!C.startsWith(":")){e.next=30;break}return m=C.slice(1),h[m]=[],e.abrupt("continue",43);case 30:if(!(v>=b)){e.next=33;break}return g=!0,e.abrupt("break",46);case 33:S=C.indexOf(";"),T=parseInt(C.slice(0,S),10),I=C.slice(S+1),j=I.indexOf(":"),R=I.slice(0,j).split(","),N=R.map((function(e){var t=(0,i.Z)(e.split(" "),2),n=t[0],r=t[1];return{column:parseInt(n,10),length:parseInt(r,10)}})),P=I.slice(j+1),D=P.length>151?P.substring(0,149)+"\u2026":P,v++,h[m].push({content:D,lineNumber:T,matches:N});case 43:Z=!0,e.next=22;break;case 46:e.next=52;break;case 48:e.prev=48,e.t0=e.catch(20),w=!0,k=e.t0;case 52:e.prev=52,e.prev=53,Z||null==E.return||E.return();case 55:if(e.prev=55,!w){e.next=58;break}throw k;case 58:return e.finish(55);case 59:return e.finish(52);case 60:return e.abrupt("return",{error:null,results:h,isPartialResult:g});case 61:case"end":return e.stop()}}),e,null,[[20,48,52,60],[53,,55,59]])})))).apply(this,arguments)}function k(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keyboardShortcut;return function(t){var n,a=t.container,s=t.onSelect,u=(0,m.Z)((function(e,t,n){Z(e).then(t).catch(n)}),200);return{data:{type:"basic",label:"Search",icon:(0,c.tZ)(l.Z,{}),description:"Search through your files",keyboardShortcut:e},config:{callOnLeave:!0},commands:function(){var e=(0,r.Z)(o().mark((function e(t){var r,l,m,b,x,y,Z,w,k,E,_,C,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={},!(0,g.sA)(t)){e.next=4;break}return e.abrupt("return",l);case 4:if(!(0!==t.relativeSearchDepth&&t.searchValue.length<4)){e.next=6;break}return e.abrupt("return",l);case 6:if(m=t.searchPath?t.searchPath.join(" "):null){e.next=9;break}return e.abrupt("return",l);case 9:if(1!==(null===(r=t.searchPath)||void 0===r?void 0:r.length)||"files"!==t.searchPath[0]&&"search"!==t.searchPath[0]){e.next=11;break}return e.abrupt("return",l);case 11:return b=Math.random(),n=b,e.next=15,new Promise((function(e,t){u({query:m,container:a},e,t)}));case 15:if(x=e.sent,y=x.results,!(Z=x.error)){e.next=20;break}return e.abrupt("return",{Error:{data:{type:"error",label:Z}}});case 20:if(b===n){e.next=22;break}return e.abrupt("return",l);case 22:if(y){e.next=24;break}return e.abrupt("return",l);case 24:for(w=!0,k=!1,E=void 0,e.prev=25,_=function(){var e=(0,i.Z)(S.value,2),t=e[0];e[1].forEach((function(e){l["".concat(t,":").concat(e.lineNumber)]={config:{match:function(){var n;return{score:(null===(n=v.Z.match(m,e.content))||void 0===n?void 0:n.score)||1,render:function(n){var r=n.isActive,i=(0,c.tZ)(d.JI,{path:t,isActive:r});return(0,c.BX)(h.gC,{spacing:"4px",wrap:"nowrap",children:[(0,c.BX)(f.W,{isActive:r,icon:i,children:[t,":",e.lineNumber]}),(0,c.tZ)(p.xK,{source:e.content,matches:e.matches})]})}}}},data:{label:t,description:"".concat(t,":").concat(e.lineNumber),icon:(0,c.tZ)(d.JI,{path:t}),type:"action",run:function(){s(t,e.lineNumber,e.matches[0].column)}}}}))},C=Object.entries(y)[Symbol.iterator]();!(w=(S=C.next()).done);w=!0)_();e.next=34;break;case 30:e.prev=30,e.t0=e.catch(25),k=!0,E=e.t0;case 34:e.prev=34,e.prev=35,w||null==C.return||C.return();case 37:if(e.prev=37,!k){e.next=40;break}throw E;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.abrupt("return",l);case 43:case"end":return e.stop()}}),e,null,[[25,30,34,42],[35,,37,41]])})));return function(t){return e.apply(this,arguments)}}()}}}var E=k({keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"}});t.ZP=E},36706:function(e,t,n){n.d(t,{JI:function(){return p},a2:function(){return h}});var r=n(47568),i=n(34051),a=n.n(i),o=n(35944),c=n(67294),s=n(3218),l=n(24888),u=n(63736),d=n(67273),f=n(64743);function p(e){var t=e.path,n=e.isActive;return(0,o.tZ)(u.Z,{path:t,fill:n?"var(--white)":void 0,fillDefaultFileIcon:n})}function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keyboardShortcut;return function(t){var n=t.fs,i=t.onSelect,u=t.onCreateNewFile,h=t.session;return{data:{type:"basic",label:"Files",icon:(0,o.tZ)(l.Z,{}),description:"Find a file",keyboardShortcut:e},config:{callOnLeave:!0},commands:function(){var e=(0,r.Z)(a().mark((function e(t){var r,l,m,v,g,b,x,y,Z,w,k,E,_,C,S;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={},!(0,f.sA)(t)){e.next=4;break}return e.abrupt("return",l);case 4:if(m=t.searchPath?t.searchPath.join(" ").toLowerCase():void 0,0===t.relativeSearchDepth||m&&!(m.length<2)){e.next=7;break}return e.abrupt("return",l);case 7:if(t.callStage!==f.xS.Leave||0!==t.relativeSearchDepth&&!t.getCurrentOptions().some((function(e){return e.token.value===m}))){e.next=9;break}return e.abrupt("return",l);case 9:return e.next=11,n.listFiles();case 11:if(!(v=e.sent).error||!(null===(r=t.searchPath)||void 0===r?void 0:r.length)){e.next=15;break}return g=t.searchPath.join(" "),e.abrupt("return",{newFile:{data:{label:g,description:"Create a new file",icon:(0,o.tZ)(p,{path:g}),type:"action",run:function(){return u(g)}},config:{match:function(){return{score:1}}}}});case 15:if("exit status 1"!==v.error){e.next=17;break}return e.abrupt("return",l);case 17:if(b=v.files){e.next=20;break}throw new Error("Expected files");case 20:for(x=h.getRecentFiles(),y=!0,Z=!1,w=void 0,e.prev=22,k=function(){var e=_.value,t=!m||s.Z.match(m,e);if(!t)return"continue";var n=x.includes(e);l[e]={config:{match:function(){return!0===t?{score:n?2:1}:{score:n?2*t.score:t.score,render:function(n){var r=n.isActive,i=(0,o.tZ)(p,{path:e,isActive:r});return(0,o.tZ)(d.W,{isActive:r,icon:i,children:(0,o.tZ)(o.HY,{children:c.Children.map(t.elements,(function(e,t){return(0,o.tZ)(c.Fragment,{children:e},t)}))})})}}}},data:{label:e,description:"",icon:(0,o.tZ)(p,{path:e}),type:"action",run:function(){return i(e)}}}},E=b[Symbol.iterator]();!(y=(_=E.next()).done);y=!0)k();e.next=31;break;case 27:e.prev=27,e.t0=e.catch(22),Z=!0,w=e.t0;case 31:e.prev=31,e.prev=32,y||null==E.return||E.return();case 34:if(e.prev=34,!Z){e.next=37;break}throw w;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return t.searchPath&&(C=t.searchPath.join(" "),S=Object.values(l).some((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.label)===C})),S||(l.newFile={data:{label:C,description:"Create a new file",icon:(0,o.tZ)(p,{path:C}),type:"action",run:function(){return u(C)}},config:{match:function(){return{score:1}}}})),e.abrupt("return",l);case 41:case"end":return e.stop()}}),e,null,[[22,27,31,39],[32,,34,38]])})));return function(t){return e.apply(this,arguments)}}()}}}var m=h({keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"}});t.ZP=m},11006:function(e,t,n){n.d(t,{n:function(){return b},x:function(){return g}});var r=n(51438),i=n(26042),a=n(69396),o=n(10253),c=n(35944),s=n(67294),l=n(60731),u=n(48386),d=n(77365),f=n(41654),p=n(74454),h=n(68122),m=n(82378),v=n(97992),g=new(function(){function e(){var t=this;(0,r.Z)(this,e),this.counter=0,this.enabled=!1,this.logs=(0,m.u)([]),this.clear=function(){t.logs.current=[]}}var t=e.prototype;return t.toggle=function(e){this.enabled=e},t.add=function(e){if(!this.enabled)return{id:-1};var t=this.counter++,n={id:t,request:e,requestTime:Date.now()};return this.logs.update((function(e){return[n].concat(e).slice(0,10)})),{id:t}},t.update=function(e,t){this.enabled&&this.logs.update((function(n){var r=n.findIndex((function(t){return t.id===e.id}));if(-1===r)return n;var i=n.slice();return i[r]=t(i[r]),i}))},t.complete=function(e,t){this.update(e,(function(e){return(0,a.Z)((0,i.Z)({},e),{response:t,responseTime:Date.now()})}))},t.abort=function(e){this.logs.update((function(t){return t.filter((function(t){return t.id!==e.id}))}))},e}()),b=function(){var e,t=(0,h.Z)(g.logs);return(0,c.BX)(l.G7,{css:[l.l0.flex.column],children:[(0,c.BX)(l.G7,{css:[l.l0.flex.row,l.l0.align.center,l.l0.m(4),l.l0.position.sticky,l.l0.top(0),l.l0.backgroundColor.backgroundDefault,l.l0.zIndex(1)],children:[(0,c.tZ)(l.xv,{css:l.l0.flex.grow(1),children:"Requests"}),(0,c.tZ)(u.Z,{onClick:g.clear})]}),(0,c.BX)(l.G7,{css:[l.l0.flex.grow(1),l.l0.flex.column,l.l0.overflow("auto")],children:[t.map((function(t){return(0,c.tZ)(x,{log:t},null!==(e=t.id)&&void 0!==e?e:t.requestTime.valueOf())})),!t.length&&(0,c.tZ)(l.G7,{css:l.l0.m(4),children:"\ud83d\ude14 No logs yet..."})]})]})},x=(0,s.memo)((function(e){var t=e.log,n=t.requestTime,r=t.responseTime,i=t.request,a=t.response,s=(0,o.Z)((0,p.Z)(!0),2),u=s[0],d=s[1],f=i.code.length>20?"...".concat(i.code.slice(-20)):i.code;return(0,c.BX)(l.G7,{css:[l.l0.my(4),l.l0.mx(4)],children:[(0,c.BX)(l.G7,{role:"button",onClick:d,onKeyDown:d,tabIndex:0,css:[l.l0.flex.row,l.l0.rowWithGap(4),{"&:hover":{cursor:"pointer",".lspLog-requestMethod":{textDecoration:"underline"}}}],children:[(0,c.BX)(l.G7,{css:[l.l0.flex.grow(1),l.l0.rowWithGap(2)],children:[(0,c.tZ)(l.xv,{children:y(t)}),(0,c.tZ)(l.xv,{children:(0,c.tZ)("code",{children:f})})]}),(0,c.tZ)(l.G7,{css:{opacity:.5},children:null!=r&&(0,c.BX)(l.xv,{css:l.l0.fontSize(13),children:[r.valueOf()-n.valueOf()," ms"]})})]}),!u&&(0,c.BX)(c.HY,{children:[void 0!==i&&(0,c.tZ)(v.g,{name:"request",src:i}),void 0!==a&&("SuggestCodeResult"===a.__typename?(0,c.BX)("details",{children:[(0,c.tZ)("summary",{children:"Response"}),(0,c.tZ)("pre",{css:[l.l0.overflow("scroll"),l.l0.borderRadius(4),l.l0.p(4),{border:"1px solid ".concat(l.TV.outlineDimmest)}],children:a.code})]}):(0,c.tZ)(v.g,{name:"response",src:a}))]})]})}));function y(e){var t=e.response;return t?"SuggestCodeResult"===t.__typename?(0,c.tZ)(f.Check,{}):(0,c.tZ)(f.Frown,{}):(0,c.tZ)(d.Z,{})}},97992:function(e,t,n){n.d(t,{L:function(){return E},g:function(){return C}});var r=n(26042),i=n(69396),a=n(10253),o=n(35944),c=n(5152),s=n.n(c),l=n(67294),u=n(37424),d=n(97813),f=n(55528),p=n(60731),h=n(48386),m=n(72806),v=n(519),g=n(77365),b=n(41654),x=n(8394),y=n(74454),Z=n(48444),w=n(25108),k=s()((function(){return n.e(367).then(n.t.bind(n,55171,23))}),{loadableGenerated:{webpack:function(){return[55171]}},ssr:!1}),E=function(){var e,t=(0,d.Z)(),n=(0,f.Z)(t||""),c=(0,u.H)(),s=(0,a.Z)((0,y.Z)(!0),2),g=s[0],x=s[1],w=(0,l.useState)(""),k=w[0],E=w[1],C=(0,l.useState)((function(){return[]})),T=C[0],I=C[1],j=(0,a.Z)((0,y.Z)(!0),2),R=j[0],N=j[1],P=(0,a.Z)((0,y.Z)(!0),2),D=P[0],B=P[1],O=(0,l.useCallback)((function(e){I((function(t){return[e].concat(t)}))}),[]),A=(0,l.useCallback)((function(e,t){I((function(n){return n.map((function(n){return n.id===e?t(n):n}))}))}),[]),z=(0,l.useCallback)((function(){I([])}),[]),U=(0,l.useMemo)((function(){var e=k.split(",").map((function(e){return e.trim()})),t=T;return R||(t=t.filter((function(e){return null==e.notification}))),D||(t=t.filter((function(e){return null==e.request}))),k&&(t=t.filter((function(t){return e.some((function(e){var n;return null===(n=t.request||t.notification)||void 0===n?void 0:n.method.toLowerCase().includes(e.toLowerCase())}))}))),t}),[T,R,D,k]);return(0,l.useEffect)((function(){return(0,Z.uf)([null===n||void 0===n?void 0:n.onRequest((function(e){g&&O({id:e.id,canceled:!1,request:e.data,requestTime:new Date})})),null===n||void 0===n?void 0:n.onResponse((function(e){g&&A(e.id,(function(t){return(0,r.Z)((0,i.Z)((0,r.Z)({},t),{responseTime:new Date}),void 0!==e.result?{response:e.result}:{error:e.error})}))})),null===n||void 0===n?void 0:n.onCancelRequest((function(e){g&&A(e,(function(e){return(0,i.Z)((0,r.Z)({},e),{canceled:!0})}))})),null===n||void 0===n?void 0:n.onSendNotification((function(e){g&&O({canceled:!1,notification:e,requestTime:new Date})}))])}),[n,O,A,g]),(0,o.BX)(p.G7,{css:[p.l0.flex.column],children:[(0,o.BX)(p.G7,{css:[p.l0.flex.row,p.l0.align.center,p.l0.m(4),p.l0.position.sticky,p.l0.top(0),p.l0.backgroundColor.backgroundDefault,p.l0.zIndex(1)],children:[(0,o.tZ)(p.xv,{css:p.l0.flex.grow(1),children:n?(0,o.BX)(o.HY,{children:[(0,o.tZ)(S,{})," logs for ",(0,o.tZ)("code",{children:t})]}):"No LSP"}),(0,o.tZ)(v.Z,{isOn:g,onChange:x}),(0,o.tZ)(h.Z,{onClick:z})]}),(0,o.BX)(p.G7,{css:[p.l0.rowWithGap(8),p.l0.m(4),p.l0.mb(8)],children:[(0,o.BX)(p.G7,{css:p.l0.rowWithGap(4),children:[(0,o.tZ)(b.Filter,{}),(0,o.tZ)(p.xv,{children:"Show"})]}),(0,o.BX)(p.G7,{css:p.l0.rowWithGap(4),children:[(0,o.tZ)(m.Z,{id:c("showNotifications"),checked:R,onChange:N}),(0,o.tZ)("label",{htmlFor:c("showNotifications"),children:" Notifications"})]}),(0,o.BX)(p.G7,{css:p.l0.rowWithGap(4),children:[(0,o.tZ)(m.Z,{id:c("showRequests"),checked:D,onChange:B}),(0,o.tZ)("label",{htmlFor:c("showRequests"),children:" Requests"})]})]}),(0,o.tZ)(p.G7,{css:p.l0.rowWithGap(4),children:(0,o.tZ)(p.II,{id:c("filterLsp"),placeholder:"Filter by method (Separate by ,)",onChange:function(e){return E(e.target.value)},value:k})}),(0,o.BX)(p.G7,{css:[p.l0.flex.grow(1),p.l0.flex.column,p.l0.overflow("auto")],children:[U.map((function(t){return(0,o.tZ)(_,{log:t},null!==(e=t.id)&&void 0!==e?e:t.requestTime.valueOf())})),!U.length&&(0,o.tZ)(p.G7,{css:p.l0.m(4),children:"\ud83d\ude14 No logs yet..."})]})]})},_=l.memo((function(e){var t,n=e.log,r=n.requestTime,i=n.responseTime,c=n.request,s=n.response,l=n.notification,u=n.id,d=(0,a.Z)((0,y.Z)(!0),2),f=d[0],h=d[1];return(0,o.BX)(p.G7,{css:[p.l0.my(4),p.l0.mx(4)],children:[(0,o.BX)(p.G7,{role:"button",onClick:h,onKeyDown:h,tabIndex:0,css:[p.l0.flex.row,p.l0.rowWithGap(4),{"&:hover":{cursor:"pointer",".lspLog-requestMethod":{textDecoration:"underline"}}}],children:[(0,o.BX)(p.G7,{css:[p.l0.flex.grow(1),p.l0.rowWithGap(2)],children:[(0,o.tZ)(p.xv,{className:"lspLog-emoji",children:T(n)}),(0,o.BX)(p.xv,{className:"lspLog-requestMethod",children:[(0,o.tZ)("code",{children:null===(t=c||l)||void 0===t?void 0:t.method}),null!=u&&(0,o.BX)("code",{className:"lspLog-logId",css:{opacity:.5},children:["#",u]})]})]}),(0,o.tZ)(p.G7,{css:{opacity:.5},children:null!=i&&(0,o.BX)(p.xv,{css:p.l0.fontSize(13),children:[i.valueOf()-r.valueOf()," ms"]})})]}),!f&&(0,o.BX)(o.HY,{children:[void 0!==c&&(0,o.tZ)(C,{name:"request.params",src:c.params}),void 0!==l&&(0,o.tZ)(C,{name:"notification.params",src:l.params}),void 0!==s&&(0,o.tZ)(C,{name:"response",src:s})]})]})}),(function(e,t){return e.log.id===t.log.id})),C=(0,l.memo)((function(e){var t=e.name,n=e.src,i=(0,x.Z)();return(0,o.tZ)(p.G7,{css:{marginTop:5,".node-ellipsis":{letterSpacing:-2},".object-key span":{letterSpacing:0},".object-key-val":{paddingBottom:"0 !important"},'.object-key + span[style*="margin"], .array-key + span[style*="margin"]':{marginLeft:"0 !important"},".variable-row, .pushed-content .object-key-val":{paddingLeft:"10px !important",paddingBottom:"0 !important"}},children:(0,o.tZ)(k,{iconStyle:"triangle",style:{backgroundColor:"transparent"},displayDataTypes:!1,theme:i,collapseStringsAfterLength:40,collapsed:1,displayObjectSize:!1,name:t,enableClipboard:function(e){var t=(0,r.Z)({},e.src);Object.assign(globalThis,{$msg:t}),w.log("$msg"),w.log(t),navigator.clipboard.writeText(JSON.stringify(t,null,2)).finally((function(){}))},src:"object"===typeof n&&null!==n?n:{value:n}})})})),S=function(){return(0,o.tZ)(p.xv,{css:{display:"inline",fontStyle:"italic",fontWeight:600,textShadow:"".concat(p.TV.redDimmer," 2px 2px")},children:"LSP"})};function T(e){var t=e.canceled,n=e.response,r=e.notification;return t?(0,o.tZ)(b.Close,{}):r?(0,o.tZ)(b.Info,{}):void 0!==n?(0,o.tZ)(b.Check,{}):(0,o.tZ)(g.Z,{})}},8394:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(23837);function i(){return"replitDark"===(0,r.Z)()?"bright":"bright:inverted"}},74454:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useState)(e),n=t[0],i=t[1],a=(0,r.useCallback)((function(){return i((function(e){return!e}))}),[]);return[n,a]}},18943:function(e,t,n){n.d(t,{Z:function(){return vc}});var r=n(26042),i=n(69396),a=n(10253),o=n(35944),c=n(60536),s=n.n(c),l=n(67294),u=n(73935),d=n(68928),f=n(99408),p=n(32027),h=n(47568),m=n(34051),v=n.n(m),g=n(8415),b=n(55528);function x(e){var t,n=e.getServerCapabilities();return{isAutoCompleteSupported:Boolean(null===n||void 0===n?void 0:n.completionProvider),isCompletionItemResolveSupported:Boolean(null===n||void 0===n||null===(t=n.completionProvider)||void 0===t?void 0:t.resolveProvider),isDocumentSymbolSupported:Boolean(null===n||void 0===n?void 0:n.documentSymbolProvider),isFindReferencesSupported:Boolean(null===n||void 0===n?void 0:n.referencesProvider),isFindDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.definitionProvider),isFindTypeDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.typeDefinitionProvider),isFindImplementationSupported:Boolean(null===n||void 0===n?void 0:n.implementationProvider),isTextDocumentSyncSupported:Boolean(null===n||void 0===n?void 0:n.textDocumentSync),isHoverSupported:Boolean(null===n||void 0===n?void 0:n.hoverProvider),isRenameSupported:Boolean(null===n||void 0===n?void 0:n.renameProvider),isCodeActionsSupported:Boolean(null===n||void 0===n?void 0:n.codeActionProvider),isSignatureHelpSupported:Boolean(null===n||void 0===n?void 0:n.signatureHelpProvider)}}function y(e){var t=(0,a.Z)(l.useState(null),2),n=t[0],r=t[1];return l.useEffect((function(){if(e)return r(x(e)),e.onServerCapabilitiesChange((function(){r(x(e))}));r(null)}),[e]),n}var Z=n(51748),w=n(54810),k=n(28173),E=n(78120),_=n(34790),C=n(47421),S=n(41656),T=n(81255),I=n(410);var j=n(69346),R=n(60731),N=n(41942),P=n(91674),D=n(9903),B={p:{fontSize:"calc(".concat(R.TV.fontSizeDefault," + 1px)"),padding:"".concat(R.TV.space2," ").concat(R.TV.space8),lineHeight:1.4,marginBottom:"".concat(R.TV.space8," !important")},"p:last-child":{marginBottom:"".concat(R.TV.space4," !important")},pre:{margin:"".concat(R.TV.space2," ").concat(R.TV.space8," ").concat(R.TV.space2," ").concat(R.TV.space4," !important")},"pre + p":{borderTop:"1px solid ".concat(R.TV.outlineDimmest),paddingTop:R.TV.space4}},O=l.memo((function(e){var t=e.content;return(0,o.tZ)(N.ZP,{css:B,components:{code:function(e){return(0,o.tZ)(D.Z,(0,r.Z)({minimal:!0,disableCopy:!0},e))}},children:t})}));function A(e){var t=e.content;return"string"===typeof t?(0,o.tZ)(O,{content:t}):t.kind===P.MarkupKind.PlainText?(0,o.tZ)(R.G7,{children:(0,o.tZ)(R.xv,{multiline:!0,children:t.value})}):(0,o.tZ)(O,{content:t.value})}var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=E.Py.define(),r=E.QQ.define({create:function(){return t},update:function(t,r){return(0,I.j)(r,n,(function(n){t=e(n.value,t)})),t}});return{effect:n,state:r}}(),U=E.Py.define(),L=E.QQ.define({create:function(){return null},update:function(e,t){if(!t.isUserEvent("input.type"))return e;if(t.changes.empty)return e;var n="";return t.changes.iterChanges((function(e,t,r,i,a){n=a.sliceString(0,1)})),n||null}});function G(e){var t=e.lspClient,n=e.path,a=e.setDecoration,c=function(e){return u.createPortal((0,o.tZ)(X,(0,r.Z)({},e)),s)},s=document.createElement("div"),l={};function d(e,t){return f.apply(this,arguments)}function f(){return f=(0,h.Z)(v().mark((function e(r,i){var a,o,c,s,l,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(null===(a=t.getServerCapabilities())||void 0===a||null===(o=a.signatureHelpProvider)||void 0===o?void 0:o.triggerCharacters)||[]){e.next=4;break}return e.abrupt("return",null);case 4:if(s=r.field(p,!1),l=r.field(L,!1),s||null!=l&&c.includes(l)){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,M(r,i,t,n);case 10:if((u=e.sent)&&u.signatures.length){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var p=E.QQ.define({create:function(){return null},update:function(e,t){return t.isUserEvent("select.pointer")?null:(e&&t.newSelection.main.from!==e.pos&&(e=(0,i.Z)((0,r.Z)({},e),{pos:t.newSelection.main.from})),(0,I.j)(t,z.effect,(function(n){var r=n.value;e=r?{pos:t.newSelection.main.from,create:function(){return function(e){var t=0,n=function(n){a((0,o.tZ)(c,{help:e,index:t,onLayout:n}))};return n(),l.dom=s,l.update=function(r){(0,I.j)(r,U,(function(i){t=(t+i.value+e.signatures.length)%e.signatures.length,n((function(){(0,C.E2)(r.view)}))}))},l}(r)},above:!0}:null})),e)},provide:function(e){return C.hJ.from(e)}}),m=C.lg.define((function(){var e=(0,k.Z)(function(){var e=(0,h.Z)(v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.selection.main).empty){e.next=7;break}return e.next=4,d(t.state,n.from);case 4:(r=e.sent)&&(0,_._B)(t),t.dispatch({effects:z.effect.of(r)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),0);return{update:function(t){t.transactions.some((function(e){return e.selection}))&&t.state.selection.main.empty&&e(t.view)}}})),g=function(e){return function(t){return!!function(e){var t=e.state.field(z.state,!1);return null!=t&&t.signatures.length>1}(t)&&(t.dispatch({effects:U.of(e)}),!0)}},b=[{key:"ArrowDown",run:g(1)},{key:"ArrowUp",run:g(-1)},{key:"Escape",run:function(e){return!!e.state.field(z.state,!1)&&(e.dispatch({effects:z.effect.of(null)}),!0)}}];return[p,z.state,L,m,E.Wl.high(C.$f.of(b))]}var X=function(e){var t,n,r=e.help,i=e.index,a=e.onLayout,c="1px solid ".concat(T.TV.outlineDimmest),s="min(425px, 80vw)";l.useLayoutEffect((function(){return null===a||void 0===a?void 0:a()}),[a]);var u=r.signatures[i],d=r.signatures.length>1;if(!u)return null;var f=u.documentation,p=null!=r.activeParameter&&(null===(t=u.parameters)||void 0===t||null===(n=t[r.activeParameter])||void 0===n?void 0:n.documentation);return(0,o.BX)(j.Z,{css:[T.l0.flex.row,{width:"max-content"}],children:[d&&(0,o.tZ)(j.Z,{css:[T.l0.flex.row,T.l0.pl(4),{borderRight:c,paddingBottom:5}],children:(0,o.BX)("span",{css:[{alignSelf:"flex-end"},T.l0.p(4)],children:[i+1,"/",r.signatures.length]})}),(0,o.BX)(j.Z,{children:[(0,o.tZ)(j.Z,{css:[T.l0.py(4),T.l0.pl(d?4:8),T.l0.pr(8),T.l0.maxHeight(100),T.l0.overflowY("scroll"),T.l0.font.code,{lineHeight:T.TV.lineHeightSmall,maxWidth:s}],children:(0,o.tZ)(F,{signature:u,activeParameter:r.activeParameter})}),Boolean(f||p)&&(0,o.BX)(j.Z,{css:[T.l0.px(d?4:8),T.l0.py(2),T.l0.maxHeight(200),T.l0.overflow("scroll"),{borderTop:c,maxWidth:s}],children:[p?(0,o.tZ)(A,{content:p}):null,f?(0,o.tZ)(A,{content:f}):null]})]})]})};function F(e){var t,n=e.signature,r=n.label,i=n.parameters,c=e.activeParameter;if(null==c||!i)return(0,o.tZ)("span",{children:r});var s=null===(t=i[c])||void 0===t?void 0:t.label;if(!s)return(0,o.tZ)("span",{children:r});var l=(0,a.Z)("string"===typeof s?[r.indexOf(s),r.indexOf(s)+s.length]:s,2),u=l[0],d=l[1];return(0,o.BX)("div",{children:[(0,o.tZ)("span",{children:r.slice(0,u)}),(0,o.tZ)("strong",{children:s}),(0,o.tZ)("span",{children:r.slice(d)})]})}function M(e,t,n,r){return W.apply(this,arguments)}function W(){return W=(0,h.Z)(v().mark((function e(t,n,r,i){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.request.signatureHelp(i,(0,S.s)(t.doc,n));case 2:if(!("error"in(a=e.sent))){e.next=5;break}throw new Error("Something went wrong fetching signature help results: ".concat(a.error.message));case 5:return e.abrupt("return",a.result);case 6:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var H=n(24920);function V(e){var t=e.lspClient,n=e.path;return C.tk.updateListener.of((function(e){var r;if(e.docChanged){var i=null===(r=t.getServerCapabilities())||void 0===r?void 0:r.textDocumentSync;if(i!==H.TextDocumentSyncKind.None&&t.isOpen(n))if(i!==H.TextDocumentSyncKind.Full)t.notify.didChange(n,function(e,t){var n=[],r=t;return e.iterChanges((function(e,t,i,a,o){var c=o.sliceString(0),s=t-e,l=s+i;n.push({range:{start:(0,S.s)(r,i),end:(0,S.s)(r,l)},rangeLength:s,text:c}),r=r.replace(i,l,o)})),n}(e.changes,e.startState.doc));else{var a=e.view.state.doc.toString();t.notify.didChange(n,[{text:a}])}}}))}var q=n(28519);function K(e){var t=e.lspClient,n=e.path;return C.lg.define((function(e){var r=t.onDiagnostics((function(t){if(t.path===n){var r=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value,l=(0,S.R)(t.doc,s.range.start),u=(0,S.R)(t.doc,s.range.end);if(l===u){var d=t.wordAt(u);if(d)l=d.from,u=d.to;else{if(!(u<t.doc.length))continue;u+=1}}var f="info";switch(s.severity){case P.DiagnosticSeverity.Error:f="error";break;case P.DiagnosticSeverity.Warning:f="warning";break;case P.DiagnosticSeverity.Hint:case P.DiagnosticSeverity.Information:f="info"}n.push({from:l,to:u,severity:f,message:s.message,source:s.source})}}catch(p){i=!0,a=p}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(t.diagnostics,e.state);e.dispatch((0,q.p0)(e.state,r))}}));return{destroy:function(){r()}}}))}var Q,Y,J=n(14924),$=n(29815),ee=n(1864),te=n(51438),ne=n(28668),re=n(99534),ie=n(25171),ae=n(59119),oe=n(52951),ce=n(45785),se=n(82662),le=n(82670);!function(e){e[e.Dollar=0]="Dollar",e[e.Colon=1]="Colon",e[e.Comma=2]="Comma",e[e.CurlyOpen=3]="CurlyOpen",e[e.CurlyClose=4]="CurlyClose",e[e.Backslash=5]="Backslash",e[e.Forwardslash=6]="Forwardslash",e[e.Pipe=7]="Pipe",e[e.Int=8]="Int",e[e.VariableName=9]="VariableName",e[e.Format=10]="Format",e[e.Plus=11]="Plus",e[e.Dash=12]="Dash",e[e.QuestionMark=13]="QuestionMark",e[e.EOF=14]="EOF"}(Q||(Q={})),function(e){e[e.DollarSign=36]="DollarSign",e[e.Plus=43]="Plus",e[e.Comma=44]="Comma",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Digit0=48]="Digit0",e[e.Digit9=57]="Digit9",e[e.Colon=58]="Colon",e[e.QuestionMark=63]="QuestionMark",e[e.A=65]="A",e[e.Z=90]="Z",e[e.Backslash=92]="Backslash",e[e.Underline=95]="Underline",e[e.a=97]="a",e[e.z=122]="z",e[e.OpenCurlyBrace=123]="OpenCurlyBrace",e[e.Pipe=124]="Pipe",e[e.CloseCurlyBrace=125]="CloseCurlyBrace"}(Y||(Y={}));var ue,de=function(){function e(){(0,te.Z)(this,e),this.value="",this.pos=0}var t=e.prototype;return t.text=function(e){this.value=e,this.pos=0},t.tokenText=function(e){return this.value.substr(e.pos,e.len)},t.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,n=this.pos,r=0,i=this.value.charCodeAt(n);if("number"===typeof(t=e._table[i]))return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(i)){t=8;do{r+=1,i=this.value.charCodeAt(n+r)}while(e.isDigitCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}}if(e.isVariableCharacter(i)){t=9;do{i=this.value.charCodeAt(n+ ++r)}while(e.isVariableCharacter(i)||e.isDigitCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}}t=10;do{r+=1,i=this.value.charCodeAt(n+r)}while(!isNaN(i)&&"undefined"===typeof e._table[i]&&!e.isDigitCharacter(i)&&!e.isVariableCharacter(i));return this.pos+=r,{type:t,pos:n,len:r}},e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e}();de._table=(ue={},(0,J.Z)(ue,36,0),(0,J.Z)(ue,58,1),(0,J.Z)(ue,44,2),(0,J.Z)(ue,123,3),(0,J.Z)(ue,125,4),(0,J.Z)(ue,92,5),(0,J.Z)(ue,47,6),(0,J.Z)(ue,124,7),(0,J.Z)(ue,43,11),(0,J.Z)(ue,45,12),(0,J.Z)(ue,63,13),ue);var fe=function(){function e(){var t;(0,te.Z)(this,e),this._children=[],t=this,["parent"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,writable:!0})}))}var t=e.prototype;return t.appendChild=function(e){return(0,le.Z)(e,pe)&&(0,le.Z)(this._children[this._children.length-1],pe)?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},t.replace=function(e,t){var n,r=e.parent,i=r.children.indexOf(e),a=r.children.slice(0);(n=a).splice.apply(n,[i,1].concat((0,$.Z)(t))),r._children=a,function e(t,n){var r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value;s.parent=n,e(s.children,s)}}catch(l){i=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}(t,r)},t.toString=function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")},t.len=function(){return 0},t.match=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.entries(ke)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var c=(0,a.Z)(i.value,2),s=c[0],l=c[1];if((0,le.Z)(this,l)&&s in e)return e[s](this)}}catch(u){n=!0,r=u}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},(0,oe.Z)(e,[{key:"children",get:function(){return this._children}},{key:"snippet",get:function(){for(var e=this;;){if(!e)return;if((0,le.Z)(e,Ze))return e;e=e.parent}}}]),e}(),pe=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e){var r;return(0,te.Z)(this,n),(r=t.call(this)).value=e,r}var r=n.prototype;return r.toString=function(){return this.value},r.toTextmateString=function(){return n.escape(this.value)},r.len=function(){return this.value.length},r.clone=function(){return new n(this.value)},n.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},n}(fe),he=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){return(0,te.Z)(this,n),t.apply(this,arguments)}return n}(fe),me=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e){var r;return(0,te.Z)(this,n),(r=t.call(this)).index=e,r}var r=n.prototype;return r.toTextmateString=function(){var e="";return this.transform&&(e=this.transform.toTextmateString()),0!==this.children.length||this.transform?0===this.children.length?"${".concat(this.index).concat(e,"}"):this.choice?"${".concat(this.index,"|").concat(this.choice.toTextmateString(),"|").concat(e,"}"):"${".concat(this.index,":").concat(this.children.map((function(e){return e.toTextmateString()})).join("")).concat(e,"}"):"$".concat(this.index)},r.clone=function(){var e=new n(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},n.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0},(0,oe.Z)(n,[{key:"isFinalTabstop",get:function(){return 0===this.index}},{key:"choice",get:function(){return 1===this._children.length&&(0,le.Z)(this._children[0],ve)?this._children[0]:void 0}}]),n}(he),ve=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){var e;return(0,te.Z)(this,n),(e=t.apply(this,arguments)).options=[],e}var r=n.prototype;return r.appendChild=function(e){return(0,le.Z)(e,pe)&&(e.parent=this,this.options.push(e)),this},r.toString=function(){return this.options[0].value},r.toTextmateString=function(){return this.options.map((function(e){return e.value.replace(/\||,/g,"\\$&")})).join(",")},r.len=function(){return this.options[0].len()},r.clone=function(){var e=new n;return this.options.forEach(e.appendChild,e),e},n}(fe),ge=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){var e;return(0,te.Z)(this,n),(e=t.apply(this,arguments)).regexp=new RegExp(""),e}var r=n.prototype;return r.resolve=function(e){var t=this,n=!1,r=e.replace(this.regexp,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n=!0,t._replace(r.slice(0,-2))}));return!n&&this._children.some((function(e){return(0,le.Z)(e,be)&&Boolean(e.elseValue)}))&&(r=this._replace([])),r},r._replace=function(e){var t="",n=!0,r=!1,i=void 0;try{for(var a,o=this._children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if((0,le.Z)(c,be)){var s=e[c.index]||"";t+=s=c.resolve(s)}else t+=c.toString()}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},r.toString=function(){return""},r.toTextmateString=function(){return"/".concat(this.regexp.source,"/").concat(this.children.map((function(e){return e.toTextmateString()})),"/").concat((this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":""))},r.clone=function(){var e=new n;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e},n}(fe),be=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e,r,i,a){var o;return(0,te.Z)(this,n),(o=t.call(this)).index=e,o.shorthandName=r,o.ifValue=i,o.elseValue=a,o}var r=n.prototype;return r.resolve=function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:e||"string"!==typeof this.elseValue?e||"":this.elseValue},r._toPascalCase=function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1)})).join(""):e},r._toCamelCase=function(e){var t=e.match(/[a-z0-9]+/gi);return t?t.map((function(e,t){return 0===t?e.charAt(0).toLowerCase()+e.substr(1):e.charAt(0).toUpperCase()+e.substr(1)})).join(""):e},r.toTextmateString=function(){var e="${";return e+=this.index,this.shorthandName?e+=":/".concat(this.shorthandName):this.ifValue&&this.elseValue?e+=":?".concat(this.ifValue,":").concat(this.elseValue):this.ifValue?e+=":+".concat(this.ifValue):this.elseValue&&(e+=":-".concat(this.elseValue)),e+="}"},r.clone=function(){return new n(this.index,this.shorthandName,this.ifValue,this.elseValue)},n}(fe),xe=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e){var r;return(0,te.Z)(this,n),(r=t.call(this)).name=e,r}var r=n.prototype;return r.resolve=function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new pe(t)],!0)},r.toTextmateString=function(){var e="";return this.transform&&(e=this.transform.toTextmateString()),0===this.children.length?"${".concat(this.name).concat(e,"}"):"${".concat(this.name,":").concat(this.children.map((function(e){return e.toTextmateString()})).join("")).concat(e,"}")},r.clone=function(){var e=new n(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},n}(he);function ye(e,t){for(var n=(0,$.Z)(e);n.length>0;){var r,i=n.shift();if(!t(i))break;(r=n).unshift.apply(r,(0,$.Z)(i.children))}}var Ze=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){return(0,te.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.offset=function(e){var t=0,n=!1;return this.walk((function(r){return r===e?(n=!0,!1):(t+=r.len(),!0)})),n?t:-1},r.fullLen=function(e){var t=0;return ye([e],(function(e){return t+=e.len(),!0})),t},r.enclosingPlaceholders=function(e){for(var t=[],n=e.parent;n;)(0,le.Z)(n,me)&&t.push(n),n=n.parent;return t},r.resolveVariables=function(e){var t=this;return this.walk((function(n){return(0,le.Z)(n,xe)&&n.resolve(e)&&delete t._placeholders,!0})),this},r.appendChild=function(e){return delete this._placeholders,(0,ce.Z)((0,se.Z)(n.prototype),"appendChild",this).call(this,e)},r.replace=function(e,t){return delete this._placeholders,(0,ce.Z)((0,se.Z)(n.prototype),"replace",this).call(this,e,t)},r.toTextmateString=function(){return this.children.reduce((function(e,t){return e+t.toTextmateString()}),"")},r.clone=function(){var e=new n;return this._children=this.children.map((function(e){return e.clone()})),e},r.walk=function(e){ye(this.children,e)},(0,oe.Z)(n,[{key:"placeholderInfo",get:function(){if(!this._placeholders){var e,t=[];this.walk((function(n){return(0,le.Z)(n,me)&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}},{key:"placeholders",get:function(){return this.placeholderInfo.all}}]),n}(fe),we=function(){function e(){(0,te.Z)(this,e),this._scanner=new de,this._token={type:14,pos:0,len:0}}var t=e.prototype;return t.text=function(e){return this.parse(e).toString()},t.parse=function(e,t,n){this._scanner.text(e),this._token=this._scanner.next();for(var r=new Ze;this._parse(r););var i=new Map,a=[],o=0;r.walk((function(e){return(0,le.Z)(e,me)&&(o+=1,e.isFinalTabstop?i.set(0,void 0):!i.has(e.index)&&e.children.length>0?i.set(e.index,e.children):a.push(e)),!0}));var c=!0,s=!1,l=void 0;try{for(var u,d=a[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var f=u.value,p=i.get(f.index);if(p){var h=new me(f.index);h.transform=f.transform;var m=!0,v=!1,g=void 0;try{for(var b,x=p[Symbol.iterator]();!(m=(b=x.next()).done);m=!0){var y=b.value;h.appendChild(y.clone())}}catch(Z){v=!0,g=Z}finally{try{m||null==x.return||x.return()}finally{if(v)throw g}}r.replace(f,[h])}}}catch(Z){s=!0,l=Z}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return n||(n=o>0&&t),!i.has(0)&&n&&r.appendChild(new me(0)),r},t._accept=function(e,t){if(void 0===e||this._token.type===e){var n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1},t._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},t._until=function(e){for(var t=this._token;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){var n=this._scanner.next();if(0!==n.type&&4!==n.type&&5!==n.type)return!1}this._token=this._scanner.next()}var r=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),r},t._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},t._parseEscaped=function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new pe(t)),!0)},t._parseTabstopOrVariableName=function(e){var t,n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new me(Number(t)):new xe(t)),!0):this._backTo(n)},t._parseComplexPlaceholder=function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);var r=new me(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new pe("${"+t+":")),r.children.forEach(e.appendChild,e),!0}else{if(!(r.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(var i=new ve;;){if(this._parseChoiceElement(i)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(i),this._accept(4)))return e.appendChild(r),!0}return this._backTo(n),!1}}},t._parseChoiceElement=function(e){for(var t=this._token,n=[];2!==this._token.type&&7!==this._token.type;){var r=void 0;if(!(r=(r=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:this._accept(void 0,!0)))return this._backTo(t),!1;n.push(r)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new pe(n.join(""))),!0)},t._parseComplexVariable=function(e){var t,n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);var r=new xe(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(r)?(e.appendChild(r),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(r),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(r),!0;if(!this._parse(r))return e.appendChild(new pe("${"+t+":")),r.children.forEach(e.appendChild,e),!0}},t._parseTransform=function(e){for(var t=new ge,n="",r="";!this._accept(6);){var i=void 0;if(i=this._accept(5,!0))n+=i=this._accept(6,!0)||i;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){var a=void 0;if(a=this._accept(5,!0))a=this._accept(5,!0)||this._accept(6,!0)||a,t.appendChild(new pe(a));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;r+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,r)}catch(o){return!1}return e.transform=t,!0},t._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var r=this._accept(8,!0);if(!r)return this._backTo(t),!1;if(!n)return e.appendChild(new be(Number(r))),!0;if(this._accept(4))return e.appendChild(new be(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new be(Number(r),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){var a=this._until(4);if(a)return e.appendChild(new be(Number(r),void 0,a,void 0)),!0}else if(this._accept(12)){var o=this._until(4);if(o)return e.appendChild(new be(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){var c=this._until(1);if(c){var s=this._until(4);if(s)return e.appendChild(new be(Number(r),void 0,c,s)),!0}}else{var l=this._until(4);if(l)return e.appendChild(new be(Number(r),void 0,void 0,l)),!0}return this._backTo(t),!1},t._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new pe(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.guessNeedsClipboard=function(e){return/\${?CLIPBOARD/.test(e)},e}(),ke={Text:pe,Placeholder:me,Variable:xe,FormatString:be,Choice:ve};function Ee(e,t){var n=t.mapPos(e.from,-1,E.gc.TrackDel),r=t.mapPos(e.to,1,E.gc.TrackDel);return null==n||null==r?null:{field:e.field,from:n,to:r}}var _e=function(){function e(t){(0,te.Z)(this,e),this.lines=t.split(/\r\n?|\n/).map((function(e){return(new we).parse(e).children}))}return e.prototype.apply=function(t){var n=t.view,r=t.from,i=t.to,a=e.instantiate(this.lines,t),o=a.text,c=a.ranges,s={from:r,to:i,insert:E.xv.of(o)},l={changes:s,scrollIntoView:!0};if(c.length&&(l.selection=Ne(c,0)),c.length>1){var u=new Te(c,0),d=l.effects=[Ie.of(u)];void 0===n.state.field(Re,!1)&&d.push(E.Py.appendConfig.of([Re,De,Be]))}if(r===i&&!c.length){var f=E.as.of(s,n.state.doc.length),p=n.state.selection.ranges.map((function(e){return e.map(f,0)}));l.selection=E.jT.create(p,n.state.selection.mainIndex)}return l},e.resolveVariable=function(e,t){var n=t.view,r=t.from,i=t.path;switch(e){case"TM_FILENAME":return(0,ee.basename)(i);case"TM_FILENAME_BASE":return(0,ee.basename)(i,(0,ee.extname)(i));case"TM_DIRECTORY":return(0,ee.dirname)(i);case"TM_FILEPATH":return i;case"TM_LINE_INDEX":return(n.state.doc.lineAt(r).number-1).toString();case"TM_LINE_NUMBER":return n.state.doc.lineAt(r).number.toString();default:return e}},e.instantiate=function(t,n){var a,o=n.view,c=n.from,s=o.state,l=[],u=[],d=s.doc.lineAt(c),f=/^\s*/.exec(d.text)[0],p=s.facet(ae.c),h=!0,m=!1,v=void 0;try{for(var g,b=function(){var t=g.value,r=0,i="",a=function(e){var t=0,n=r;if(0===r&&(t=/^\t*/.exec(e)[0].length)){var a=f+p.repeat(t);e=a+e.slice(t),n+=a.length}return i+=e,r+=e.length,{line:l.length,from:n,to:r}},o=function(t){var i=!0,s=!1,d=void 0;try{for(var f,p=t[Symbol.iterator]();!(i=(f=p.next()).done);i=!0){f.value.match({Text:function(e){a(e.value)},Variable:function(t){var r=t.name,i=t.transform,o=e.resolveVariable(r,n);i&&(o=o.replace(i.regexp,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.children.map((function(e){return e.match({Text:function(e){return e.value},FormatString:function(e){return e.resolve(t[e.index])}})})).filter(Boolean).join("")}))),a(o)},Choice:function(e){a(e.options[0].value)},Placeholder:function(e){var t,n=l.length?c+l.map((function(e){return e.length})).reduce((function(e,t){return e+t})):c;if(null===(t=e.children)||void 0===t?void 0:t.length){var i={field:e.index,from:n+r,to:null};u.push(i),o(e.children),i.to=n+r}else{a("");var s=n+r;u.push({field:e.index,from:s,to:s})}}})}}catch(h){s=!0,d=h}finally{try{i||null==p.return||p.return()}finally{if(s)throw d}}};o(t),l.push(i)},x=t[Symbol.iterator]();!(h=(g=x.next()).done);h=!0)b()}catch(Z){m=!0,v=Z}finally{try{h||null==x.return||x.return()}finally{if(m)throw v}}var y=(a=Math).max.apply(a,(0,$.Z)(u.map((function(e){return e.field}))));return{text:l,ranges:u.map((function(e){var t=e.field,n=(0,re.Z)(e,["field"]);return(0,i.Z)((0,r.Z)({},n),{field:0===t?y:t-1})}))}},e}(),Ce=C.p.widget({widget:new(function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){return(0,te.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.toDOM=function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e},r.ignoreEvent=function(){return!1},n}(C.l9))}),Se=C.p.mark({class:"cm-snippetField"}),Te=function(){function e(t,n){(0,te.Z)(this,e),this.ranges=t,this.active=n,this.deco=C.p.set(t.map((function(e){return(e.from===e.to?Ce:Se).range(e.from,e.to)})))}var t=e.prototype;return t.map=function(t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=this.ranges[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=Ee(o.value,t);if(!s)return null;n.push(s)}}catch(l){i=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return new e(n,this.active)},t.isSelectionInsideField=function(e){var t=this;return e.ranges.every((function(e){return t.ranges.some((function(n){return n.field===t.active&&n.from<=e.from&&n.to>=e.to}))}))},e}(),Ie=E.Py.define({map:function(e,t){return null===e||void 0===e?void 0:e.map(t)}}),je=E.Py.define(),Re=E.QQ.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if(c.is(Ie))return c.value;if(c.is(je)&&e)return new Te(e.ranges,c.value)}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.isSelectionInsideField(t.selection)&&(e=null),e},provide:function(e){return C.tk.decorations.from(e,(function(e){return e?e.deco:C.p.none}))}});function Ne(e,t){return E.jT.create(e.filter((function(e){return e.field===t})).map((function(e){return E.jT.range(e.from,e.to)})))}function Pe(e){return function(t){var n,r=t.state,i=t.dispatch,a=r.field(Re,!1);if(!a||e<0&&0===a.active)return!1;var o=a.active+e,c=(n=Math).max.apply(n,(0,$.Z)(a.ranges.map((function(e){return e.field})))),s=e>0&&a.active>=c;return i(r.update({selection:Ne(a.ranges,o),effects:Ie.of(s?null:new Te(a.ranges,o))})),!0}}var De=E.Wl.highest(C.$f.of([{key:"Tab",run:Pe(1),shift:Pe(-1)},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch;return!!t.field(Re,!1)&&(n(t.update({effects:Ie.of(null)})),!0)}}])),Be=C.tk.domEventHandlers({mousedown:function(e,t){var n,r=t.state.field(Re,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var i=r.ranges.find((function(e){return e.from<=n&&e.to>=n}));return!(!i||i.field===r.active)&&(t.dispatch({selection:Ne(r.ranges,i.field),effects:Ie.of(r.ranges.some((function(e){return e.field>i.field}))?new Te(r.ranges,i.field):null)}),!0)}});function Oe(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function Ae(e,t){var n=e.state,r=e.pos;if(e.explicit)return{triggerKind:H.CompletionTriggerKind.Invoked};var i=n.doc.lineAt(r),a=i.text[r-i.from-1],o=i.text.substring(0,r-i.from);if(null===t||void 0===t?void 0:t.includes(a)){var c=a;return{triggerKind:H.CompletionTriggerKind.TriggerCharacter,triggerCharacter:c}}return o.match(/\w$/)?{triggerKind:H.CompletionTriggerKind.Invoked}:null}var ze=Object.entries(P.CompletionItemKind).reduce((function(e,t){var n=(0,a.Z)(t,2),i=n[0],o=n[1];return(0,r.Z)((0,J.Z)({},o,i.toLowerCase()),e)}),{});function Ue(e,t){var n=(0,S.R)(e.state.doc,t.range.start),r=(0,S.R)(e.state.doc,t.range.end);if(null!==n&&null!==r)return{from:n,to:r,insert:t.newText}}function Le(e){var t=e.context,n=e.items,c=e.client,s=e.path,l=e.setDecoration,d=n.filter((function(e){return Boolean(e.label)})).map((function(e){var t,n=e.additionalTextEdits,d={label:e.label,detail:e.detail,apply:function(t,o,c,l){if(e.insertTextFormat!==P.InsertTextFormat.Snippet){var u=function(e){var t,n=e.view,o=e.item,c=e.from,s=e.to,l=n.state,u=l.doc,d=l.selection,f=[];if(o.textEdit){var p=o.textEdit,h=p.range,m=p.newText,v=(0,S.R)(u,h.start),g=(0,S.R)(u,h.end);if(null===v||null===g)return;f.push({from:v,insert:m,to:Math.max(g,d.main.to)})}else{var b=o.insertText||o.label;f.push({from:c,to:s,insert:b})}var x=(0,a.Z)(f,1)[0],y="";null===(t=o.additionalTextEdits)||void 0===t||t.forEach((function(e){var t=Ue(n,e);t&&("from"in x&&t.from===x.from&&(y=t.insert),f.push(t))}));var Z=s-c;d.ranges.forEach((function(e){if(e!==d.main){if(!("insert"in x)||!x.insert)throw new Error("Expected insert in mainChange");var t=e.from-Z,n=y+x.insert;f.push({from:t,to:e.to,insert:n})}}));var w=f.map((function(e){return"from"in e&&"undefined"!==typeof e.to?(0,i.Z)((0,r.Z)({},e),{from:Math.min(e.from,e.to),to:Math.max(e.from,e.to)}):e})),k=E.as.of(w,u.length),_=d.ranges.map((function(e){return e.map(k,0)}));return{changes:k,selection:E.jT.create(_,d.mainIndex)}}({view:t,item:(0,i.Z)((0,r.Z)({},e),{additionalTextEdits:n}),to:l,from:c});u&&t.dispatch({changes:u.changes,selection:u.selection,annotations:_.Jv.of(o)})}else{var d,f,p,h,m=[];n&&m.push({changes:n.map((function(e){return Ue(t,e)}))});var v=null!==(h=null!==(p=null===(f=e.textEdit)||void 0===f?void 0:f.newText)&&void 0!==p?p:e.insertText)&&void 0!==h?h:e.label,g=new _e(v);e.textEdit&&"range"in e.textEdit&&(c=(0,S.R)(t.state.doc,e.textEdit.range.start),l=Math.max(l,(0,S.R)(t.state.doc,e.textEdit.range.end)));var b=g.apply({view:t,from:c,to:l,path:s});(d=t).dispatch.apply(d,(0,$.Z)(m).concat([b]))}},type:e.kind&&ze[e.kind],filterText:(null!==(t=e.filterText)&&void 0!==t?t:e.label).toLowerCase(),sortText:e.sortText||e.label},f=x(c).isCompletionItemResolveSupported;return c&&f?d.info=(0,h.Z)(v().mark((function t(){var r,i,a,d,f,p;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.request.resolveCompletionItem(e);case 2:if(r=t.sent,i="cancelled"in r&&r.cancelled,a="result"in r?r.result:null,!i&&a){t.next=7;break}return t.abrupt("return",null);case 7:if(a.additionalTextEdits&&(n=a.additionalTextEdits),d=[],a.detail&&a.detail!==e.detail&&a.detail!==e.label&&(f="```"+(0,ee.extname)(s).slice(1)+"\n"+a.detail+"\n```",d.push((0,o.tZ)(A,{content:{value:f,kind:"markdown"}}))),a.documentation&&d.push((0,o.tZ)(A,{content:a.documentation})),0!==d.length){t.next=13;break}return t.abrupt("return",null);case 13:return p=document.createElement("div"),l(u.createPortal((0,o.tZ)(o.HY,{children:d}),p)),t.abrupt("return",p);case 16:case"end":return t.stop()}}),t)}))):e.documentation&&(d.info=function(){if(!e.documentation)return null;var t=document.createElement("div");return l(u.createPortal((0,o.tZ)(A,{content:e.documentation}),t)),t}),d})),f=(0,a.Z)(function(e){var t=Object.create(null),n=Object.create(null),r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value.label;t[s[0]]=!0;for(var l=1;l<s.length;l++)n[s[l]]=!0}}catch(d){i=!0,a=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}var u=Oe(t)+Oe(n)+"*$";return[new RegExp("^"+u),new RegExp(u)]}(d),2),p=f[0],m=f[1],g=t.matchBefore(m),b=t.pos;if(g){b=g.from;var y=g.text.toLowerCase();/^\w+$/.test(y)&&(d=d.filter((function(e){return e.filterText.startsWith(y)})).sort((function(e,t){var n=e.sortText,r=t.sortText;return n.startsWith(g.text)&&!r.startsWith(g.text)?-1:!n.startsWith(g.text)&&r.startsWith(g.text)?1:0})))}return{from:b,options:d,validFor:p}}var Ge=n(68122),Xe=n(45826),Fe=n(9838);function Me(e){var t=e.content,n=e.className,i=e.showHoveredVariable;if("string"!==typeof t&&"kind"in t)return(0,o.tZ)(A,{content:t});var a=(Array.isArray(t)?t:[t]).map((function(e){return"string"===typeof e?e:"```"+e.language+"\n"+e.value+"\n```"})).join("\n");return(0,o.tZ)(N.ZP,{css:i?[T.l0.maxHeight(He),T.l0.overflowY("auto")]:void 0,className:n,components:{code:function(e){return(0,o.tZ)(D.Z,(0,r.Z)({minimal:!0,disableCopy:!0},e))}},children:a})}function We(e){var t=e.dom,n=(0,re.Z)(e,["dom"]);return u.createPortal((0,o.tZ)(Ve,(0,r.Z)({},n)),t)}var He=100;function Ve(e){var t=e.className,n=e.content,i=e.textHovered,c=(0,Fe.c)("flag-debugger-hover-variable").enabled,s=(0,f.Z)().debuggest,u=(0,Ge.Z)(s.mainClient),d=u&&("running"===u.state.current||"paused"===u.state.current),p=(0,a.Z)(l.useState(!1),2),m=p[0],g=p[1],b=(0,a.Z)(l.useState(void 0),2),x=b[0],y=b[1],Z=c&&d&&x;return l.useEffect((function(){function e(){return e=(0,h.Z)(v().mark((function e(){var t,n,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!d){e.next=11;break}return g(!0),e.prev=2,e.next=6,u.evaluate({expression:i,context:"hover"});case 6:n=e.sent,(null===(t=n.body)||void 0===t?void 0:t.result)&&(a=(0,r.Z)({name:i,value:n.body.result},n.body),y(a));case 8:return e.prev=8,g(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,u,d,i]),(0,o.BX)(j.Z,{css:[B,T.l0.maxWidth(400),Z?T.l0.maxHeight(He+190):T.l0.maxHeight(190),T.l0.minHeight(30),T.l0.overflowY("auto"),T.l0.borderRadius(4),T.l0.backgroundColor.backgroundDefault],children:[m?void 0:(0,o.tZ)(Me,{content:n,className:t,showHoveredVariable:Boolean(Z)}),Z?(0,o.tZ)(j.Z,{css:[T.l0.maxHeight(190),T.l0.overflowY("auto")],children:(0,o.tZ)(Xe._,{depth:0,client:u,variable:x})}):void 0]})}function qe(e){var t,n,r=e.hover,i=e.state,a=e.offset,c=e.languageId,s=e.setDecoration;if((Array.isArray(r.contents)||"string"===typeof r.contents)&&0===r.contents.length)return s(null),null;c.endsWith("css")&&Array.isArray(r.contents)&&(r.contents={kind:"markdown",value:"```html \n".concat(r.contents[0],"\n```\n").concat(r.contents[1],"\n      ")});var l="",u=i.doc;if(r.range)t=(0,S.R)(u,r.range.start),n=(0,S.R)(u,r.range.end),l=u.sliceString(t,n);else if(n=a+1,(t=a)<=i.doc.length){var d=i.wordAt(t);l=d?u.sliceString(d.from,d.to):u.sliceString(t,n)}return{pos:t,end:n,create:function(){var e=document.createElement("div");return e.classList.add("hover-tooltip"),e.style.padding="0",s((0,o.tZ)(We,{dom:e,content:r.contents,textHovered:l})),{dom:e,mount:function(e){var t;t=function(){(0,C.E2)(e)},[0,50,200,1e3].forEach((function(e){return setTimeout(t,e)}))}}},above:!0}}var Ke,Qe=n(6951),Ye=n(67629),Je=n(43902),$e=n(98284),et=n(58142),tt=n(1144),nt=n(17556);function rt(e){var t=e.dom,n=(0,re.Z)(e,["dom"]);return u.createPortal((0,o.tZ)(at,(0,r.Z)({},n)),t)}function it(e){var t=e.matchesMap,n=e.fileToContents,r=e.type,i=e.onClose,c=Object.keys(t),s=(0,f.Z)().session;if(0===c.length){var l=r===Ke.REFERENCES?"No references found":"No definitions found";return(0,o.tZ)(tt.x,{color:"dimmer",css:[T.l0.pl(4),T.l0.py(8)],children:l})}return(0,o.tZ)(j.Z,{children:c.map((function(e){var r=t[e],l=n[e],u=(0,et.Z)(r,l);return(0,o.tZ)(j.Z,{css:[T.l0.p(4)],children:(0,o.tZ)($e.Vw,{path:e,extensions:[u],doc:l,numMatches:r.length,initiallyExpanded:1===c.length,onNavigateToCode:function(t){if(null!==t)s.updateDeeplink({path:e,line:t.line+1,col:t.character});else{var n=(0,a.Z)(r,1)[0],o=l.lineAt(n.from),c=n.from-o.from;s.updateDeeplink({path:e,line:o.number,col:c})}i()}})},e)}))})}function at(e){var t=e.files,n=e.onClose,i=e.references,c=e.definitions,s=e.currentFile,u=e.currentFileContents,d=function(e,t){if(!m)throw new Error("Expected LSP Client");var n=m.documentUriToPath(e.uri),r=e.range,i=r.start,a=r.end;n in t||(t[n]=[]);var o=y[n],c=o.line(i.line+1),s=o.line(a.line+1);t[n].push({from:c.from+i.character,to:s.from+a.character})},p=(0,f.Z)().fs,m=(0,b.Z)(s),g=(0,nt.Z)(n,[]),x=(0,a.Z)(l.useState((0,J.Z)({},s,E.xv.of(u.split("\n")))),2),y=x[0],Z=x[1];l.useEffect((function(){if(t.length){var e=!1;return function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return n=(0,h.Z)(v().mark((function n(){var i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},n.next=3,Promise.all(t.map(function(){var e=(0,h.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.readFile(t);case 2:if(!(n=e.sent).error){e.next=5;break}throw new Error("Something went wrong reading file with path ".concat(t,". Received error: ").concat(n.error));case 5:i[t]=E.xv.of(n.content.toString().split("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(!e){n.next=5;break}return n.abrupt("return");case 5:Z((function(e){return(0,r.Z)({},e,i)}));case 6:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}}),[p,t]);var w=(0,$.Z)(i).concat((0,$.Z)(c));if(!m||w.some((function(e){return!(m.documentUriToPath(e.uri)in y)})))return(0,o.tZ)(j.Z,{style:{width:T.TV.space128,height:T.TV.space128,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.tZ)(Je.Z,{style:{padding:"10px auto",width:"35px",height:"35px"}})});var k={},_={};return i.forEach((function(e){d(e,k)})),c.forEach((function(e){d(e,_)})),(0,o.BX)(j.Z,{innerRef:g,css:[T.l0.minWidth("375px"),T.l0.maxWidth("500px"),T.l0.pt(4)],children:[(0,o.tZ)(j.Z,{css:{borderBottom:"1px solid var(--background-highest)"},children:(0,o.BX)(j.Z,{css:[T.l0.p(4)],children:[(0,o.BX)(j.Z,{css:[T.l0.flex.row,T.l0.justify.spaceBetween,T.l0.align.center,T.l0.pr(4)],children:[(0,o.tZ)(tt.h,{level:2,variant:"subheadDefault",css:[T.l0.p(4),T.l0.pl(8)],children:"Definitions"}),(0,o.tZ)(Qe.Z,{filled:!1,border:!1,onClick:n,children:(0,o.tZ)(Ye.Z,{})})]}),(0,o.tZ)(it,{matchesMap:_,fileToContents:y,type:Ke.DEFINITION,onClose:n})]})}),(0,o.tZ)(j.Z,{children:(0,o.BX)(j.Z,{css:[T.l0.p(4)],children:[(0,o.tZ)(tt.h,{level:2,variant:"subheadDefault",css:[T.l0.p(4),T.l0.pl(8)],children:"References"}),(0,o.tZ)(it,{matchesMap:k,fileToContents:y,type:Ke.REFERENCES,onClose:n})]})})]})}!function(e){e.DEFINITION="DEFINITION",e.REFERENCES="REFERENCES"}(Ke||(Ke={}));var ot=E.Py.define();var ct=n(27206),st=n(30992),lt=n(61756),ut=n(29163),dt=n(88075);function ft(e){var t=e.dom,n=(0,re.Z)(e,["dom"]);return u.createPortal((0,o.tZ)(pt,(0,r.Z)({},n)),t)}function pt(e){var t=e.onRename,n=e.closeInput,r=e.variable,i=(0,nt.Z)(n,[]),a=l.useRef(null),c=(0,st.Y)(r,(function(e){return e?e===r?{message:"Must pick a new name"}:void 0:{message:"New name can't be empty"}}));return l.useEffect((function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),l.useEffect((function(){setTimeout((function(){a.current&&a.current.focus()}))}),[c]),(0,o.tZ)(j.Z,{innerRef:i,css:[T.l0.backgroundColor.backgroundDefault,T.l0.flex.column,T.l0.justify.center,T.l0.borderRadius(4),T.l0.shadow(2),T.l0.width(200)],children:(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),c.error||(n(),t(c.value))},children:(0,o.BX)(j.Z,{css:[T.l0.justify.center],children:[(0,o.BX)(j.Z,{css:[T.l0.flex.row,T.l0.align.center,T.l0.pr(4)],children:[(0,o.tZ)(tt.h,{level:2,variant:"subheadDefault",css:[T.l0.p(4),T.l0.pl(8)],children:"Rename"}),(0,o.tZ)(tt.h,{level:2,variant:"subheadDefault",color:"dimmer",css:[T.l0.maxWidth(100),T.l0.overflow("hidden"),{whiteSpace:"nowrap",textOverflow:"ellipsis"}],children:r}),(0,o.tZ)(ut.Z,{alt:"Close rename input",tooltipHidden:!0,onClick:n,css:[T.l0.position.absolute,T.l0.top(4),T.l0.right(4)],children:(0,o.tZ)(Ye.Z,{})})]}),(0,o.tZ)(j.Z,{css:[T.l0.justify.center,T.l0.align.center,T.l0.p(8),T.l0.pt(4)],children:(0,o.tZ)(ct.ZP,{name:"rename",ref:a,onBlur:c.handleBlur,onChange:function(e){return c.setValue(e.target.value)},value:c.value,placeholder:"New name",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off",validationResults:c.error?[{message:c.error.message,state:"error"}]:void 0,style:{padding:T.TV.space4,borderRadius:T.TV.borderRadius4}})}),(0,o.tZ)(j.Z,{css:[T.l0.flex.rowReverse,T.l0.p(8),T.l0.pt(0)],children:(0,o.tZ)(lt.ZP,{type:"submit",text:"Rename",colorway:"primary",iconLeft:(0,o.tZ)(dt.Z,{}),disabled:Boolean(c.error)||!c.value})})]})})})}var ht=E.Py.define();var mt=n(37053),vt=n(82378),gt=n(70917),bt=n(8941),xt=n(86292),yt=n(63736),Zt=n(37552);function wt(e,t,n){var r=n.find((function(n){var r=n.range;return(0,S.R)(e,r.end)>=t&&(0,S.R)(e,r.start)<=t}));return null==r?[]:r.children?[r].concat(wt(e,t,r.children)):[r]}var kt=n(58e3);function Et(e){var t=e.currentSymbol,n=e.value;return(0,o.BX)(R.G7,{css:R.l0.rowWithGap(2),children:[(0,o.tZ)(kt.u,{kind:n.kind}),(0,o.tZ)(R.xv,{css:[R.l0.fontSize(14),R.l0.maxWidth(175),n===t&&{fontWeight:R.TV.fontWeightMedium}],children:n.name})]})}var _t=(0,gt.iv)([R.l0.flex.row,R.l0.align.center]),Ct=[R.l0.backgroundColor.backgroundDefault,R.l0.height(20),R.l0.p(2),{span:[R.l0.mr(0),R.l0.maxWidth(175)],svg:R.l0.mr(4)}],St=[R.l0.color.foregroundDefault,R.l0.maxHeight("40vh"),R.l0.overflowY("auto"),{"&::-webkit-scrollbar":{width:0},scrollbarWidth:"none"}];function Tt(e){var t,n;return(null!==(n=null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0}function It(e){return e.sort((function(e,t){return e.range.start.line-t.range.start.line||e.range.start.character-t.range.start.character}))}function jt(){(0,xt.j)(xt.U3.CODE_NAVIGATION_USED,{action:"opened"})}function Rt(e){var t=e.values,n=void 0===t?[]:t,r=e.symbol,i=e.getKey,a=e.onClick,c=l.useMemo((function(){return It(n)}),[n]);return(0,o.tZ)(R.ZE,{cssProps:[Ct,!c.length&&{pointerEvents:"none"}],icon:(0,o.tZ)(kt.u,{kind:r.kind}),label:r.name,onAction:a,menuCssProps:St,onOpen:jt,items:c,children:function(e){return(0,o.tZ)(Zt.ck,{textValue:e.name,children:(0,o.tZ)(Et,{currentSymbol:r,value:e})},i(e))}})}var Nt=function(){return(0,o.tZ)(R.G7,{css:{marginLeft:-4,marginRight:-4},children:(0,o.tZ)(bt.Z,{})})};function Pt(e){var t=e.filePath,n=e.dom,i=(0,re.Z)(e,["filePath","dom"]);return u.createPortal((0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.color.foregroundDimmer,R.l0.px(4),R.l0.py(4),R.l0.maxWidth("100%"),R.l0.overflowX("auto"),{"&::-webkit-scrollbar":{height:0},scrollbarWidth:"none"}],children:[(0,o.tZ)(Ot,{path:t}),(0,o.tZ)(Dt,(0,r.Z)({},i))]}),n)}function Dt(e){var t=e.doc,n=e.cursor,i=e.symbols,c=(0,re.Z)(e,["doc","cursor","symbols"]),s=(0,a.Z)(l.useState((function(){return wt(t,n,i)})),2),u=s[0],d=s[1];return l.useEffect((function(){var e=wt(t,n,i);(e.length!==u.length||e.some((function(e,t){return e!==u[t]})))&&d(e)}),[u,t,n,i]),(0,o.tZ)(Bt,(0,r.Z)({symbolPath:u,symbols:i},c))}var Bt=l.memo((function(e){var t=e.symbols,n=e.moveCursor,r=e.symbolPath,i=function(e){var t=e.items;return(0,o.tZ)(R.G7,{css:_t,children:(0,o.tZ)(R.ZE,{icon:(0,o.tZ)("span",{}),onAction:u,cssProps:Ct,label:"...",menuCssProps:St,onOpen:jt,items:It(t),children:function(e){return(0,o.tZ)(Zt.ck,{textValue:e.name,children:(0,o.tZ)(Et,{value:e})},l(e))}})})},a=r.length-1,c=r[a],s=[],l=function(e){return s.push(e)-1},u=function(e){n(s[e].selectionRange.start),(0,xt.j)(xt.U3.CODE_NAVIGATION_USED,{action:"jumped"})},d=null;return Tt(c)?d=(0,o.tZ)(i,{items:c.children}):!r.length&&t.length&&(d=(0,o.tZ)(i,{items:t})),(0,o.BX)(R.G7,{css:[R.l0.flex.row],children:[r.map((function(e,n){return(0,o.BX)(R.G7,{css:_t,children:[(0,o.tZ)(Rt,{getKey:l,onClick:u,symbol:e,values:0===n?t:r[n-1].children}),(n!==a||Tt(e))&&(0,o.tZ)(Nt,{})]},n)})),d]})})),Ot=l.memo((function(e){var t=e.path;return(0,o.BX)(R.G7,{css:_t,children:[(0,o.tZ)(R.ZE,{cssProps:[Ct,{pointerEvents:"none"}],icon:(0,o.tZ)(yt.Z,{path:t}),label:"",children:[]}),(0,o.tZ)(Nt,{})]})})),At=C.tk.baseTheme({".cm-panels":{border:"none",zIndex:"1 !important"},".cm-panel:not(:empty)":{background:R.TV.backgroundDefault}});function zt(e){var t=e.path,n=e.debounce,r=e.setDecoration,i=e.documentSymbols;return[C.mH.of((function(e){var a=document.createElement("div"),c=(0,vt.u)({doc:e.state.doc,cursor:e.state.selection.main.head}),s=(0,k.Z)(c.set,n);function l(t){e.dispatch({scrollIntoView:!0,selection:E.jT.cursor((0,S.R)(e.state.doc,t))}),e.focus()}function u(){var e=(0,Ge.Z)(i),n=(0,Ge.Z)(c),r=n.doc,s=n.cursor;return e?(0,o.tZ)(Pt,{filePath:t,moveCursor:l,dom:a,symbols:e,cursor:s,doc:r}):null}return{dom:a,top:!0,mount:function(){r((0,o.tZ)(u,{}))},update:function(e){e.selectionSet&&i.current&&s({doc:e.view.state.doc,cursor:e.state.selection.main.head})}}})),At]}var Ut=n(17713),Lt=n(58823),Gt=n(95984),Xt=n(97813),Ft=n(44676);function Mt(e){var t=e.containerProps,n=e.codeActions,a=e.onExecuted,c=(0,f.Z)().fs,s=(0,Xt.Z)(),l=(0,b.Z)(s||"");return n.length&&l?(0,o.tZ)(Gt.XZ,(0,i.Z)((0,r.Z)({},t),{children:n.map((function(e,t){return(0,o.tZ)(Ft.Z,{onClick:function(t){if(t.stopPropagation(),P.Command.is(e))return l.request.executeCommand(e.command,e.arguments),void a();var n=e.edit,r=e.command;n&&(0,Lt.w)({edit:n,fs:c,client:l}),r&&l.request.executeCommand(r.command,r.arguments),a()},children:(0,o.tZ)(Gt.sN,{isFirst:0===t,isLast:t===n.length-1,children:(0,o.tZ)(tt.x,{children:e.title})})},t)}))})):null}var Wt=n(92876),Ht=n(21131);var Vt=new Map;var qt="undefined"===typeof WeakRef?function(e){return{deref:function(){return e}}}:WeakRef,Kt=n(6625);function Qt(e){var t=e.path,n=e.range,r=e.lspClient;n=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify)(e),r=null===(t=Vt.get(n))||void 0===t?void 0:t.deref();return null!=r?r:(Vt.set(n,new qt(e)),e)}(n);var i=(0,Kt.Z)(),o=(0,a.Z)(function(e,t){var n=l.useRef(),r=(0,Ht.Z)((function(){return(0,k.Z)((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.apply(void 0,(0,$.Z)(r)).then((function(e){var t;null===(t=n.current)||void 0===t||t.call(n,e)}))}),t)}),[e,t]);return[r,l.useCallback((function(e){n.current=e}),[])]}(r.request.codeActions,1e3),2),c=o[0],s=o[1],u=(0,a.Z)(l.useState([]),2),d=u[0],f=u[1],p=l.useCallback((0,h.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t){e.next=2;break}return e.abrupt("return");case 2:s((function(e){i.current&&((0,xt.j)(xt.U3.EDITOR_CONTEXT_MENU_CODE_ACTIONS_REQUESTED,{success:!("error"in e),numActions:"result"in e&&e.result?e.result.length:null}),"error"in e?(f([]),Wt.Tb(new Error(e.error.message))):null===e.result||0===e.result.length?f([]):f(e.result))})),c(t,n);case 4:case"end":return e.stop()}}),e)}))),[r,t,c,n,s,i]);return l.useEffect((function(){return p(),function(){c.cancel()}}),[p,c]),[d,p]}function Yt(e){var t=e.state,n=t.doc,r=t.selection.main,i=r.from,a=r.to;return{start:(0,S.s)(n,i),end:(0,S.s)(n,a)}}var Jt=function(e){var t=e.view,n=e.path,r=e.lspClient,i=e.visible,c=(0,a.Z)(l.useState({x:0,y:0}),2),s=c[0],u=c[1],d=(0,a.Z)(Qt({path:n,lspClient:r,range:Yt(t)}),2),f=d[0],p=d[1],h=(0,Ge.Z)(i),m=l.useCallback((function(){i.current=!1}),[i]);if(!f.length)return null;var v=f.some((function(e){return"kind"in e&&"quickfix"===e.kind}))?"#75bdff":"#ffcc00";return(0,o.BX)("div",{role:"presentation",onMouseDown:function(e){h||(e.stopPropagation(),e.preventDefault(),u({x:e.nativeEvent.pageX,y:e.nativeEvent.pageY}),i.current=!h)},children:[(0,o.tZ)(Ut.Z,{css:{fill:v,color:v},className:"lightbulb"}),h&&(0,o.tZ)(Mt,{containerProps:{view:t,verticalOffset:Gt.R$*f.length,closeMenu:m,width:"auto",coords:s},onExecuted:function(){m(),p()},codeActions:f})]})},$t=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){var e;return(0,te.Z)(this,n),(e=t.apply(this,arguments)).visible=(0,vt.u)(!1),e.container=l.createRef(),e}var a=n.prototype;return a.toDOM=function(e){var t=document.createElement("div");return t.setAttribute("aria-hidden","true"),t.className="cm-code-action",this.visible.current=!1,this.props.setDecoration(u.createPortal((0,o.tZ)("span",{ref:this.container,children:(0,o.tZ)(Jt,(0,i.Z)((0,r.Z)({},this.props),{view:e,visible:this.visible}))}),t)),t},a.contains=function(e){var t;return(null===(t=this.container.current)||void 0===t?void 0:t.contains(e))||!1},a.ignoreEvent=function(){return!1},n}(C.l9);var en=function(e){return C.lg.fromClass(function(){function t(e){(0,te.Z)(this,t),this.updateDecorations(e)}var n=t.prototype;return n.update=function(e){(e.docChanged||e.viewportChanged||e.focusChanged||e.selectionSet)&&this.updateDecorations(e.view)},n.updateDecorations=function(t){var n,r,i=t.state,a=i.doc,o=i.selection,c=a.lineAt(o.main.from);n=function(e){return/^( {2}|\u3000|\t){2}/.test(e)}(c.text)||1===c.number&&1===a.lines?c.from:1===c.number?Math.min(a.length-1,c.to+1):a.lineAt(c.from-1).from,null!==(r=this.widget)&&void 0!==r||(this.widget=new $t),this.widget.props=e;var s=C.p.widget({widget:this.widget,side:0});this.decorations=C.p.set([s.range(n)])},t}(),{decorations:function(e){return e.decorations},eventHandlers:{mousedown:function(e){this.widget.visible.current&&this.widget.contains(e.target)&&(e.stopPropagation(),e.preventDefault())},keyup:function(e){"Escape"===e.key&&(this.widget.visible.current=!1)},scroll:function(){this.widget.visible.current=!1}}})},tn=C.tk.baseTheme({".cm-code-action":{background:"transparent",fontFamily:R.TV.fontFamilyDefault,position:"absolute",cursor:"pointer",zIndex:101,top:0}});function nn(e){var t,n=e.lspClient,a=e.path,c=e.decorations,s=e.rename,l=e.flagBreadcrumb,u=x(n),d=function(e){return function(t){setTimeout((function(){c.update((function(n){return n.set(e,t)}))}))}},f=[V({lspClient:n,path:a}),K({lspClient:n,path:a})];return u.isAutoCompleteSupported&&f.push(function(e){var t=e.lspClient,n=e.path,r=e.setDecoration;function i(){return i=(0,h.Z)(v().mark((function e(i){var a,o,c,s,l,u,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getServerCapabilities()){e.next=4;break}return e.abrupt("return",null);case 4:if(c=(null===o||void 0===o||null===(a=o.completionProvider)||void 0===a?void 0:a.triggerCharacters)||[],s=Ae(i,c)){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,t.request.completion(n,(0,S.s)(i.state.doc,i.pos),s);case 10:if(!("error"in(l=e.sent))){e.next=13;break}throw new Error("Something went wrong fetching autocompletion results: ".concat(l.error.message));case 13:if(u=l.result,!i.aborted){e.next=16;break}return e.abrupt("return",null);case 16:if(u){e.next=18;break}return e.abrupt("return",null);case 18:return d=Array.isArray(u)?u:u.items,e.abrupt("return",Le({context:i,items:d,client:t,path:n,setDecoration:r}));case 20:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return(0,_.ys)({defaultKeymap:!1,closeOnBlur:!1,override:[(0,_.eC)(["LineComment","BlockComment","String"],(function(e){return i.apply(this,arguments)}))]})}({setDecoration:d("autocomplete"),lspClient:n,path:a})),u.isSignatureHelpSupported&&f.push(G({setDecoration:d("signatureSuggestion"),lspClient:n,path:a})),u.isHoverSupported&&f.push(function(e){var t=e.lspClient,n=e.path,r=e.setDecoration,i=(0,C.bF)(function(){var e=(0,h.Z)(v().mark((function e(i,a){var o,c,s,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,S.s)(i.state.doc,a),e.next=3,t.request.hover(n,o);case 3:if(c=e.sent,s=t.getLanguageId(n),!("error"in c)){e.next=8;break}throw r(null),new Error("Something went wrong fetching hover results: ".concat(c.error.message));case 8:if(null!==(l=c.result)){e.next=12;break}return r(null),e.abrupt("return",null);case 12:return e.abrupt("return",qe({hover:l,offset:a,state:i.state,languageId:s,setDecoration:r}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),{hoverTime:0});return i}({setDecoration:d("hoverTooltip"),lspClient:n,path:a})),u.isDocumentSymbolSupported&&l&&f.push(function(e){var t=e.lspClient,n=e.path,r=e.setDecoration,i=(0,vt.u)(null),a=(0,k.Z)(i.set,200),o=(0,mt.Z)((0,h.Z)(v().mark((function e(){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request.documentSymbol(n);case 2:(r=e.sent)&&"result"in r&&r.result.length&&"range"in r.result[0]?a(r.result):a(null);case 4:case"end":return e.stop()}}),e)}))),{wait:200}),c=C.lg.define((function(){return o(),{update:function(e){e.docChanged&&o()}}}));return[zt({path:n,setDecoration:r,documentSymbols:i,debounce:200}),c]}({setDecoration:d("codeNavigation"),lspClient:n,path:a})),u.isCodeActionsSupported&&f.push((t={setDecoration:d("codeActions"),lspClient:n,path:a},[tn,en(t)])),(u.isFindDefinitionSupported||u.isFindReferencesSupported)&&f.push(function(e){var t=e.setDecoration,n=e.lspClient,a=e.path,c=E.Py.define(),s=E.Py.define(),l=C.tk.updateListener.of(function(){var e=(0,h.Z)(v().mark((function e(t){var r,i,o,l,u,d,f,p,h,m,g,b,y,Z,w,k,E,_,C,T,I,j,R,N,P,D,B,O,A,z;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z=function(){t.view.dispatch({effects:s.of(null)})},r=null,i=!0,o=!1,l=void 0,e.prev=3,u=t.transactions[Symbol.iterator]();case 5:if(i=(d=u.next()).done){e.next=27;break}for(f=d.value,p=!0,h=!1,m=void 0,e.prev=8,g=f.effects[Symbol.iterator]();!(p=(b=g.next()).done);p=!0)(y=b.value).is(ot)&&(r=y.value);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),h=!0,m=e.t0;case 16:e.prev=16,e.prev=17,p||null==g.return||g.return();case 19:if(e.prev=19,!h){e.next=22;break}throw m;case 22:return e.finish(19);case 23:return e.finish(16);case 24:i=!0,e.next=5;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(3),o=!0,l=e.t1;case 33:e.prev=33,e.prev=34,i||null==u.return||u.return();case 36:if(e.prev=36,!o){e.next=39;break}throw l;case 39:return e.finish(36);case 40:return e.finish(33);case 41:if(r){e.next=43;break}return e.abrupt("return");case 43:if(w=x(n),k=t.state.doc,E=(0,S.s)(k,r),!w.isFindReferencesSupported){e.next=53;break}return e.next=50,n.request.findReferences(a,E,{includeDeclaration:!1});case 50:e.t2=e.sent,e.next=54;break;case 53:e.t2={result:null};case 54:if(_=e.t2,!w.isFindDefinitionSupported){e.next=61;break}return e.next=58,n.request.findDefinitions(a,E);case 58:e.t3=e.sent,e.next=62;break;case 61:e.t3={result:null};case 62:if(C=e.t3,!("error"in _)){e.next=65;break}throw new Error("Something went wrong fetching references: ".concat(_.error.message));case 65:if(!("error"in C)){e.next=67;break}throw new Error("Something went wrong fetching definition: ".concat(C.error.message));case 67:if(T=_.result,I=C.result,j=T&&T.length>0,R=I&&I.length>0,j||R){e.next=74;break}return Z(),e.abrupt("return");case 74:N=[],P=[],T&&T.length>0&&(D=N).push.apply(D,(0,$.Z)(T)),I&&I.length>0&&(B=P).push.apply(B,(0,$.Z)(I)),O=(0,$.Z)(N).concat((0,$.Z)(P)).map((function(e){return n.documentUriToPath(e.uri)})).filter((function(e){return e!==a})),A=(0,$.Z)(new Set(O)),z=k.toJSON().join("\n"),t.view.dispatch({effects:c.of({references:N,definitions:P,currentFile:a,currentFileContents:z,files:A})});case 82:case"end":return e.stop()}}),e,null,[[3,29,33,41],[8,12,16,24],[17,,19,23],[34,,36,40]])})));return function(t){return e.apply(this,arguments)}}()),u=E.QQ.define({create:function(){return null},update:function(e,t){var n=e,r=!0,i=!1,a=void 0;try{for(var o,l=t.effects[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value;u.is(c)&&(n=u.value),u.is(s)&&(n=null)}}catch(d){i=!0,a=d}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n},provide:function(e){return C.hJ.compute([e],(function(n){var a=n.field(e);if(!a)return t(null),null;var c=n.selection.asSingle().main;return{pos:c.from,end:c.to,create:function(e){var n=document.createElement("div");return n.classList.add("cm-lsp-tooltip"),n.classList.add("replit-tooltip"),n.style.padding="0",t((0,o.tZ)(rt,(0,i.Z)((0,r.Z)({},a),{onClose:function(){e.dispatch({effects:s.of(null)})},dom:n}))),{dom:n}}}}))}});return[l,u]}({setDecoration:d("tooltip"),lspClient:n,path:a})),u.isRenameSupported&&f.push(function(e){var t=e.setDecoration,n=e.hook;return E.QQ.define({create:function(){return null},update:function(e,t){var n=e,r=!0,i=!1,a=void 0;try{for(var o,c=t.effects[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value;s.is(ht)&&(n=s.value)}}catch(l){i=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n},provide:function(e){return C.hJ.compute([e],(function(r){var i=r.field(e);if(null===i)return t(null),null;var a=r.wordAt(i);return a?{pos:i,create:function(){var e=document.createElement("div");e.classList.add("cm-lsp-rename-tooltip"),e.classList.add("replit-tooltip"),e.style.padding="0";var c=r.sliceDoc(a.from,a.to);return t((0,o.tZ)(ft,{variable:c,dom:e,onRename:function(e){return n.onRename(e,i)},closeInput:n.closeRenameInput})),{dom:e}}}:null}))}})}({setDecoration:d("renameInput"),hook:s})),f}var rn=n(10129),an=n(59006),on=n(52071);var cn=n(63805);function sn(){return(sn=(0,h.Z)(v().mark((function e(t){var n,r,i,o,c,s,l,u,d,f,p,h,m,g,b,y,Z,w;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,r=t.view,i=t.client,o=t.session,c=t.filePath,s=t.requestIdRef,(0,rn.j)(n)){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("Expected view");case 5:if(l=n.clientX,u=n.clientY,null!==(d=r.posAtCoords({x:l,y:u}))){e.next=9;break}return e.abrupt("return");case 9:if(i){e.next=11;break}throw new Error("Expected LSP Client");case 11:if(c){e.next=13;break}throw new Error("Expected filePath");case 13:if(x(i).isFindDefinitionSupported){e.next=16;break}return e.abrupt("return");case 16:return s.current&&i.notify.cancelRequest(s.current),s.current=i.generateId(),f=(0,S.s)(r.state.doc,d),e.next=21,i.request.findDefinitions(c,f,{id:s.current,tap:(0,on.M)(r)});case 21:if(p=e.sent,s.current=null,!("error"in p)){e.next=25;break}throw new Error("Something went wrong fetching definition location: ".concat(p.error.message));case 25:if(h=p.result,!p.cancelled&&h&&0!==h.length){e.next=28;break}return e.abrupt("return");case 28:m=(0,a.Z)(h,1),g=m[0],b=g.uri,y=g.range,Z=y.start,w=i.documentUriToPath(b),o.updateDeeplink({path:w,line:Z.line+1,col:Z.character});case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){var t=e.view,n=e.filePath,r=e.isLoading,i=e.decorations,a=(0,Z.Z)().preferences.codeIntelligence,o=(0,f.Z)().session,c=(0,b.Z)(n),s=y(c),u=(0,w.Z)("flag-code-navigation");!function(e){var t=e.filePath,n=(0,f.Z)().fs,r=(0,b.Z)(t);l.useEffect((function(){if(r)return r.onWorkspaceEdit((function(e){var t=e.edit;return(0,Lt.w)({edit:t,fs:n,client:r}),{applied:!0}}))}),[n,r])}({filePath:n}),function(e){var t=e.filePath,n=(0,f.Z)().fs,r=(0,b.Z)(t);l.useEffect((function(){if(r&&x(r).isTextDocumentSyncSupported)return n.watchOtFile(t,{onFlush:function(){r.isOpen(t)&&r.notify.didSave(t)}})}),[n,t,r])}({filePath:n});var d=function(e){var t=e.view,n=e.filePath,r=l.useRef(null),i=(0,f.Z)().fs,a=(0,b.Z)(n),o=l.useCallback(function(){var e=(0,h.Z)(v().mark((function e(o,c){var s,l,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Expected view");case 2:if(a){e.next=4;break}throw new Error("Expected client");case 4:if(n){e.next=6;break}throw new Error("Expected non-null file path");case 6:if(null!=c){e.next=8;break}throw new Error("Expected rename input params");case 8:return r.current&&a.notify.cancelRequest(r.current),s=a.generateId(),r.current=s,e.next=13,a.request.rename(n,(0,S.s)(t.state.doc,c),o,{id:s,tap:(0,on.M)(t)});case 13:if(l=e.sent,r.current=null,!("error"in l)){e.next=17;break}throw new Error("Something went wrong renaming ".concat(l.error.message));case 17:if(!l.cancelled){e.next=19;break}return e.abrupt("return");case 19:if(u=l.result){e.next=22;break}return e.abrupt("return");case 22:(0,Lt.w)({edit:u,fs:i,client:a}),t.dispatch({effects:[ht.of(null)]});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a,t,n,i]),c=l.useCallback((function(){if(!t)throw new Error("Expected view");t.dispatch({effects:[ht.of(null)]}),t.focus()}),[t]);return l.useMemo((function(){return{onRename:o,closeRenameInput:c}}),[o,c])}({view:t,filePath:n}),p=(0,an.Z)({view:t});l.useEffect((function(){if(!r&&a&&t&&c&&s&&c.isSupportedFile(n)&&!(0,cn.isMobile)()){c.notify.didOpen(n,t.state.doc.toString());var e=s.isFindDefinitionSupported,l={current:null};return t.dispatch({effects:p.reconfigure([nn({lspClient:c,path:n,decorations:i,rename:d,flagBreadcrumb:u}),e?C.tk.domEventHandlers({click:function(e){return function(e){sn.apply(this,arguments)}({event:e,view:t,filePath:n,client:c,session:o,requestIdRef:l}),!1}}):[]])}),function(){c.getServerState()===g.a.INITIALIZED&&c.isOpen(n)&&c.notify.didClose(n),t.dispatch({effects:p.reconfigure([])}),i.unmount()}}}),[c,t,s,p,n,r,o,a,i,d,u])}var un=n(39571),dn=new(function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(){return(0,te.Z)(this,n),t.apply(this,arguments)}return n.prototype.toDOM=function(){return document.createTextNode("\u25cf")},n}(C.SJ)),fn=E.Py.define({}),pn=E.Py.define({}),hn=C.p.line({attributes:{class:"cm-debuggerLine"}}),mn=E.Py.define({}),vn=E.QQ.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if(c.is(mn))return c.value}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e}});function gn(e){var t=new E.f_,n=e.state.field(vn);if(null!==n){var r=e.state.doc.line(n);t.add(r.from,r.from,hn)}return t.finish()}var bn=C.lg.fromClass(function(){function e(t){(0,te.Z)(this,e),this.decorations=gn(t)}return e.prototype.update=function(e){this.decorations=gn(e.view)},e}(),{decorations:function(e){return e.decorations}});function xn(e,t){e.dispatch({effects:pn.of({pos:t})})}var yn=E.QQ.define({create:function(){return E.Xs.empty},update:function(e,t){e=e.map(t.changes);var n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value;if(n.is(pn)){var r=!1;e.between(n.value.pos,n.value.pos+1,(function(){r=!0})),e=r?e.update({filter:function(e){return e!==n.value.pos}}):e.update({add:[dn.range(n.value.pos)]})}n.is(fn)&&(e=E.Xs.of(n.value.lines.map((function(e){return dn.range(t.state.doc.line(e).from)})),!0))},c=t.effects[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)o()}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return e}}),Zn=C.tk.baseTheme({".cm-breakpoint-gutter .cm-gutterElement":{color:T.TV.accentPrimaryDefault,paddingLeft:T.TV.space4,paddingRight:T.TV.space2,cursor:"default"},".cm-debuggerLine":{backgroundColor:T.TV.accentPrimaryDimmest,borderRadius:T.TV.borderRadius4,marginRight:T.TV.space4}});function wn(e,t){var n;return e&&0!==e.length?null===t||(null===(n=e[0].source)||void 0===n?void 0:n.path)!==t?null:e[0].line:null}var kn=n(2916);function En(e){var t=e.view,n=e.debuggest,r=e.filePath,i=e.isLoading,a=(0,f.Z)().fs,o=(0,kn.Z)(),c=(0,Ge.Z)(n.mainClient),s=(0,an.Z)({view:t});l.useEffect((function(){if(!i&&o&&c&&t){var e=(0,un.ZF)("/home/runner/".concat(o.slug,"/").concat(r)),n=function(e,t,n,r){var i,a=[];a.push(t.breakpoints.subscribe((function(t){var r=t.get(n);e.dispatch({effects:fn.of({lines:r?r.map((function(e){return e.line})):[]})})})));var o=C.tk.updateListener.of((function(i){i.transactions.forEach((function(i){i.effects.forEach((function(i){if(i.is(pn)){var a=(0,un.om)(n);if(!a)throw new Error("Expected relative path");t.toggleBreakpoint(n,{line:e.state.doc.lineAt(i.value.pos).number,otVersion:r.getOTVersion(a),otIndex:i.value.pos})}}))}))}));a.push(t.stackFrames.subscribe((function(t){var r=wn(t,n);e.dispatch({effects:mn.of(r)})})));var c=(0,C.v5)({class:"cm-breakpoint-gutter",markers:function(e){return e.state.field(yn)},initialSpacer:function(){return dn},domEventHandlers:{mousedown:function(e,t){return xn(e,t.from),!0}}}),s=(null===(i=t.breakpoints.current.get(n))||void 0===i?void 0:i.map((function(e){return e.line})))||[],l=[E.Wl.highest(c),yn.init((function(e){return E.Xs.of(s.filter((function(t){return t<=e.doc.lines})).map((function(t){return dn.range(e.doc.line(t).from)})),!0)})),o,vn.init((function(){return wn(t.stackFrames.current,n)})),bn,Zn];return{extensions:l,dispose:function(){return a.forEach((function(e){return e()}))}}}(t,c,e,a),l=n.extensions,u=n.dispose;return t.dispatch({effects:s.reconfigure(l)}),function(){t.dispatch({effects:s.reconfigure([])}),u()}}}),[c,t,o,r,i,a,s])}var _n=n(36077),Cn=n.n(_n),Sn=n(1879),Tn=n(91513),In=n(90317),jn=n(57263),Rn=n(78244),Nn=n(77365);function Pn(e){var t=e.name,n=e.children,r=e.onClick;return(0,o.BX)(R.G7,{onClick:function(){return r()},css:[R.gU.nofill,R.l0.p(8)],children:[(0,o.tZ)(R.xv,{variant:"subheadDefault",css:R.l0.pb(16),children:t}),(0,o.tZ)(R.G7,{css:[R.l0.backgroundColor.backgroundDefault,R.l0.p(8),R.l0.borderRadius(8)],children:n})]})}var Dn="@media (min-width: ".concat(jn.j.tabletMax,"px)"),Bn=(0,gt.iv)([R.l0.colWithGap(16),(0,J.Z)({},Dn,{width:"calc(50%  - 8px)",flex:"0 0 auto",gap:"16px"})]);function On(e){var t=e.children;return(0,o.tZ)(R.G7,{css:[(0,J.Z)({},Dn,[R.l0.rowWithGap(16)])],children:t})}function An(e){var t=e.mainFile,n=e.examples,r=e.onSelect;return(0,o.BX)(R.G7,{css:[R.l0.colWithGap(24)],children:[(0,o.tZ)(R.h4,{level:1,variant:"headerDefault",children:"Code examples"}),(0,o.tZ)(R.xv,{multiline:!0,children:"Get started with some program examples."}),(0,o.BX)(On,{css:[R.l0.colWithGap(16)],children:[(0,o.tZ)(R.G7,{css:Bn,children:n.slice(0,(n.length+1)/2).map((function(e){return(0,o.tZ)(Pn,{name:e.name,onClick:function(){return r(e)},children:(0,o.tZ)(Rn.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))}),(0,o.tZ)(R.G7,{css:Bn,children:n.slice((n.length+1)/2).map((function(e){return(0,o.tZ)(Pn,{name:e.name,onClick:function(){return r(e)},children:(0,o.tZ)(Rn.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))})]})]})}function zn(e){var t=e.replId,n=e.onSelect,r=(0,In.h6q)({variables:{replId:t}}),i=r.data,a=r.loading,c=r.error;if(a)return(0,o.tZ)(R.G7,{css:[R.l0.colWithGap(0),R.l0.justify.center,R.l0.align.center,R.l0.pt(32),R.l0.pb(32)],children:(0,o.tZ)(Nn.Z,{})});if(c)return(0,o.tZ)(R.G7,{css:[R.l0.colWithGap(0),R.l0.justify.center,R.l0.align.center,R.l0.pt(32),R.l0.pb(32)],children:c.message});var s="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null;if(!s)return null;var l=s.deprecatedLanguageConfig,u=l.mainFile,d=l.examples;return(null===d||void 0===d?void 0:d.length)?(0,o.tZ)(An,{mainFile:u,examples:d,onSelect:n}):(0,o.tZ)(R.G7,{css:[R.l0.colWithGap(0),R.l0.justify.center,R.l0.align.center,R.l0.pt(32),R.l0.pb(32)],children:(0,o.BX)(R.xv,{multiline:!0,children:["Sorry, this language doesn\u2019t have any examples. Want to add some? Contact us at ",(0,o.tZ)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"!"]})})}var Un=n(63377),Ln=n(61193),Gn=n(43804);function Xn(){var e=(0,Un.Z)(),t=(0,In.AIW)({variables:{replId:e}}).data;return"Repl"===(null===t||void 0===t?void 0:t.repl.__typename)&&t.repl.hasGenerateCode}function Fn(e){var t=e.onRequestClose,n=(0,Ln.e)(Gn.H.Examples),r=(0,Ln.e)(Gn.H.Editor),i=(0,a.Z)(l.useState(!1),2),c=i[0],s=i[1],u=(0,Xt.Z)(),d=(0,Tn.Z)(u),f=(0,Un.Z)(),p=l.useRef(null===n||void 0===n?void 0:n.isActive),h=l.useRef();h.current=null===n||void 0===n?void 0:n.isActive;var m=l.useRef(null===n||void 0===n?void 0:n.goto);return m.current=null===n||void 0===n?void 0:n.goto,l.useEffect((function(){return function(){var e;h.current&&(null===(e=m.current)||void 0===e||e.call(m,Gn.H.Editor))}}),[]),l.useEffect((function(){(null===r||void 0===r?void 0:r.isActive)&&!p.current&&(c?r.goto(Gn.H.Examples):s(!0))}),[r,t,c]),l.useEffect((function(){(null===n||void 0===n?void 0:n.isActive)?p.current=!0:p.current&&t(null)}),[null===n||void 0===n?void 0:n.isActive]),d?(0,o.tZ)("div",{ref:null===n||void 0===n?void 0:n.delegateTooltip,children:(0,o.tZ)(zn,{replId:f,onSelect:function(e){d({code:e.code,insertAt:0}),t({exampleName:e.name})}})}):(0,o.tZ)("div",{children:"Please make sure you have a file open"})}var Mn=function(e){var t=e.onShowGenerateCodeModal,n=(0,kn.Z)(),i=(0,a.Z)(l.useState(!1),2),c=i[0],u=i[1],d=Xn(),f=(null===n||void 0===n?void 0:n.language)||"",p=Cn().getDocs(f),h=l.useCallback((function(e){(0,xt.j)(xt.U3.LANGUAGE_EXAMPLES_VIEWED,(0,r.Z)({language:null===n||void 0===n?void 0:n.language,replId:null===n||void 0===n?void 0:n.id},e)),u(!1)}),[n]);return(0,o.BX)("div",{className:"jsx-761223062c9d62b5 placeholder",children:[(0,o.tZ)(Sn.Z,{maxWidth:872,isOpen:c,onRequestClose:function(){return h(null)},children:(0,o.tZ)(Fn,{onRequestClose:h})}),"Not sure what to do? Run some"," ",(0,o.tZ)("a",{"data-cy":"ws-editor-examples",onClick:function(){u(!0)},onKeyDown:function(){u(!0)},role:"button",tabIndex:0,className:"jsx-761223062c9d62b5 link",children:"examples"}),d&&!(0,cn.isMobile)()?(0,o.BX)(o.HY,{children:[p?", ":" or ",(0,o.tZ)("a",{onClick:t,onKeyDown:t,role:"button",tabIndex:0,className:"jsx-761223062c9d62b5 link",children:"generate code"})]}):null,p&&(0,o.BX)(o.HY,{children:[", or view"," ",(0,o.tZ)("a",{target:"_blank",href:p,className:"jsx-761223062c9d62b5 link",children:"documentation"})]})," ","(start typing to dismiss)",(0,o.tZ)(s(),{id:"761223062c9d62b5",children:".placeholder.jsx-761223062c9d62b5{font-family:var(--font-family-code);color:var(--foreground-dimmest)}.link.jsx-761223062c9d62b5{cursor:pointer;pointer-events:all;color:var(--accent-primary-default);text-decoration:none}.link.jsx-761223062c9d62b5:hover{text-decoration:underline}"})]})};function Wn(e){var t=e.dom,n=e.onShowGenerateCodeModal;return u.createPortal((0,o.tZ)(Mn,{onShowGenerateCodeModal:n}),t)}var Hn=n(4989),Vn=n(79736),qn=n(7919),Kn=n(45383),Qn=n(13482),Yn=function(e){var t=e.buttons,n=e.onClick,r=e.onUndo,i=e.onRedo;return(0,o.BX)("nav",{className:"jsx-43582faf24448cbd",children:[t.map((function(e){return(0,o.tZ)("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),n(e)},className:"jsx-43582faf24448cbd",children:void 0!==e.label?e.label:e.value},e.value)})),(0,o.tZ)("button",{onClick:function(e){e.stopPropagation(),e.preventDefault(),r()},className:"jsx-43582faf24448cbd",children:(0,o.tZ)(Vn.Z,{})}),(0,o.tZ)("button",{onClick:function(e){e.stopPropagation(),e.preventDefault(),i()},className:"jsx-43582faf24448cbd",children:(0,o.tZ)(qn.Z,{})}),(0,o.tZ)(s(),{id:"43582faf24448cbd",children:'nav.jsx-43582faf24448cbd{font-family:Monaco,Menlo,"Ubuntu Mono",Consolas,source-code-pro,monospace;height:48px;background-color:var(--background-root);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}button.jsx-43582faf24448cbd{color:var(--foreground-default);padding:10px;font-family:inherit;font-size:16px;background-color:transparent;border:0 none;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}'})]})},Jn=[{value:"{}",cursorOffset:1},{value:"()",cursorOffset:1},{value:'""',cursorOffset:1}],$n=function(e){var t=e.path,n=(0,$.Z)(Jn).concat([{value:"= ",cursorOffset:2}]);return t.endsWith(".html")&&(n.unshift({value:"<>",cursorOffset:1}),n.unshift({label:"div",value:"<div></div>",cursorOffset:5})),n},er="visualViewport"in window;function tr(e){var t=e.view,n=e.filePath,r=e.isLoading,i=(0,Hn.Z)();l.useEffect((function(){i&&t&&t.requestMeasure({read:function(){return{cursor:t.coordsAtPos(t.state.selection.main.head),scroller:t.scrollDOM.getBoundingClientRect()}},write:function(e){var n=e.cursor,r=e.scroller;if(n){var i=(n.top+n.bottom)/2,a=(r.top+r.bottom)/2;Math.abs(i-a)>5&&(t.scrollDOM.scrollTop+=i-a+(Qn.g?50:0))}}})}),[i,t]);var c=(0,a.Z)(l.useState(0),2),s=c[0],u=c[1];if(l.useEffect((function(){if(Qn.g&&er){var e=(0,k.Z)((function(){u(window.innerHeight-window.visualViewport.height-window.visualViewport.offsetTop)}),100);return window.visualViewport.addEventListener("scroll",e),window.visualViewport.addEventListener("resize",e),function(){window.visualViewport.removeEventListener("scroll",e),window.visualViewport.removeEventListener("resize",e)}}}),[]),!i||r)return null;if(!(0,cn.isMobile)({tablet:!1}))return null;var d=(0,o.tZ)(Yn,{onUndo:function(){t&&((0,Kn.Yw)(t),t.focus())},onRedo:function(){t&&((0,Kn.KX)(t),t.focus())},onClick:function(e){if(t){var n,r=null!==(n=t.state.selection.ranges[0].from)&&void 0!==n?n:0;t.dispatch({changes:{from:r,insert:e.value},selection:{anchor:r+e.cursorOffset}}),t.focus()}},buttons:$n({path:n})});return!Qn.g||er?(0,o.tZ)(j.Z,{css:[T.l0.position.fixed,T.l0.width("100%"),T.l0.zIndex(100),T.l0.bottom(s),T.l0.left(0)],children:d}):d}var nr=n(49892),rr=E.Py.define();var ir=n(93160),ar=n(40963),or=n(72806),cr=n(96189);function sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!e.valid)return[];for(var r=[],i=e.getCursor(t),a=i.next();!a.done&&r.length<n;)r.push(a.value),a=i.next();return r}function lr(e){return e>500?"large":e>350?"medium":"small"}var ur=(0,j.K)("div");function dr(e){var t=e.view,n=function(){if(!t)throw new Error("Expected view");(0,nr.g)(t);var e=t.state.selection.main;t.dispatch({effects:C.tk.scrollIntoView(e.from,{y:"center",x:"center"})}),A<=1||P((function(t){if(null===t){var n=S.findIndex((function(t){return t.from===e.from&&t.to===e.to}));return-1===n?1:n+1}return t>=A?1:t+1}))},r=function(){if(!t)throw new Error("Expected view");(0,nr.a7)(t);var e=t.state.selection.main;t.dispatch({effects:C.tk.scrollIntoView(e.from,{y:"center",x:"center"})}),A<=1||P((function(t){if(null===t){var n=S.findIndex((function(t){return t.from===e.from&&t.to===e.to}));return-1===n?1:n+1}return t<=1?A||1:t-1}))},i=function(e){var n=e;return!!t&&(0,C.$1)(t,n,"search-panel")},c=(0,a.Z)(l.useState(!1),2),s=c[0],u=c[1],d=(0,a.Z)(l.useState(!1),2),f=d[0],p=d[1],h=(0,a.Z)(l.useState(!1),2),m=h[0],v=h[1],g=(0,a.Z)(l.useState(""),2),b=g[0],x=g[1],y=(0,a.Z)(l.useState(""),2),Z=y[0],w=y[1],_=(0,a.Z)(l.useState([]),2),S=_[0],I=_[1],R=(0,a.Z)(l.useState(null),2),N=R[0],P=R[1],D=(0,Kt.Z)(),B=l.useRef(new nr.Jb({search:""})),O=(0,Xt.Z)(),A=S.length,z=l.useCallback((function(e){e.eq(B.current)||(x(e.search),w(e.replace),p(e.caseSensitive),v(e.regexp),B.current=e)}),[]),U=l.useCallback((function(){u(!0)}),[]),L=l.useCallback((0,k.Z)((function(e){D.current&&(I(sr(B.current,e)),P(null))}),250),[]);l.useEffect((function(){return function(){return L.cancel()}}),[]),function(e){var t=e.view,n=e.onDocChanged,r=e.onSearchQuery,i=e.onExpandSearchPanel;l.useEffect((function(){t&&t.dispatch({effects:E.Py.appendConfig.of([C.tk.updateListener.of((function(e){e.transactions.forEach((function(e){e.effects.forEach((function(e){e.is(nr.ql)&&r(e.value),e.is(rr)&&i()}))}))})),C.tk.updateListener.of((function(e){e.docChanged&&n(e.view.state.doc)}))])})}),[t,r,i])}({view:t,onSearchQuery:z,onExpandSearchPanel:U,onDocChanged:L}),l.useEffect((function(){if(t){var e=(0,nr.uP)(t.state);x(e.search),w(e.replace),p(e.caseSensitive),v(e.regexp),B.current=e}}),[t]),l.useEffect((function(){if(t){var e=new nr.Jb({search:b,replace:Z,caseSensitive:f,regexp:m}),n=B.current;e.eq(n)||(B.current=e,t.dispatch({effects:nr.ql.of(e)}),I(sr(e,t.state.doc)),P(null))}}),[t,b,Z,f,m]),l.useEffect((function(){t&&O&&L(t.state.doc)}),[t,O,L]);var G=(0,a.Z)(l.useState(lr(0)),2),X=G[0],F=G[1],M=(0,cr.Z)((function(e){e.width&&F(lr(e.width))}));if(!t)return null;var W=A>0,H=W?"".concat(N||1," / ").concat(A):null,V=H?8*H.length:null,q=(0,o.BX)(j.Z,{css:[T.l0.flex.row,T.l0.align.center,T.l0.rowWithGap(8)],children:[(0,o.tZ)(or.Z,{id:"Match case",name:"case",checked:f,onChange:function(){p((function(e){return!e}))}}),(0,o.tZ)(tt.x,{variant:"small",color:f?"default":"dimmer",children:"Match case"}),(0,o.tZ)(or.Z,{id:"Regexp",name:"re",checked:m,onChange:function(){v((function(e){return!e}))}}),(0,o.tZ)(tt.x,{variant:"small",color:m?"default":"dimmer",children:"Regexp"})]});return(0,o.tZ)(ur,{ref:M,onKeyDown:function(e){i(e)&&e.preventDefault()},children:(0,o.BX)(ir.Z,{elevated:!0,css:[T.l0.rowWithGap(8),T.l0.px(4),T.l0.py(8),{borderBottom:"1px solid",borderColor:T.TV.outlineDimmest}],children:[(0,o.tZ)(j.Z,{css:[T.l0.center,T.l0.height(28)],children:(0,o.tZ)(ut.Z,{alt:s?"Close replace panel":"Show replace panel",onClick:function(){u((function(e){return!e}))},children:(0,o.tZ)(bt.Z,{rotate:s?90:0,style:{transition:"200ms ease"}})})}),(0,o.BX)(j.Z,{css:[T.l0.flex.growAndShrink(1),T.l0.colWithGap(16)],children:[(0,o.BX)(j.Z,{css:["large"===X?T.l0.rowWithGap(16):T.l0.colWithGap(8)],children:[(0,o.BX)(j.Z,{css:[T.l0.flex.growAndShrink(1),"small"===X?T.l0.colWithGap(8):[T.l0.rowWithGap(8),T.l0.align.center]],children:[(0,o.BX)(j.Z,{css:[T.l0.flex.growAndShrink(1),T.l0.position.relative],children:[(0,o.tZ)(ar.ZP,{css:[T.l0.p(4),V&&{paddingRight:V}],placeholder:"Find",value:b,name:"search","main-field":"true",onKeyDown:function(e){e.metaKey&&"f"===e.key?e.currentTarget.select():"enter"===e.key.toLowerCase()&&(i(e)||(e.preventDefault(),e.shiftKey?r():n()))},onChange:function(e){x(e.target.value)}}),W?(0,o.tZ)(j.Z,{css:[T.l0.position.absolute,T.l0.top(0),T.l0.right(0),T.l0.height("100%"),T.l0.center,T.l0.pr(4)],children:(0,o.tZ)(tt.x,{variant:"small",color:"dimmest",children:H})}):null]}),(0,o.BX)(j.Z,{css:[T.l0.rowWithGap(4),T.l0.align.center],children:[(0,o.tZ)(ut.Z,{alt:"Previous",onClick:function(){r()},children:(0,o.tZ)(bt.Z,{rotate:-90})}),(0,o.tZ)(ut.Z,{alt:"Next",onClick:function(){n()},children:(0,o.tZ)(bt.Z,{rotate:90})}),(0,o.tZ)(lt.ZP,{small:!0,text:"Select all",onClick:function(){(0,nr.i3)(t),t.focus()}})]})]}),q]}),s?(0,o.BX)(j.Z,{css:["small"===X?T.l0.colWithGap(8):[T.l0.rowWithGap(8),T.l0.align.center,{marginRight:"large"===X?162:-19}]],children:[(0,o.tZ)(j.Z,{css:[T.l0.flex.growAndShrink(1)],children:(0,o.tZ)(ar.ZP,{css:[T.l0.p(4)],placeholder:"Replace",name:"replace",value:Z,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(i(e)||(e.preventDefault(),(0,nr.K9)(t)))},onChange:function(e){w(e.target.value)}})}),(0,o.BX)(j.Z,{css:[T.l0.rowWithGap(4),T.l0.align.center],children:[(0,o.tZ)(lt.ZP,{small:!0,text:"Replace",onClick:function(){(0,nr.K9)(t)}}),(0,o.tZ)(lt.ZP,{small:!0,text:"Replace all",onClick:function(){(0,nr.ko)(t)}})]})]}):null]}),(0,o.tZ)(j.Z,{css:[T.l0.center,T.l0.height(28)],children:(0,o.tZ)(ut.Z,{alt:"Close Search Panel",tooltipHidden:!0,onClick:function(){(0,nr.N$)(t)},children:(0,o.tZ)(Ye.Z,{})})})]})})}function fr(e){var t=e.dom,n=e.view;return u.createPortal((0,o.tZ)(dr,{view:n}),t)}var pr=n(48551),hr=n(79500),mr=n(7787),vr=n(58809),gr="import tokenize\nimport io\nimport re\nimport sys\nimport json\n\ndef get_ranges(code_snippet):\n    \"\"\"\n\n    Wrapper function that takes a code_snippet, and checks for\n    - The first instance of a variable name (we keep track of this in already_seen)\n    - The first instance of a function name (we keep track of this in already_seen)\n    - The first instance of a builtins (we keep track of this in already_seen)\n    - Every instance of strings, comments, and whitespace\n\n    It first tries to use python's \"tokenize\" module on the entire code snippet, which hilariously fails if there's a missing parens. If that fails, then it falls back to running \"tokenize\" line-by-line. If that fails, regexes.\n\n    Inputs:\n        - code_snippet, a string\n\n    Outputs:\n        - character_ranges_to_suppress, a list of tuples\n    \n    \"\"\"\n\n    ranges_to_suppress = {}\n    tokens_to_suppress = []\n    already_seen = [\n        'False', 'def', 'if', 'raise', 'None', 'del', 'import', 'return',\n        'True', 'elif', 'in', 'try', 'and', 'else', 'is', 'while', 'as',\n        'except', 'lambda', 'with', 'assert', 'finally', 'nonlocal', 'yield',\n        'break', 'for', 'not', 'class', 'from', 'or', 'continue', 'global',\n        'pass'\n    ]\n\n    try:\n        ranges_to_add, _, tokens_to_suppress = get_line_and_character_ranges_to_suppress(code_snippet, already_seen)\n        ranges_to_suppress = add_ranges_to_line_and_character_ranges_to_suppress(ranges_to_suppress, ranges_to_add, code_snippet)\n\n    except:\n         ranges_to_suppress, tokens_to_suppress = get_ranges_line_by_line(code_snippet, ranges_to_suppress, tokens_to_suppress)\n\n    line_number2character_offset_at_start = get_line_number2character_offset_at_start(code_snippet)\n    character_ranges_to_suppress = get_character_ranges_to_suppress(ranges_to_suppress, line_number2character_offset_at_start)\n\n    return character_ranges_to_suppress\n\ndef add_ranges_to_line_and_character_ranges_to_suppress(line_and_character_ranges_to_suppress, ranges_to_add, code_snippet):\n    \n    for (start_line, start_char), (end_line, end_char) in ranges_to_add:\n\n        # Python's tokenizer lines are 1-indexed \n        start_line = start_line - 1\n        end_line = end_line - 1\n        \n        if start_line not in line_and_character_ranges_to_suppress:\n            line_and_character_ranges_to_suppress[start_line] = []\n\n        if start_line == end_line:\n            line_and_character_ranges_to_suppress[start_line].append((start_char, end_char))\n        else: # If the starting and ending lines are different\n            line_and_character_ranges_to_suppress[start_line].append((start_char, len(code_snippet.split('\\n')[start_line]) + 1))\n            line_and_character_ranges_to_suppress[end_line].append((0, end_char))\n\n    return line_and_character_ranges_to_suppress\n    \n\n# def test(line_number2character_offset_at_start, code_snippet, character_ranges_to_suppress, tokens_to_suppress):\n# assert max(line_number2character_offset_at_start.values()) == len(code_snippet) - len(code_snippet.split('\\n')[-1])\n# for idx, range in enumerate(character_ranges_to_suppress):\n# try:\n# assert code_snippet[range[0]:range[1]] == tokens_to_suppress[idx]\n# except:\n# print(code_snippet[range[0]:range[1]], tokens_to_suppress[idx])\n\ndef get_ranges_line_by_line(code_snippet, ranges_to_suppress, tokens_to_suppress):\n\n    \"\"\"\n    This is a fallback function that will be used if the python tokenizer throws an \"EOF Multiline Error\"\n    And gets the ranges of the code to suppress line by line\n\n    Inputs\n        - code_snippet, a string\n        - ranges_to_suppress, a dict\n        - tokens_to_suppress, a list of strings\n\n    Outputs:\n        - ranges_to_suppress, a dict\n        - tokens_to_suppress, a list of strings\n    \n    \"\"\"\n    \n    already_seen = ['False', 'def', 'if', 'raise', 'None', 'del', 'import', 'return', 'True',\n                    'elif', 'in', 'try', 'and', 'else', 'is', 'while', 'as', 'except', 'lambda',\n                    'with', 'assert', 'finally', 'nonlocal', 'yield', 'break', 'for', 'not',\n                    'class', 'from', 'or', 'continue', 'global', 'pass']\n\n\n    for line_number, line in enumerate(code_snippet.split('\\n')):\n        line = line + '\\n'\n        try:\n            ranges_to_add, already_seen, _tokens = get_line_and_character_ranges_to_suppress(line, already_seen)\n            ranges_to_suppress[line_number] = [(start[1], end[1]) for start, end in ranges_to_add]\n            tokens_to_suppress.extend(_tokens)\n        except:\n            # The fallback is to use some regexps\n            ranges_to_suppress[line_number], already_seen, _tokens = get_fallback_ranges_to_suppress(line, already_seen)\n            tokens_to_suppress.extend(_tokens)\n\n    return ranges_to_suppress, tokens_to_suppress\n\n\ndef get_line_and_character_ranges_to_suppress(\n        code_snippet, variable_and_function_names_already_seen):\n    \"\"\"\n    Takes a line of code and checks to see if there are any\n    - Variable names that haven't been seen before\n    - Functions that haven't been seen before\n    - Strings\n    - Comments\n    - Indents\n\n    As all of these are frequent contributors of false positives.\n\n    A future version would be less \"greedy\" in checking, because this means we don't catch (1) typos (though a linter should call this) and (2) when the wrong function is called.\n\n    Inputs:\n        - line, string\n        - variable_and_function_names_already_seen, a list of strings\n\n    Outputs:\n        - ranges_to_suppress, a list of tuples\n        - variable_and_function_names_already_seen, a list of strings\n        - _tokens, a list of tokens for testing\n    \n    \"\"\"\n\n    ranges_to_suppress = []\n    _tokens = []\n    # This will throw an \"Token error: EOF in multi-line statement\" if there are unbalanced\n    # strings or parentheses!\n    for toktuple in tokenize.generate_tokens(io.StringIO(code_snippet).readline):\n        # From the documentation: The *numbers* of different types might change from version to version, but the names themselves shouldn't\n        # https://docs.python.org/3/library/token.html#token.OP\n        # https://github.com/python/cpython/blob/3.10/Lib/token.py\n\n        # type \"NAME\": functions and variables\n        if toktuple.type == tokenize.NAME and toktuple.string not in variable_and_function_names_already_seen:\n            ranges_to_suppress.append((toktuple.start, toktuple.end))\n            variable_and_function_names_already_seen.append(toktuple.string)\n            _tokens.append(toktuple.string)\n        # type INDENT, STRING, COMMENT (local python version), COMMENT (python version on replit)\n        elif toktuple.type in [\n                tokenize.INDENT, tokenize.STRING, tokenize.COMMENT\n        ]:\n            _tokens.append(toktuple.string)\n            ranges_to_suppress.append((toktuple.start, toktuple.end))\n\n    return ranges_to_suppress, variable_and_function_names_already_seen, _tokens\n\n\ndef get_fallback_ranges_to_suppress(line,\n                                    variables_and_function_names_already_seen):\n    # Some of these patterns are kind of greedy\n    # But the risk is limited to a single line\n    # Because this only runs as a fallback if the python tokenizer throws an \"EOF Multiline Error\"\n\n    func_pattern = re.compile('def .*\\(')\n    var_pattern = re.compile('^(.*?)=')\n    multi_space_pattern = re.compile('\\s\\s\\s*')\n    double_quote_pattern = re.compile('\".*\"')\n    single_quote_pattern = re.compile(\"'.*'\")\n    comment_pattern = re.compile(\"#.*\\n\")\n\n    spans = []\n    _tokens = []\n    for pattern in [\n            func_pattern, var_pattern, multi_space_pattern,\n            double_quote_pattern, single_quote_pattern, comment_pattern\n    ]:\n        for m in pattern.finditer(line):\n            if m.group() not in variables_and_function_names_already_seen:\n                spans.append(m.span())\n                _tokens.append(m.group())\n\n                if pattern in [func_pattern, var_pattern]:\n                    variables_and_function_names_already_seen.append(m.group())\n\n    return spans, variables_and_function_names_already_seen, _tokens\n\n\ndef get_line_number2character_offset_at_start(code_snippet):\n    \"\"\"\n    Takes a code snippet and returns the character offset for the start of each line.\n\n    Inputs:\n        - code_snippet, a string\n\n    Outputs:\n        - line_number2character_offset_at_start, a dictionary of {line number : character offset to start the line}\n    \n    \"\"\"\n\n    line_number2character_offset_at_start = {0: 0}\n    previous_line_length = len(code_snippet.split(\n        '\\n')[0]) + 1  # Have to add a char because of the newline\n    for idx, line_text in enumerate(code_snippet.split('\\n')):\n        if idx == 0:\n            continue\n        line_number2character_offset_at_start[\n            idx] = line_number2character_offset_at_start[\n                idx - 1] + previous_line_length\n        previous_line_length = len(\n            line_text) + 1  # Have to add a char because of the newline\n\n    return line_number2character_offset_at_start\n\n\ndef get_character_ranges_to_suppress(line_and_character_ranges_to_suppress,\n                                     line_number2character_offset_at_start):\n    \"\"\"\n    Gets the character ranges to suppress by adding the character ranges from each tokenizer/regex pattern match to the character offset to start each line\n    \n    Input:\n        - line_and_character_ranges_to_suppress, a list of tuples\n        - line_number2character_offset_at_start, a dictionary of {line number : character offset to start the line}\n\n    Outputs:\n        - character_ranges_to_suppress, a list of tuples\n    \n    \n    \"\"\"\n    character_ranges_to_suppress = []\n    for line_number, ranges in line_and_character_ranges_to_suppress.items():\n        for range in ranges:\n            character_ranges_to_suppress.append(\n                (line_number2character_offset_at_start[line_number] + range[0],\n                 line_number2character_offset_at_start[line_number] +\n                 range[1]))\n\n    return character_ranges_to_suppress\n\n\n\nprint(json.dumps(get_ranges(sys.argv[1])))",br=n(76311),xr=n(4158),yr=n(39372),Zr=E.Py.define({map:function(e,t){return e.map(t)}});function wr(e){var t=e.isLoading,n=e.close,r=(0,l.useState)(!1),i=r[0],a=r[1],c=l.useCallback(function(){var e=(0,h.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:a(!0),(0,xt.j)(xt.U3.CODEX_FEEDBACK_SUBMITTED,{language:"python",feedback:t,feature:"look-for-errors"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]);return(0,o.BX)(R.Tg,{background:"higher",css:[R.l0.height(50),R.l0.px(4),R.l0.rowWithGap(0),R.l0.justify.spaceBetween,R.l0.align.center,{borderTop:"1px solid",borderBottom:"1px solid",borderColor:R.TV.outlineDimmer}],children:[(0,o.BX)(R.G7,{css:[R.l0.rowWithGap(16),R.l0.align.center],children:[(0,o.tZ)(br.Z,{}),(0,o.tZ)(R.h4,{level:3,children:"Look for Errors"}),t?(0,o.tZ)(Nn.Z,{}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(R.xv,{variant:"small",children:"Is this guess useful?"}),i?(0,o.tZ)(R.zx,{disabled:!0,iconLeft:(0,o.tZ)(yr.Z,{}),onClick:function(){},small:!0,text:"Thanks!"}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(Ye.Z,{}),text:"No",onClick:function(){return c(In.TYv.No)}}),(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(dt.Z,{}),text:"Yes",colorway:"positive",onClick:function(){return c(In.TYv.Yes)}})]})]})]}),(0,o.BX)(R.G7,{css:[R.l0.rowWithGap(16),R.l0.align.center],children:[(0,o.tZ)("a",{href:"https://blog.replit.com/codex",target:"_blank",css:R.l0.color.foregroundDefault,children:(0,o.tZ)(R.hU,{alt:"Learn more",tooltipDelay:0,tooltipText:"This beta feature uses Codex by OpenAI. Click to learn more.",type:"button",children:(0,o.tZ)(xr.Z,{color:R.TV.foregroundDefault})})}),(0,o.tZ)(R.hU,{alt:"Close",onClick:function(){n()},children:(0,o.tZ)(Ye.Z,{})})]})]})}var kr=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e){var r,i=e.close,a=e.isLoading;return(0,te.Z)(this,n),(r=t.call(this)).isLoading=a,r.close=i,r}return n.prototype.toDOM=function(){var e=document.createElement("div");return u.render((0,o.tZ)(wr,{isLoading:this.isLoading,close:this.close}),e),e},n}(C.l9),Er=E.Py.define({map:function(e,t){return e.map(t)}}),_r=E.QQ.define({create:function(){return C.p.none},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if(c.is(Er))return c.value}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t.docChanged?e.map(t.changes):e},provide:function(e){return C.tk.decorations.from(e)}});function Cr(e){function t(e){return n.apply(this,arguments)}function n(){return(n=(0,h.Z)(v().mark((function t(n){var r,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.exec("python","-c",gr,n);case 2:if(!(r=t.sent).error){t.next=5;break}throw new Error("Error getting suppressed ranges: ".concat(r.error));case 5:if(r.output){t.next=7;break}return t.abrupt("return",[]);case 7:if(t.prev=7,i=JSON.parse(r.output),Array.isArray(i)){t.next=11;break}throw new Error("Expected array of ranges");case 11:return t.abrupt("return",i);case 14:return t.prev=14,t.t0=t.catch(7),t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[7,14]])})))).apply(this,arguments)}var r=C.lg.fromClass(function(){function e(t){(0,te.Z)(this,e),this.view=t,this.lastRequestRef=null,this.missedChanges=null}var n=e.prototype;return n.update=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.transactions[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,c=!0,s=!1,l=void 0;try{for(var u,d=o.effects[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var f=u.value;if(f.is(Zr))return void this.onLookupRange(f.value,e.state.doc)}}catch(p){s=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}}catch(p){n=!0,r=p}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}e.docChanged&&this.missedChanges&&(this.missedChanges=this.missedChanges.compose(e.changes))},n.onLookupRange=function(e,n){var r=this;return(0,h.Z)(v().mark((function i(){var a,o,c,s,l,u,d,f,p,h,m,g,b,x,y,Z,w,k,_,S,T,I,j,N,P,D,B,O,A;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(c=new E.f_,s=e.from;s<=e.to;)l=n.lineAt(s),s===e.from&&c.add(l.from,l.from,C.p.widget({widget:new kr({isLoading:!0,close:function(){r.lastRequestRef=null,r.missedChanges=null,r.view.dispatch({effects:Er.of(C.p.none)})}}),block:!0})),c.add(l.from,l.from,C.p.line({attributes:{style:"background: "+R.TV.backgroundHigher+";"}})),s=l.to+1;return u=Er.of(c.finish()),setTimeout((function(){r.view.dispatch({effects:u})})),r.missedChanges=E.as.empty(n.length),d={},r.lastRequestRef=d,i.next=10,t(r.view.state.doc.sliceString(e.from,e.to));case 10:return f=i.sent,i.next=13,null===vr.l||void 0===vr.l?void 0:vr.l.query({query:In.BR,variables:{code:r.view.state.doc.sliceString(e.from,e.to),language:"python",rangesToSuppress:f}});case 13:if(p=i.sent,h="LookForErrorsResult"===(null===p||void 0===p||null===(a=p.data)||void 0===a||null===(o=a.lookForErrors)||void 0===o?void 0:o.__typename)?p.data.lookForErrors.highlights:null,d===r.lastRequestRef){i.next=17;break}return i.abrupt("return");case 17:if(m=r.missedChanges,r.lastRequestRef=null,r.missedChanges=null,null===h||void 0===h?void 0:h.length){i.next=23;break}return r.view.dispatch({effects:Er.of(C.p.none)}),i.abrupt("return");case 23:for(g=[],b=e.map(m),g.push(C.p.widget({widget:new kr({isLoading:!1,close:function(){r.lastRequestRef=null,r.missedChanges=null,r.view.dispatch({effects:Er.of(C.p.none)})}}),block:!0}).range(r.view.state.doc.lineAt(b.from).from)),x=b.from;x<=b.to;)y=r.view.state.doc.lineAt(x),g.push(C.p.line({attributes:{style:"background: "+R.TV.backgroundHigher+";"}}).range(y.from)),x=y.to+1;Z=n.lineAt(e.from),w=Z.number,k=Z.from,_=!0,S=!1,T=void 0,i.prev=29,I=h[Symbol.iterator]();case 31:if(_=(j=I.next()).done){i.next=44;break}if(0!==(N=j.value).weight){i.next=35;break}return i.abrupt("continue",41);case 35:P=1===N.start.line?e.from-k:0,D=n.line(w+N.start.line-1),B=m.mapPos(D.from+N.start.character-1+P),O=n.line(w+N.end.line-1),A=m.mapPos(O.from+N.end.character-1+P),g.push(C.p.mark({attributes:{title:"".concat(Math.floor(N.weight),"% chance of inaccuracy"),style:"background: green; background: hsl(0, 100%, ".concat(Math.max(100-N.weight,20),"%);")}}).range(B,A));case 41:_=!0,i.next=31;break;case 44:i.next=50;break;case 46:i.prev=46,i.t0=i.catch(29),S=!0,T=i.t0;case 50:i.prev=50,i.prev=51,_||null==I.return||I.return();case 53:if(i.prev=53,!S){i.next=56;break}throw T;case 56:return i.finish(53);case 57:return i.finish(50);case 58:r.view.dispatch({effects:Er.of(E.Xs.of(g,!0))});case 59:case"end":return i.stop()}}),i,null,[[29,46,50,58],[51,,53,57]])})))()},e}());return r}var Sr=function(){var e=(0,h.Z)(v().mark((function e(t){var n,r,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.code,r=t.language,e.next=3,null===vr.l||void 0===vr.l?void 0:vr.l.query({query:In.nFn,variables:{code:n,language:r}});case 3:if("ExplainCodeResult"!==(null===(i=e.sent)||void 0===i?void 0:i.data.explainCode.__typename)){e.next=6;break}return e.abrupt("return",i.data.explainCode.explanation);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Tr={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",go:"go"},Ir={rs:"rust",lsp:"lisp",sh:"bash",cpp:"c++",hs:"haskell",go:"go",rb:"ruby"};function jr(e){var t=(0,pr.r6)(e);return Tr[t]?Tr[t]:Ir[t]?Ir[t]:t}function Rr(e){var t=(0,pr.r6)(e);return Tr[t]?Tr[t]:"unknown"}function Nr(e){var t=e.filePath,n=e.replId,r=(0,In.gs8)({variables:{replId:n}}).data,i=function(e,t){if(!e)return!1;var n=(0,pr.r6)(e);return!(!t&&"java"===n)&&Boolean(Tr[n])}(t,(0,w.Z)("flag-codex-java"));return"Repl"===(null===r||void 0===r?void 0:r.repl.__typename)&&r.repl.hasExplainCode&&i}var Pr=n(83117);var Dr=function(e){var t=e.children,n=e.title,r=e.newInferenceAlt,i=e.learnMoreLink,a=e.width,c=e.onRequestClose,s=e.onRequestNewInference;return(0,o.BX)(ir.Z,{background:"higher",css:[T.l0.borderRadius(8),T.l0.width(a||320),{background:T.TV.backgroundHigher,boxShadow:T.TV.shadow1,borderWidth:1,borderColor:T.TV.backgroundHighest,borderStyle:"solid"}],children:[(0,o.BX)("div",{css:[T.l0.display.flex,T.l0.justify.spaceBetween,T.l0.flex.row,T.l0.rowWithGap(2),T.l0.p(8),{borderBottom:"1px solid",borderBottomColor:T.TV.backgroundHighest}],children:[(0,o.BX)("div",{css:[T.l0.display.grid,T.l0.align.center,{gridAutoFlow:"column",gridGap:T.TV.space8}],children:[(0,o.tZ)("div",{css:[{color:T.TV.foregroundDefault}],children:n}),i?(0,o.tZ)("a",{href:i,target:"_blank",css:T.l0.color.foregroundDefault,children:(0,o.tZ)(ut.Z,{alt:"Learn more",tooltipDelay:0,tooltipText:"This feature is powered by artificial intelligence. Click to learn more.",type:"button",children:(0,o.tZ)(xr.Z,{color:T.TV.foregroundDefault})})}):null,s?(0,o.tZ)(ut.Z,{alt:r||"Try again",onClick:s,type:"button",children:(0,o.tZ)(Pr.Z,{})}):null]}),(0,o.tZ)("div",{className:"right",children:(0,o.tZ)(ut.Z,{alt:"Close",tooltipHidden:!0,onClick:c,type:"button",children:(0,o.tZ)(Ye.Z,{})})})]}),t]})},Br=n(24561);var Or=function(){return(0,o.tZ)("div",{css:[T.l0.p(16)],children:(0,o.BX)(Br.ZP,{viewBox:"0 0 100 10",primaryColor:"var(--background-higher)",secondaryColor:"var(--background-highest)",speed:1.5,children:[(0,o.tZ)("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"100",height:"4"}),(0,o.tZ)("rect",{x:"0",y:"6",rx:"2",ry:"2",width:"33",height:"4"})]})})},Ar=n(62794),zr=n(10164);var Ur=function(e){var t=e.explanation,n=e.errorMessage,r=e.loading,i=e.codexFeedback,a=e.onRequestClose,c=e.onRequestExplainAgain,s=e.onExplainFail,l=e.onExplainSuccess,u=null;return r?u=(0,o.tZ)(Or,{}):t?u=(0,o.BX)("div",{css:[T.l0.p(8),T.l0.display.grid,{gridGap:T.TV.space8}],children:[(0,o.tZ)("pre",{css:{fontFamily:T.TV.fontFamilyCode,whiteSpace:"pre-wrap",lineHeight:T.TV.lineHeightDefault,fontSize:T.TV.fontSizeDefault,color:T.TV.foregroundDefault,backgroundColor:T.TV.backgroundHighest,padding:T.TV.space8,borderRadius:T.TV.borderRadius8},children:t}),(0,o.tZ)("div",{css:[{color:T.TV.foregroundDefault}],children:"Is this a good explanation?"}),r?null:(0,o.BX)(j.Z,{css:[T.l0.rowWithGap(8),T.l0.justify.start,T.l0.align.center],children:[i?(0,o.tZ)(lt.ZP,{disabled:!0,iconLeft:(0,o.tZ)(yr.Z,{}),onClick:function(){},small:!0,text:"Thanks!"}):(0,o.BX)(j.Z,{css:[T.l0.rowWithGap(8),T.l0.justify.start,T.l0.align.center],children:[(0,o.tZ)(lt.ZP,{text:"No",colorway:"negative",outlined:"no"!==i,onClick:s,small:!0,iconLeft:(0,o.tZ)(Ye.Z,{})}),(0,o.tZ)(lt.ZP,{text:"Yes",colorway:"positive",onClick:l,small:!0,outlined:"yes"!==i,iconLeft:(0,o.tZ)(dt.Z,{})})]}),(0,o.tZ)(Ar.Z,{feature:zr.l.AI})]})]}):n&&(u=(0,o.tZ)("div",{css:[T.l0.p(8),T.l0.display.grid,{gridGap:T.TV.space8}],children:n})),(0,o.tZ)(Dr,{title:"Explain Code",newInferenceAlt:"Generate new explanation",learnMoreLink:"https://blog.replit.com/codex",onRequestNewInference:c,onRequestClose:a,children:u})},Lr=E.Py.define({map:function(e,t){if(e)return e.map(t)}}),Gr=C.tk.baseTheme({".explain-code-decoration":{background:R.TV.purpleDimmest}});function Xr(e){var t=e.filePath,n=e.setExplainCodeParams,i=e.view,c=function(e){var n=e.getSelection,i=e.requestClose,c=e.onLayout;l.useLayoutEffect((function(){null===c||void 0===c||c()}),[c]);var d=function(e){var t,n,r,i,o,c,s,u,d,f,p,m=e.language,g=e.code,b=(0,Un.Z)(),x=(0,In.LxS)({fetchPolicy:"no-cache",variables:{code:g,language:m,replId:b},skip:!m||!g,notifyOnNetworkStatusChange:!0});l.useEffect((function(){(0,xt.j)(xt.U3.CODEX_FEATURE_USED,{feature:"explanation",isRetry:!1,language:m})}),[]);var y=(0,a.Z)((0,In.fvV)(),2),Z=y[0],w=y[1],k=function(){var e=(0,h.Z)(v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ExplainCodeResult"===(null===(n=x.data)||void 0===n?void 0:n.explainCode.__typename)&&!x.loading&&!w.loading){e.next=3;break}return e.abrupt("return");case 3:Z({variables:{input:{feedback:t,inferenceClass:In.SgB.Explanation,inferenceId:null===(r=x.data)||void 0===r?void 0:r.explainCode.id}}}),(0,xt.j)(xt.U3.CODEX_FEEDBACK_SUBMITTED,{language:m,feedback:t,feature:"explanation"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E="ExplainCodeResult"===(null===(t=x.data)||void 0===t||null===(n=t.explainCode)||void 0===n?void 0:n.__typename)?x.data.explainCode.explanation:void 0,_="UserError"===(null===(r=x.data)||void 0===r||null===(i=r.explainCode)||void 0===i?void 0:i.__typename)||"UnauthorizedError"===(null===(o=x.data)||void 0===o||null===(c=o.explainCode)||void 0===c?void 0:c.__typename)?x.data.explainCode.message:null,C="ExplainCodeResult"===(null===(s=x.data)||void 0===s||null===(u=s.explainCode)||void 0===u?void 0:u.__typename)&&"CodexFeedback2"===(null===(d=w.data)||void 0===d||null===(f=d.giveCodexFeedback2)||void 0===f?void 0:f.__typename)&&x.data.explainCode.id===(null===(p=w.data.giveCodexFeedback2)||void 0===p?void 0:p.id)?w.data.giveCodexFeedback2.feedback:null;return{getCodeExplanation:Sr,loading:x.loading,explanation:E,errorMessage:_,refetchExplanation:(0,h.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,xt.j)(xt.U3.CODEX_FEATURE_USED,{feature:"explanation",isRetry:!0,language:m}),e.abrupt("return",x.refetch());case 2:case"end":return e.stop()}}),e)}))),giveCodexFeedback:k,codexFeedback:C}}({code:n(),language:Rr(t)}),f=d.explanation,p=d.errorMessage,m=d.loading,g=d.refetchExplanation,b=d.codexFeedback,x=d.giveCodexFeedback,y={explanation:f,errorMessage:p,loading:m,onRequestClose:i,onRequestExplainAgain:g,codexFeedback:b,onExplainFail:function(){return x(In.TYv.No)},onExplainSuccess:function(){return x(In.TYv.Yes)}};return u.createPortal((0,o.tZ)("div",{css:{left:"2em",position:"fixed"},children:(0,o.tZ)(Ur,(0,r.Z)({},y))}),s)},s=document.createElement("div");s.className="cm-explain-code-tooltip";var d={},f=E.QQ.define({create:function(){return null},update:function(e,t){var n=e;return(0,I.j)(t,Lr,(function(e){n=e.value})),n&&!t.changes.empty&&(n=n.map(t.changes)),n},provide:function(e){return[C.hJ.compute([e],(function(t){var r=t.field(e);return r?{pos:r.from,end:r.to,create:function(){return function(e,t){var r=function(r){n({node:(0,o.tZ)(c,{getSelection:function(){return e.doc.sliceString(t.from,t.to)},requestClose:function(){i.dispatch({effects:[Lr.of(null)]}),n(null)},onLayout:r})})};return r(),d.dom=s,d.update=function(e){r((function(){(0,C.E2)(e.view)}))},d}(t,r)}}:null})),C.tk.decorations.compute([e],(function(t){var n=t.field(e);return n?C.p.set(C.p.mark({class:"explain-code-decoration"}).range(n.from,n.to)):C.p.none}))]}});return[f,Gr]}function Fr(){var e,t=(0,Un.Z)(),n=(0,In.z$4)({variables:{replId:t}}).data;return"Repl"===(null===n||void 0===n?void 0:n.repl.__typename)&&(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.hasSearchCode)}var Mr=n(31557);function Wr(e){var t=e.activeFile,n=e.view,r=e.event,i=e.clipboardText,a=n.state.selection,o=function(){r||(a.main.empty?n.dispatch({changes:[{from:a.main.from,insert:i}]}):n.dispatch(n.state.replaceSelection(i||"")))};if(t&&"md"===(0,pr.r6)(t))if(a.ranges.length>1)o();else if(a.main.from!==a.main.to)if(i&&(0,Mr.Z)(i)){r&&r.preventDefault();var c=n.state.sliceDoc(a.main.from,a.main.to),s="[".concat(c,"](").concat(i,")");n.dispatch({changes:{from:a.main.from,to:a.main.to,insert:s}})}else o();else o();else o()}var Hr=E.Py.define(),Vr=C.tk.baseTheme({".cm-tooltip.cm-generate-code-tooltip":{backgroundColor:"transparent",boxShadow:"none",border:"0 none",padding:"0px"},"& .cm-generate-code-tooltip .cm-content":{paddingBottom:"0px"}});function qr(e){var t=e.view,n=e.setGenerateCodePortalProps,r=E.QQ.define({create:function(){return null},update:function(e,r){return(0,I.j)(r,Hr,(function(i){e=i.value?function(e){return{pos:e.selection.main.head,above:!1,create:function(){var r=document.createElement("div");return r.className="cm-generate-code-tooltip",n({dom:r,onRequestClose:function(){t.dispatch({effects:Hr.of(!1)})},selectedCode:e.doc.sliceString(e.selection.main.from,e.selection.main.to)}),{dom:r,offset:{x:-14,y:5}}}}}(r.state):null})),null==e||r.changes.empty||(e.pos=r.changes.mapPos(e.pos)),e},provide:function(e){return C.hJ.compute([e],(function(t){return t.field(e)}))}});return[r,Vr]}var Kr=E.Py.define(),Qr=C.tk.baseTheme({".cm-tooltip.cm-search-code-tooltip":{backgroundColor:"transparent",boxShadow:"none",border:"0 none",padding:"0px"},"& .cm-search-code-tooltip .cm-content":{paddingBottom:"0px"}});function Yr(e){var t=e.view,n=e.setSearchCodePortalProps,r=E.QQ.define({create:function(){return null},update:function(e,r){return(0,I.j)(r,Kr,(function(i){e=i.value?function(e){return{pos:e.selection.main.head,above:!1,create:function(){var r=document.createElement("div");return r.className="cm-search-code-tooltip",n({dom:r,onRequestClose:function(){t.dispatch({effects:Kr.of(!1)})},selectedCode:e.doc.sliceString(e.selection.main.from,e.selection.main.to),context:e.doc.toString()}),{dom:r,offset:{x:-14,y:5}}}}}(r.state):null})),null==e||r.changes.empty||(e.pos=r.changes.mapPos(e.pos)),e},provide:function(e){return C.hJ.compute([e],(function(t){return t.field(e)}))}});return[r,Qr]}var Jr=n(55877),$r=n.n(Jr),ei=E.Py.define(),ti=E.Py.define(),ni=E.Py.define(),ri=E.Py.define(),ii=C.tk.baseTheme({".replit-thread-highlight":{background:R.TV.purpleDimmest}}),ai=E.QQ.define({create:function(){return{}},update:function(e,t){var n=e;return(0,I.j)(t,ei,(function(e){n=e.value})),t.changes.empty?n:n=Object.values(n).map((function(e){return(0,i.Z)((0,r.Z)({},e),{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})).reduce((function(e,t){return e[t.id]=t,e}),{})}}),oi=E.QQ.define({create:function(){return null},update:function(e,t){var n=e;return(0,I.j)(t,ti,(function(){var e=t.state,r=e.selection.main;n={id:$r().v4(),indexStart:r.from,indexEnd:r.empty?Math.min(r.to+1,e.doc.length):r.to}})),(0,I.j)(t,ni,(function(){n=null})),null!==n&&(0,I.j)(t,ei,(function(e){if(!n)throw new Error("expected newPlaceholder");e.value[n.id]&&(n=null)})),!t.changes.empty&&n&&(n=(0,i.Z)((0,r.Z)({},n),{indexStart:t.changes.mapPos(n.indexStart),indexEnd:t.changes.mapPos(n.indexEnd)})),n}}),ci=n(78823),si=n(71171),li=n.n(si),ui=n(25602);function di(e){var t=e.view,n=e.filePath,r=(0,b.Z)(n),i=l.useRef(null),o=l.useRef(0),c=(0,f.Z)(),s=c.anchorer,u=c.session,d=c.fs,p=(0,a.Z)(l.useState(null),2),m=p[0],g=p[1],x=(0,Un.Z)(),Z=Nr({filePath:n,replId:x}),w=function(e){var t,n=e.filePath,r=e.replId,i=(0,In.$sK)({variables:{replId:r},skip:!n.endsWith(".py")}).data;return"Repl"===(null===i||void 0===i?void 0:i.repl.__typename)&&i.repl.hasExplainCode&&(null===(t=i.currentUser)||void 0===t?void 0:t.hasLookForErrors)&&n.endsWith(".py")}({filePath:n,replId:x}),k=Fr(),_=(0,Xt.Z)(),T=l.useCallback((function(){g(null)}),[]);l.useEffect((function(){var e=function(e){"Escape"===e.key&&g(null)};if(m)return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[m]),l.useEffect((function(){if(t&&m)return t.scrollDOM.addEventListener("scroll",T),function(){t.scrollDOM.removeEventListener("scroll",T)}}),[t,m,T]);var I=(0,cr.Z)((function(){if(t&&m){var e=t.coordsAtPos(o.current);g((function(t){return e?{x:e.left,y:e.top}:t}))}}),{type:"throttle",wait:25}),j=l.useCallback(function(){var e=(0,h.Z)(v().mark((function e(o){var c,l,f,p,m,g,b,x,y,Z,w,k,E,C,T;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(e){return g.apply(this,arguments)},g=function(){return g=(0,h.Z)(v().mark((function e(o){var s,l,d,p,h,m,g,b,x;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&t){e.next=2;break}throw new Error("Expected client");case 2:return i.current&&r.notify.cancelRequest(i.current),i.current=r.generateId(),s=(0,S.s)(c.doc,f),e.next=7,o(n,s,{id:i.current,tap:(0,on.M)(t)});case 7:if(l=e.sent,i.current=null,!("error"in l)){e.next=11;break}throw new Error("Something went wrong fetching location: ".concat(l.error.message));case 11:if(d=l.result,!l.cancelled&&d&&0!==d.length){e.next=14;break}return e.abrupt("return");case 14:p=(0,a.Z)(d,1),h=p[0],m=h.uri,g=h.range,b=g.start,x=r.documentUriToPath(m),u.updateDeeplink({path:x,line:b.line+1,col:b.character});case 19:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)},t){e.next=4;break}throw new Error("Expected view");case 4:c=t.state,l=c.selection.main,f=l.head,p=function(){return{path:n,indexStart:l.from,indexEnd:l.empty?Math.min(l.to+1,c.doc.length):l.to,otVersion:d.getOTVersion(n)}},(0,xt.j)(xt.U3.EDITOR_CONTEXT_MENU_ACTION_RAN,{action:o}),e.t0=o,e.next=e.t0===Gt.D2.Cut?14:e.t0===Gt.D2.Copy?18:e.t0===Gt.D2.Paste?21:e.t0===Gt.D2.JumpToDefinition?34:e.t0===Gt.D2.JumpToTypeDefinition?39:e.t0===Gt.D2.JumpToImplementation?44:e.t0===Gt.D2.FindReferences?49:e.t0===Gt.D2.Rename?51:e.t0===Gt.D2.SelectAllOccurrences?53:e.t0===Gt.D2.CodeActions?61:e.t0===Gt.D2.ToggleBreakpoint?62:e.t0===Gt.D2.StartThread?65:e.t0===Gt.D2.ExplainCode?68:e.t0===Gt.D2.GenerateCode?70:e.t0===Gt.D2.SearchCode?72:e.t0===Gt.D2.LookForErrors?74:e.t0===Gt.D2.CopyLinkToPos?77:81;break;case 14:return b=c.doc.sliceString(l.from,l.to),(0,hr.Z)(b),t.dispatch(c.replaceSelection("")),e.abrupt("break",82);case 18:return x=c.doc.sliceString(l.from,l.to),(0,hr.Z)(x),e.abrupt("break",82);case 21:return y="",e.prev=22,e.next=25,window.navigator.clipboard.readText();case 25:y=e.sent,e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(22),mr.kg.error("CodeMirror context menu paste failed",{message:e.t1.message}),e.abrupt("break",82);case 32:return Wr({activeFile:_,view:t,clipboardText:y}),e.abrupt("break",82);case 34:if(r){e.next=36;break}throw new Error("Expected client");case 36:return e.next=38,m(r.request.findDefinitions);case 38:return e.abrupt("break",82);case 39:if(r){e.next=41;break}throw new Error("Expected client");case 41:return e.next=43,m(r.request.findTypeDefinitions);case 43:return e.abrupt("break",82);case 44:if(r){e.next=46;break}throw new Error("Expected client");case 46:return e.next=48,m(r.request.findImplementations);case 48:return e.abrupt("break",82);case 49:return t.dispatch({effects:[ot.of(f)]}),e.abrupt("break",82);case 51:return t.dispatch({effects:[ht.of(f)]}),e.abrupt("break",82);case 53:if(!c.selection.main.empty){e.next=58;break}if(Z=c.wordAt(f)){e.next=57;break}return e.abrupt("return");case 57:t.dispatch({selection:Z});case 58:return(0,nr.tm)(t),t.focus(),e.abrupt("break",82);case 61:return e.abrupt("break",82);case 62:return w=c.doc.lineAt(f),xn(t,w.from),e.abrupt("break",82);case 65:return s.createThread(p()),t.dispatch({effects:[ti.of(null),ci.UQ.of(li()())]}),e.abrupt("break",82);case 68:return t.dispatch({effects:Lr.of(t.state.selection.main)}),e.abrupt("break",82);case 70:return t.dispatch({effects:Hr.of(!0)}),e.abrupt("break",82);case 72:return t.dispatch({effects:Kr.of(!0)}),e.abrupt("break",82);case 74:return(0,xt.j)(xt.U3.CODEX_FEATURE_USED,{feature:"look-for-errors",language:"python"}),t.dispatch({effects:Zr.of(t.state.selection.main)}),e.abrupt("break",82);case 77:return k=(0,S.s)(c.doc,f),E=k.line,C=k.character,T=(0,ui.dr)({path:n,line:E+1,col:C}),(0,hr.Z)(T),e.abrupt("break",82);case 81:throw new Error("Unexpected action: ".concat(o));case 82:case"end":return e.stop()}}),e,null,[[22,28]])})));return function(t){return e.apply(this,arguments)}}(),[t,r,n,u,s,d,_]),R=(0,a.Z)(l.useState(!1),2),N=R[0],P=R[1];(0,an.Z)({view:t,initialExtension:C.tk.updateListener.of((function(e){e.transactions.some((function(e){return e.reconfigured}))&&P("undefined"!==typeof e.view.state.field(yn,!1))}))});var D=y(r),B=l.useMemo((function(){if(!t)return[];var e=[];return D&&(D.isFindDefinitionSupported&&e.push(Gt.D2.JumpToDefinition),D.isFindTypeDefinitionSupported&&e.push(Gt.D2.JumpToTypeDefinition),D.isFindImplementationSupported&&e.push(Gt.D2.JumpToImplementation),(D.isFindDefinitionSupported||D.isFindReferencesSupported)&&e.push(Gt.D2.FindReferences),D.isRenameSupported&&e.push(Gt.D2.Rename),D.isCodeActionsSupported&&e.push(Gt.D2.CodeActions)),e.push(Gt.D2.SelectAllOccurrences),e.push(Gt.JJ),e.push(Gt.D2.CopyLinkToPos),N&&e.push(Gt.D2.ToggleBreakpoint),e.push(Gt.D2.StartThread),w&&e.push(Gt.D2.LookForErrors),Z&&e.push(Gt.D2.ExplainCode),e.push(Gt.D2.GenerateCode),k&&e.push(Gt.D2.SearchCode),e.push(Gt.JJ),e.push(Gt.D2.Cut),e.push(Gt.D2.Copy),window.navigator.clipboard&&"readText"in window.navigator.clipboard&&e.push(Gt.D2.Paste),e}),[t,D,N,Z,w,k]),O=(0,an.Z)({view:t});return l.useEffect((function(){if(t){var e=B.filter((function(e){return!(0,Gt.s3)(e)})).filter((function(e){return"keyboardShortcut"in Gt.Wo[e]})).filter((function(e){return e!==Gt.D2.Cut&&e!==Gt.D2.Copy&&e!==Gt.D2.Paste})).map((function(e){var t=Gt.Wo[e].keyboardShortcut,n={key:t.key,preventDefault:!0,run:function(){return j(e),!0}};return t.altKey&&(n.key="Alt-".concat(n.key)),t.shiftKey&&(n.key="Shift-".concat(n.key)),t.cmdOrCtrlKey&&(n.key="Mod-".concat(n.key)),n}));return t.dispatch({effects:O.reconfigure(C.$f.of(e))}),function(){t.dispatch({effects:O.reconfigure([])})}}}),[t,j,B,O]),{onAction:j,actions:B,contextMenuCoords:m,onContextMenu:function(e){if(!(0,cn.isMobile)({tablet:!1})&&t){e.preventDefault();var r=e.clientX,i=e.clientY,a=t.state.selection.main,c=t.posAtCoords({x:r,y:i}),s=t.state.doc.length,l=null===c?s:c;if(o.current=l,l<a.from||l>a.to){var u=E.jT.cursor(l);t.dispatch({selection:u})}var d=(0,pr.r6)(n);(0,xt.j)(xt.U3.EDITOR_CONTEXT_MENU_OPENED,{ext:d}),g({x:r,y:i})}},closeMenu:T,resizeRef:I}}function fi(e){var t=e.view,n=e.filePath,r=e.isLoading,i=function(e){var t=e.replId,n=(0,In._Lw)({variables:{replId:t}}).data;return"Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.deprecatedLanguageConfig:null}({replId:(0,Un.Z)()}),o=(0,a.Z)(l.useState(null),2),c=o[0],s=o[1],u=(0,an.Z)({view:t});return l.useEffect((function(){if(t&&i&&!r&&n===i.mainFile){var e=document.createElement("div");return s(e),t.dispatch({effects:u.reconfigure((0,C.W$)(e))}),function(){t.dispatch({effects:u.reconfigure([])}),s(null)}}}),[t,i,n,r,u]),c}function pi(e){var t=e.view,n=e.line,r=e.col,i=t.state.doc,a=Math.min(n,i.lines),o=i.line(a),c=o.to,s=o.from,l=r||0,u=Math.min(s+l,c),d=E.jT.cursor(u);t.dispatch({selection:d,scrollIntoView:!0}),t.focus()}var hi=n(98403),mi=n(91131),vi=n(20934),gi=C.tk.baseTheme({".replit-code-anchor":{background:"var(--accent-purple-dimmest)"}}),bi=E.Py.define(),xi=E.Py.define(),yi=E.Py.define(),Zi=E.Py.define(),wi=function(e){var t={};return E.QQ.define({create:function(){return[]},update:function(e,t){t.changes.empty||(e=e.map((function(e){return(0,i.Z)((0,r.Z)({},e),{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})));var n=!0,a=!1,o=void 0;try{for(var c,s=function(){var t=c.value;if(t.is(bi))e=t.value;else if(t.is(xi))e=(0,$.Z)(e).concat((0,$.Z)(t.value.filter((function(t){return!e.find((function(e){return e.id===t.id}))}))));else if(t.is(yi)){var n=t.value.map((function(e){return e.id}));e=e.filter((function(e){return!n.includes(e.id)}))}else t.is(hi.R)&&(e=(0,$.Z)(e))},l=t.effects[Symbol.iterator]();!(n=(c=l.next()).done);n=!0)s()}catch(u){a=!0,o=u}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return e},provide:function(n){return[C.tk.decorations.compute([n],(function(e){var t=e.field(n);return C.p.set(t.map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:C.p.mark({class:"replit-code-anchor ".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(t){return null!==t&&t.from!==t.to&&t.from<=e.doc.length&&t.to<=e.doc.length})),!0)})),C.hJ.computeN([n],(function(r){return r.field(n).map((function(n){var r,i,a=n.id;return{pos:Math.min(n.indexStart,n.indexEnd),above:!0,create:(r=a,i=function(t){var r=document.createElement("div");r.classList.add("cm-anchor","cm-anchor-".concat(a));var i=document.createElement("div");i.classList.add("cm-anchor-portal"),i.style.position="absolute",r.appendChild(i);var o={id:a,dom:i,getEditorRight:function(){return t.dom.getBoundingClientRect().right},getContent:function(){return t.state.doc.sliceString(n.indexStart,n.indexEnd)}};return e.setAnchorPortal(o),{dom:r,update:function(){e.setAnchorPortal(o)}}},t[r]||(t[r]=i),t[r])}}))}))]}})};var ki=n(16064),Ei=n(60523);function _i(e){var t=e.view,n=e.filePath,r=e.isLoading,i=function(){var e=(0,l.useContext)(Ei.Z);if(!e)throw new Error("Expected codemirror state to be in codemirror state context");return e}(),a=(0,an.Z)({view:t});(0,l.useEffect)((function(){var e=function(e,t){i.current.fileMap.set(n,{history:t.state.field(Kn.cE,!1),foldedRanges:(0,ae.q2)(t.state),scrollTop:e.scrollDOM.scrollTop,selection:t.state.selection,doc:t.state.doc})};if(t&&!r){var o,c=i.current.fileMap.get(n);if(c&&t.state.doc.eq(c.doc)){if(t.state.field(Kn.cE,!1))throw new Error("History was preconfigured on this view, if you want to use state cache, please make sure history is not already configured for this view");var s=[];c.foldedRanges.between(0,t.state.doc.length,(function(e,t){s.push(ae.SW.of({from:e,to:t}))})),t.dispatch({effects:s,selection:c.selection}),t.scrollDOM.scrollTop=c.scrollTop,o=[Kn.cE.init((function(){return c.history})),(0,Kn.m8)()]}else o=(0,Kn.m8)();t.dispatch({effects:a.reconfigure([o,C.tk.updateListener.of((function(n){"undefined"!==typeof requestIdleCallback?requestIdleCallback((function(){e(t,n)})):requestAnimationFrame((function(){e(t,n)}))}))])});var l=i.current.fileMap.get(n);return function(){l&&(l.scrollTop=t.scrollDOM.scrollTop),t.dispatch({effects:a.reconfigure([])})}}}),[t,n,i,r,a])}var Ci=n(65456),Si=n(35256),Ti=/\r\n?|\n/;function Ii(e){return e.replace(new RegExp(Ti,"g"),"\n")}function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return e.slice(t,n+1).split(/\r\n/g).length-1}function Ri(e,t){var n=t,r=0,i=0;do{i=ji(e,r,n),r=n,n+=i}while(i);return n}function Ni(e,t){var n=[],r=t;return e.iterChanges((function(e,i,a,o,c){var s=[];a>0&&s.push(Ri(r,a)),e<i&&s.push({d:Ri(t,i)-Ri(t,e)}),c.length&&s.push(c.sliceString(0)),r=(0,Si.apply)(r,s),n=(0,Si.compose)(n,s)})),n}function Pi(e,t){var n=[],r=0,i=0,a=!0,o=!0,c=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=l.value;if("string"===typeof d){var f=d;if(d.endsWith("\r")&&"\n"===t.slice(r,r+1)&&0===(f=d.slice(0,-1)).length)continue;if(f=Ii(f),a)n.push({from:i,insert:f});else{var p=n[n.length-1];p.insert=p.insert?p.insert+f:f}a=!1}else if("number"===typeof d){var h=ji(t,r,r+d);r+=d,i+=d-h,a=!0}else if("object"===typeof d&&"number"===typeof d.d){var m=d.d;if("\r\n"===t.slice(r-1,r+1)&&(i+=1,m-=1),(m-=ji(t,r,r+d.d))>0)if(a)n.push({from:i,to:i+m});else{var v=n[n.length-1];v.insert&&!v.to?v.to=i+m:v.to&&(v.to+=m)}r+=d.d,i+=m,a=!1}}}catch(g){c=!0,s=g}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}return n}var Di=E.q6.define();function Bi(e,t){var n=t;return C.tk.updateListener.of((function(t){if(t.docChanged){var r=[],i=!0,a=!1,o=void 0;try{for(var c,s=t.transactions[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value,u=Ni(l.changes,n);n=(0,Si.apply)(n,u),l.annotation(E.YW.remote)||l.annotation(Di)||(r=(0,Si.compose)(r,u))}}catch(d){a=!0,o=d}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}r.length&&e(r,n)}}))}var Oi=E.QQ.define({create:function(){return 0},update:function(e,t){var n=t.annotation(Di);return n?n.version:e}}),Ai=n(58967);function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=n[0],i=n[n.length-1],a=new Set(n.map((function(e){return e.userId}))),o=new Map(n.map((function(e){return[e.userId,e.version]})));return{firstKnownOp:r,recentKnownOp:i,receivedLocalOp:e,receivedRemoteOp:t,clientKnownPlayers:a.size,hasPlayerZero:a.has(0),knownUserIds:a,recentVersionByUserId:o}}function Ui(e){var t=e.view,n=e.fs,i=e.filePath,a=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,h.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));if(!m.current.has(i)&&t){var o=t.state.doc.toString(),c=e===o;c||(m.current.add(i),a().then((function(t){mr.kg.error("Mismatch between otClient and codemirror",(0,r.Z)({otcrlf:e.indexOf("\r")>-1,ot:e,cm:o,path:i,changeSource:n},t))})).catch((function(e){Wt.Tb(e),mr.kg.error("Mismatch between otClient and CodeMirror, but I swallowed up an error and lost all the metadata, sorry.",{err:e})})))}},o=(0,l.useState)(null),c=o[0],s=o[1],u=(0,Kt.Z)(),d=(0,l.useRef)({local:0,codemirror:0,container:0}),f=(0,l.useRef)(Date.now()),p=(0,an.Z)({view:t}),m=(0,l.useRef)(new Set),g=(0,Ai.Z)().trackTimeToLoadFileEnd,b=(0,l.useRef)("");(0,l.useEffect)((function(){if(t&&n&&i){var e=n.watchOtFile(i,{onChange:function(){var e=(0,h.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.latestContent,b.current=n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return e}}),[t,i,n]);var x=(0,l.useRef)(),y=(0,l.useRef)();return(0,l.useEffect)((function(){if(t){var e="",o=n.watchOtFile(i,{onReady:function(o){var c=o.initialContent,l=o.fetchOps,u=o.writeOp,m=o.version;x.current=l,y.current=m,g(i),d.current.codemirror++,t.dispatch({changes:{from:0,to:t.state.doc.length,insert:Ii(c.toString())},annotations:[E.YW.addToHistory.of(!1),E.YW.remote.of(!0)]}),t.dispatch({effects:p.reconfigure([Oi.init((function(){return m})),Bi((function(t,o){e=o,u(t),d.current.codemirror++,a(b.current,"CODEMIRROR",(0,h.Z)(v().mark((function e(){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getOTVersion(i),e.t0=r.Z,e.t1={origin:"view-writer",readyVersion:m,knownVersion:a,countOpsSinceLoad:d.current,timeInitialized:f.current},e.t2=zi,e.t3=t,e.next=7,l(1,a);case 7:return e.t4=e.sent,e.t5=(0,e.t2)(e.t3,null,e.t4),e.abrupt("return",(0,e.t0)(e.t1,e.t5));case 10:case"end":return e.stop()}}),e)}))))}),c.toString())])}),e=c.toString(),s(i)},onChange:function(o){var c=o.op,s=o.changeSource,l=o.version,u=o.latestContent;t.dispatch(function(e){var t=e.op,n=e.version,r=e.changeSource;return{changes:Pi(t,e.replitDoc),annotations:[E.YW.remote.of(r===Ci.Fl.Container),E.YW.addToHistory.of(r===Ci.Fl.Local),Di.of({op:t,version:n,changeSource:r})]}}({op:c,changeSource:s,version:l,replitDoc:e})),e=u,"LOCAL"===s?d.current.local++:"CONTAINER"===s&&d.current.container++,a(u,s,(0,h.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getOTVersion(i),e.t0=r.Z,e.t1={origin:"fs-change",changeVersion:l,readyVersion:y.current,knownVersion:t,countOpsSinceLoad:d.current,timeInitialized:f.current},e.t2=zi,e.t3=c,!x.current){e.next=11;break}return e.next=8,x.current(1,t);case 8:e.t4=e.sent,e.next=14;break;case 11:return e.next=13,Promise.resolve([]);case 13:e.t4=e.sent;case 14:return e.t5=e.t4,e.t6=(0,e.t2)(null,e.t3,e.t5),e.abrupt("return",(0,e.t0)(e.t1,e.t6));case 17:case"end":return e.stop()}}),e)}))))},onError:function(){t.dispatch({effects:p.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:p.reconfigure([])})}});return function(){o(),t.dispatch({effects:[p.reconfigure([])]}),u.current&&s(null)}}}),[t,i,n,u,p]),{loadedFile:c}}var Li=n(58502),Gi={"#1BC47D":"rgba(27, 196, 125, 0.2)","#EF5533":"rgba(239, 85, 51, 0.2)","#18A0FB":"rgba(24, 160, 251, 0.2)","#FFC700":"rgba(255, 199, 0, 1)","#907CFF":"rgba(144, 124, 255, 0.2)","#00B5CE":"rgba(0, 181, 206, 0.2)","#EE46D3":"rgba(238, 70, 211, 0.2)"};var Xi=E.Py.define(),Fi=E.Py.define(),Mi=E.Py.define();function Wi(e){return{pos:e.position,strictSide:!0,above:!0,create:e.createCursorTooltipFunction}}var Hi=E.QQ.define({create:function(){return{}},update:function(e,t){if(!t.changes.empty){var n={},o=!0,c=!1,s=void 0;try{for(var l,u=Object.values(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=l.value;n[d.id]=(0,i.Z)((0,r.Z)({},d),{position:t.changes.mapPos(d.position),selectionStart:t.changes.mapPos(d.selectionStart),selectionEnd:t.changes.mapPos(d.selectionEnd)})}}catch(b){c=!0,s=b}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}e=n}var f=!0,p=!1,h=void 0;try{for(var m,v=function(){var n=m.value;if(n.is(hi.R)&&(e=(0,r.Z)({},e)),n.is(Xi)&&n.value.position<=t.newDoc.length&&((e=(0,r.Z)({},e))[n.value.id]=(0,i.Z)((0,r.Z)({},n.value),{createCursorTooltipFunction:function(e){var t=n.value,r=document.createElement("div");r.textContent=t.username,r.style.backgroundColor=t.color.cursor,r.style.color="white",r.classList.add("multiplayer-label");var i=document.createElement("div");i.style.backgroundColor=t.color.cursor,i.classList.add("multiplayer-cursor");var a=document.createElement("div");return a.classList.add("multiplayer-tooltip"),a.appendChild(i),a.appendChild(r),{dom:a,overlap:!0,positioned:function(){i.style.height=e.defaultLineHeight+"px"}}}})),n.is(Fi)&&(e=(0,r.Z)({},e),n.is(Fi)&&delete e[n.value]),n.is(Mi)){e=(0,r.Z)({},e);var o=!0,c=!1,s=void 0;try{for(var l,u=Object.entries(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=(0,a.Z)(l.value,2),f=d[0];d[1].username===n.value&&delete e[f]}}catch(b){c=!0,s=b}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}}},g=t.effects[Symbol.iterator]();!(f=(m=g.next()).done);f=!0)v()}catch(b){p=!0,h=b}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}return e},provide:function(e){return[C.hJ.computeN([e],(function(t){return Object.values(t.field(e)).map(Wi)})),C.tk.decorations.computeN([e],(function(t){var n=t.field(e);return Object.values(n).map((function(e){var t=e.selectionStart<e.selectionEnd?e.selectionStart:e.selectionEnd,n=e.selectionStart>e.selectionEnd?e.selectionStart:e.selectionEnd;return t===n?null:C.p.set(C.p.mark({attributes:{style:"background-color: ".concat(e.color.selection,"; display: inline-block;")},cursor:e}).range(t,n))})).filter((function(e){return null!==e}))}))]}});function Vi(e){return C.tk.updateListener.of((function(t){var n=t.state.selection;n!==t.startState.selection&&(t.transactions.every((function(e){return e.annotation(E.YW.remote)}))||e(n.ranges.map((function(e){var n=t.state.doc.lineAt(e.head);return{position:e.head,line:n.number,column:e.head-n.from+1,selectionStart:e.from,selectionEnd:e.to}})),n.mainIndex))}))}function qi(e){var t=e.view,n=e.presence,a=e.session,o=e.fs,c=e.filePath,s=(0,l.useState)(null),u=s[0],d=s[1],f=(0,Li.Z)({presence:n}),p=(0,l.useRef)({}),h=(0,Kt.Z)();(0,l.useEffect)((function(){var e=f.reduce((function(e,t){return t.username&&t.color?(0,i.Z)((0,r.Z)({},e),(0,J.Z)({},t.username,t.color)):e}),{});p.current=e}),[f]);var m=(0,an.Z)({view:t});return(0,l.useEffect)((function(){if(t){var e=n.onUserLeave((function(e){t.dispatch({effects:Mi.of(e.username)})})),r=o.watchOtFile(c,{onReady:function(e){var n=e.updateSelections;t.dispatch({effects:m.reconfigure([Hi,Vi((function(e,t){n(e);var r=e[t];r&&a.setCursorPosition({column:r.column,lineNumber:r.line,offset:r.position})}))])}),d(c)},onCursor:function(e){var n=function(e){var t,n=e.cursor,r=e.usernameColorsMap,i=null===(t=n.user)||void 0===t?void 0:t.name;if(i){var a,o=n.id,c=n.position,s=n.selectionStart,l=n.selectionEnd,u=r[i];if(u&&o&&"number"===typeof c&&"number"===typeof s&&"number"===typeof l)return Xi.of({id:o,username:i,position:c,color:{cursor:u,selection:(a=u,Gi[a]||"")},selectionStart:s,selectionEnd:l})}}({cursor:e,usernameColorsMap:p.current});n&&t.dispatch({effects:n})},onRemoveCursor:function(e){t.dispatch({effects:Fi.of(e)})},onError:function(){t.dispatch({effects:m.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:m.reconfigure([])})}});return function(){e(),r(),t.dispatch({effects:m.reconfigure([])}),h.current&&d(null)}}}),[t,c,o,n,a,m]),{loadedFile:u}}var Ki=n(86601);function Qi(e){var t=e.view,n=e.presence,r=e.session,i=e.fs,a=e.filePath,o=Ui({view:t,fs:i,filePath:a}).loadedFile,c=qi({view:t,fs:i,filePath:a,presence:n,session:r}).loadedFile;!function(e){var t=e.view,n=(0,f.Z)().presence,r=(0,Ki.Z)(),i=(0,an.Z)({view:t});l.useEffect((function(){if(r&&t){var e=function(){n.getFollowedUser()&&n.unfollowUser()};return t.dispatch({effects:i.reconfigure(C.tk.domEventHandlers({wheel:e,keydown:function(t){"Control"!==t.key&&"Meta"!==t.key&&e()},click:e}))}),function(){t.dispatch({effects:i.reconfigure([])})}}}),[r,t,n,i]);var a=(0,an.Z)({view:t});l.useEffect((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t){var n=E.jT.cursor(e);t.dispatch({effects:[C.tk.scrollIntoView(n,{x:"center",y:"center"})]})}};if(t&&r){var n=t.state.field(Hi,!1);if(n){var i=Object.values(n).find((function(e){return e.username===r.username}));i&&e(i.position)}return t.dispatch({effects:a.reconfigure(C.tk.updateListener.of((function(t){var n,i=!0,a=!1,o=void 0;try{for(var c,s=t.transactions[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value,u=!0,d=!1,f=void 0;try{for(var p,h=l.effects[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value;m.is(Xi)&&m.value.username===r.username&&(n=m.value)}}catch(v){d=!0,f=v}finally{try{u||null==h.return||h.return()}finally{if(d)throw f}}}}catch(v){a=!0,o=v}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}n&&e(n.position)})))}),function(){t.dispatch({effects:a.reconfigure([])})}}}),[t,r,a])}({view:t});var s=a!==o||a!==c,u=(0,an.Z)({view:t});return(0,l.useEffect)((function(){t&&t.dispatch({effects:u.reconfigure([C.tk.editable.of(!s),E.yy.readOnly.of(s)])})}),[t,s,u]),{isLoading:s}}var Yi=n(47979),Ji=n(7182),$i=n(43421),ea=[{img:"/public/images/kaboomdraw/rect.png",code:"\ndrawRect({\n\tpos: vec2(80, 80),\n\twidth: 120,\n\theight: 80,\n\tcolor: rgb(250, 242, 164),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/triangle.png",code:"\ndrawTriangle({\n\tpos: vec2(100, 100),\n\tp1: vec2(0, -48),\n\tp2: vec2(-60, 48),\n\tp3: vec2(60, 48),\n\tcolor: rgb(164, 250, 204),\n})\n  ".trim()},{img:"/public/images/kaboomdraw/circle.png",code:"\ndrawCircle({\n\tpos: vec2(100, 100),\n\tradius: 48,\n\tcolor: rgb(181, 164, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/ellipse.png",code:"\ndrawEllipse({\n\tpos: vec2(120, 100),\n\tradiusX: 64,\n\tradiusY: 40,\n\tcolor: rgb(164, 209, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/polygon.png",code:"\ndrawPolygon({\n\tpos: vec2(100, 100),\n\tpts: [\n\t\tvec2(0, -48),\n\t\tvec2(-64, 0),\n\t\tvec2(-32, 64),\n\t\tvec2(32, 64),\n\t\tvec2(64, 0),\n\t],\n\tcolor: rgb(250, 164, 226),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/text.png",code:'\ndrawText({\n\ttext: "hi",\n\tpos: vec2(60, 60),\n})\n    '.trim()}],ta=function(e){var t=e.img,n=e.code,r=(0,a.Z)((0,$i.c)({item:{type:Ji.z.Code,code:n},type:Ji.z.Code}),2)[1];return(0,o.tZ)("img",{ref:r,src:t,css:[T.l0.p(12),{userDrag:"none",height:"100%",cursor:"pointer",transition:"0.1s transform",":hover":{transform:"scale(1.2)"}}]})},na=function(){return(0,o.tZ)(j.Z,{css:[T.l0.flex.row,T.l0.justify.spaceEvenly,T.l0.backgroundColor.backgroundHigher,T.l0.borderRadius(8),T.l0.width("calc(100% - 32px)"),T.l0.height("64px"),T.l0.position.absolute,T.l0.overflow("scroll"),{zIndex:5,left:16,bottom:16,border:"solid 1px var(--outline-dimmest)"}],children:ea.map((function(e){return(0,o.tZ)(ta,(0,r.Z)({},e),e.img)}))})},ra=n(59916);var ia=n(62808),aa=n(65674);var oa=n(51739),ca=n(42166),sa=n(32703),la=RegExp("_(?<num>\\d+)$");function ua(e,t){return da.apply(this,arguments)}function da(){return da=(0,h.Z)(v().mark((function e(t,n){var r,i,a,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,pr.Il)(n),e.next=3,t.readDir(r||".");case 3:if(!(i=e.sent).error){e.next=6;break}return e.abrupt("return",n);case 6:return a=function(e){if(i.children.find((function(t){return"FILE"===t.type&&t.filename===e}))){var t,n=(0,pr.eb)(e),r=(0,pr.r6)(e),o=n.match(la);if(null===o||void 0===o||null===(t=o.groups)||void 0===t?void 0:t.num){var c=Number(o.groups.num);return a("".concat(n.replace(la,""),"_").concat(c+1,".").concat(r))}return a("".concat(n,"_2.").concat(r))}return e},o=a((0,pr.UO)(n)),e.abrupt("return",r?r+"/"+o:o);case 9:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}var fa=n(58794),pa=function(){var e=(0,h.Z)(v().mark((function e(t,n,r){var i,a,o,c,s,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=encodeURI(t.name),a=(0,pr.Il)(r),e.next=4,ua(n,a?a+"/"+i:i);case 4:return o=e.sent,e.next=7,(0,sa.pV)(t);case 7:return c=e.sent,e.next=10,n.writeFile(o,fa.Z.from(c));case 10:return s=(0,pr.eb)(t.name),l=(0,pr.UO)(o),e.abrupt("return","![".concat(s,"](").concat(l,")"));case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var ha=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e,r){var i;return(0,te.Z)(this,n),(i=t.call(this)).src=e,i.pos=r,i}var r=n.prototype;return r.eq=function(e){return this.src===e.src&&this.pos===e.pos},r.toDOM=function(){var e=document.createElement("img");return e.src=this.src,e.dataset.pos=this.pos.toString(),e.style.maxHeight="64px",e.style.maxWidth="256px",e},r.ignoreEvent=function(){return!1},n}(C.l9),ma=/"data:image\/\w+;base64,[^"\s]+"/g,va=Number.MAX_VALUE,ga=C.lg.define((function(e){var t=new C.Y1({regexp:ma,decoration:function(e,t,n){if(void 0===e[0])throw new Error("Failed to match image");var r=e[0].substring(1,e[0].length-1);return C.p.replace({widget:new ha(r,n)})},maxLength:va});return{matcher:t,deco:t.createDeco(e),update:function(e){e.docChanged&&(this.deco=t.updateDeco(e,this.deco))}}}),{decorations:function(e){return e.deco},provide:function(e){return C.tk.atomicRanges.of((function(t){var n=t.plugin(e);return n?n.deco:C.p.none}))}});var ba=n(99336);var xa,ya=n(2236),Za=n(81896),wa=n(8054),ka=n(46829),Ea=n(96486);function _a(e){var t=e.onComplete,n=e.onEscape,r=null,i=null;return C.tk.domEventHandlers({touchstart:function(e){i=null,r=e.targetTouches[0].clientX},touchmove:function(e){i=e.targetTouches[0].clientX},touchend:function(e,a){if(r&&i)return r-i<-50&&t(a),n(a),!0}})}function Ca(e,t){var n=e.doc.lineAt(e.selection.main.head);if(e.doc.sliceString(e.selection.main.head,n.to).replace(/[\s)\]}"'`]/g,"").length)return xa.Stop;var r="";return t.iterChanges((function(e,t,n,i,a){r=a.toString()})),r?/\n\s*\n/.test(r)||[":","(","[","{",'"',"'"," "].includes(r[0])?xa.Now:xa.Enqueue:xa.Stop}!function(e){e[e.Stop=0]="Stop",e[e.Enqueue=1]="Enqueue",e[e.Now=2]="Now"}(xa||(xa={}));var Sa=E.Py.define(),Ta=E.Py.define(),Ia=E.Py.define(),ja=E.Py.define();function Ra(e,t){return C.p.widget({widget:new Na(e),side:1}).range(t)}var Na=function(e){(0,ne.Z)(n,e);var t=(0,ie.Z)(n);function n(e){var r;return(0,te.Z)(this,n),(r=t.call(this)).code=e,r}var r=n.prototype;return r.eq=function(e){return e.code===this.code},r.toDOM=function(){var e=document.createElement("span");return e.className="gray-text",e.innerText=this.code,e},r.updateDOM=function(e){return e.innerText=this.code,!0},r.ignoreEvent=function(){return!1},n}(C.l9),Pa=new Set(["Block","FunctionDeclaration","ClassBody","CatchClause"]),Da=new Set((0,$.Z)(Pa).concat(["ArgList","ArrayExpression","FormalParameters","ParamList","ParenthesizedExpression","String","JSXAttributeValue","JSXEndTag","JSXEscape","JSXOpenTag","ObjectExpression","TemplateString","TypeParamList","ArgumentList","ArrayInitializer","Dimension","InferredParameters","TypeParameters","CompoundStatement","LambdaCaptureSpecifier","ParameterList","SystemLibString","FieldDeclarationList"]));function Ba(e){return Da.has(e.type.name)?{start:{from:e.from,to:e.from+1},end:{from:e.to-1,to:e.to}}:e.parent()?Ba(e):void 0}function Oa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,a=Ba((0,ae.qz)(e).cursorAt(n));if(a)return(0,i.Z)((0,r.Z)({},a),{bracket:e.doc.sliceString(a.end.from,a.end.to)});var o=null!==(t=(0,ae.Um)(e,n-1,1))&&void 0!==t?t:(0,ae.Um)(e,n,1);return(null===o||void 0===o?void 0:o.end)?{start:o.start,end:o.end,bracket:e.doc.sliceString(o.end.from,o.end.to)}:void 0}function Aa(e){var t;return(null===(t=e.match(/^\s*/))||void 0===t?void 0:t[0].length)||0}function za(e){return(e+"\n").slice(0,e.indexOf("\n"))}function Ua(e,t){var n=(0,ae.qz)(e).resolveInner(t);return!!Pa.has(n.type.name)&&!e.sliceDoc(n.from+1,n.to-1).trim().length}function La(e,t){var n=e.split("\n").map((function(e,t,n){return e+(t===n.length-1?"":"\n")})),r=n.findIndex((function(e,n){return n>0&&Aa(e)<t}));if(-1!==r)return n.slice(0,r+1).join("").slice(0,-1)}function Ga(e,t){return function(e,t){var n,r,i=e.selection.main.head,a=e.doc.lineAt(i),o=Aa(a.text);return Ua(e,i)?null!==(n=La(t,o))&&void 0!==n?n:t:e.doc.sliceString(a.from,i).trim().length?za(t):null!==(r=La(t,o))&&void 0!==r?r:za(t)}(e,t.replace(/^\n+/,"")).trimEnd()}var Xa=function(){function e(t){(0,te.Z)(this,e),Object.assign(this,t)}return e.prototype.update=function(t){return new e((0,r.Z)({},this,t))},e}(),Fa=function(){function e(t){(0,te.Z)(this,e),Object.assign(this,t)}var t=e.prototype;return t.updateOnInput=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection.main.head,r=this,i=r.activeTextIndex,a=r.activeTextCursor,o=r.activeText,c=o.text.slice(a);if(o.text[a]===t[0]&&["()","[]","{}",'""',"''"].includes(t)){var s=t[1],l=e.update({changes:{from:n,insert:o.text.slice(a)}}),u=l.state,d=Oa(u,n+1);if(!(null===d||void 0===d?void 0:d.end))return null;var f=d.end.to-o.startPos,p=[new Xa({text:o.text.slice(0,f-1),endBracket:s,startPos:o.startPos}),new Xa({text:o.text.slice(f),startPos:n+t.length,endBracket:o.endBracket})];return this.updateCursor((function(e){return e+1})).updateTexts((function(e,n){return n===i?p:n>i?e.update({startPos:e.startPos+t.length}):e}))}return c.startsWith(t)?this.updateCursor((function(e){return e+t.length})).updateTexts((function(e,n){return n>i?e.update({startPos:e.startPos+t.length}):e})):t?null:this},t.containsCursor=function(e){var t=this.activeText.startPos,n=t+this.activeText.text.length;return e>=t&&e<n},t.update=function(t){return new e((0,r.Z)({},this,t))},t.updateCursor=function(e){return this.update({activeTextCursor:e(this.activeTextCursor)})},t.updateTexts=function(e){return this.update({texts:this.texts.flatMap(e).filter(Boolean)})},t.asEffect=function(){return e.set.of(this)},t.asSpec=function(){return{effects:[this.asEffect()]}},t.asDecoration=function(){var e=this,t=this.texts.map((function(t,n){var r=t.text,i=t.startPos;return n<e.activeTextIndex||!r?null:n===e.activeTextIndex?Ra(r.slice(e.activeTextCursor),i+e.activeTextCursor):Ra(r,i)})).filter(Boolean);return C.p.set(t)},e.fromCodeSuggestion=function(t){var n=t.inherits,a=void 0===n?{activeTextCursor:0,activeTextIndex:0,complete:!1}:n,o=t.editorState,c=t.codeSuggestion,s=t.cursor,l=void 0===s?o.selection.main.head:s,u=Ga(o,c),d=new e((0,i.Z)((0,r.Z)({},a),{source:c,texts:[new Xa({text:u,startPos:l})]})),f=Oa(o,l);if(!f)return d;var p=o.update({changes:{from:l,to:o.doc.length,insert:u}}).state,h=function(){var e=(0,ae.Um)(p,f.start.from,1);if(['"',"'"].includes(f.bracket)&&!(null===e||void 0===e?void 0:e.end)){var t=function(e,t){var n=-1;for(;-1!==(n=e.indexOf(t,n+1));)if("\\"!==e[n-1])return n;return-1}(p.sliceDoc(l),f.bracket);return-1===t?void 0:{from:l+t,to:l+t+1}}return null===e||void 0===e?void 0:e.end}();if(!h)return d;var m=h.from-l;return u.length===m+f.bracket.length?new e((0,i.Z)((0,r.Z)({},a),{source:c,texts:[new Xa({text:u.slice(0,m).trimEnd(),startPos:l,endBracket:f.bracket})]})):new e((0,i.Z)((0,r.Z)({},a),{source:c,texts:[new Xa({text:u.slice(0,m),startPos:l,endBracket:f.bracket}),new Xa({text:u.slice(m+f.bracket.length),startPos:f.end.to})]}))},(0,oe.Z)(e,[{key:"activeText",get:function(){return this.texts[this.activeTextIndex]}}]),e}();Fa.set=E.Py.define(),Fa.clearState=Fa.set.of(null);var Ma,Wa=C.tk.baseTheme({".gray-text":{color:R.TV.foregroundDimmest}}),Ha=E.QQ.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t.effects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;c.is(Fa.set)?e=c.value:c.is(Ta)?e=null==c.value?null:Fa.fromCodeSuggestion({editorState:t.state,codeSuggestion:c.value}):c.is(Ia)?e=(null===e||void 0===e?void 0:e.source)?Fa.fromCodeSuggestion({inherits:e,editorState:t.state,codeSuggestion:e.source+c.value,cursor:e.texts[0].startPos}):null:c.is(ja)&&(e=e.update({complete:c.value}))}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return e},provide:function(e){return C.tk.decorations.from(e,(function(e){return function(){return null!==(Ma=null===e||void 0===e?void 0:e.asDecoration())&&void 0!==Ma?Ma:C.p.none}}))}}),Va=C.tk.updateListener.of((function(e){var t=e.view,n=t.state.field(Ha),r=e.state.selection.main;r.empty&&(null===n||void 0===n?void 0:n.containsCursor(r.head))||(e.docChanged?t.dispatch({effects:[Fa.set.of(null),Sa.of(Ca(t.state,e.changes))]}):e.selectionSet&&t.dispatch({effects:[Fa.set.of(null),Sa.of(xa.Stop)]}))})),qa=E.yy.transactionExtender.of((function(e){var t=[];if(e.isUserEvent("delete.backward")){var n=e.startState.field(Ha);if(!n)return null;t.push(Fa.set.of(function(e){var t=e.activeTextCursor,n=e.activeTextIndex,r=e.texts;return t>0?e.updateCursor((function(e){return e-1})).updateTexts((function(e,t){return t>n?e.update({startPos:e.startPos-1}):e})):0===n?null:e.update({activeTextIndex:n-1,activeTextCursor:e.texts[e.activeTextIndex-1].text.length}).updateTexts((function(e,t){return t<n-1?e:t===n-1?e.update({text:e.text+(e.endBracket||"")+r[n].text,endBracket:r[n].endBracket}):t===n?null:e.update({startPos:e.startPos-1})}))}(n)))}else if(e.isUserEvent("input")){var r=e.startState.field(Ha);if(!r)return null;e.changes.iterChanges((function(n,i,a,o,c){if(r){var s=r.updateOnInput(e.state,c.toString(),a);s!==r?(t.push(Fa.set.of(s)),r=s):null===s&&(t.push(Fa.clearState,Sa.of(xa.Enqueue)),r=null)}}))}return(t=t.filter(Boolean)).length?{effects:t}:null})),Ka=C.tk.inputHandler.of((function(e,t,n,r){var i=e.state.field(Ha);if(!i)return!1;var a=i.activeTextIndex,o=i.activeTextCursor,c=i.texts[a];if(c.text.length===o&&r===c.endBracket){var s=i.update({activeTextCursor:0,activeTextIndex:a+1});e.dispatch({effects:s.activeTextIndex>=s.texts.length?Fa.clearState:s.asEffect()})}return!1})),Qa=function(e){var t=e.state,n=e.dispatch,r=t.field(Ha);return!!r&&(n(t.update({effects:[Ta.of(null),!r.complete&&Sa.of(xa.Stop)].filter(Boolean)})),!0)},Ya=function(e){var t=e.state,n=e.dispatch,r=t.field(Ha);if(!r)return!1;var i=r.activeTextIndex,a=r.activeTextCursor,o=r.texts[i].text.slice(a).match(/^\n\s*/);return!!o&&(n(t.update(t.replaceSelection(o[0]),r.updateCursor((function(e){return e+o[0].length})).updateTexts((function(e,t){return t>i?e.update({startPos:e.startPos+o[0].length}):e})).asSpec())),!0)};function Ja(e){var t=e.path,n=e.engine,r=e.suggestCode,i=function(){var e;return{abort:function(){null===e||void 0===e||e.abort()},requestSignal:function(){var t=new AbortController;return null===e||void 0===e||e.abort(),e=t,t.signal}}}(),a=(0,Ea.debounce)(function(){var e=(0,h.Z)(v().mark((function e(t){var n,a,o,c,s,l,u,d,f,p,h,m,g,b,x,y,Z,w;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,a=n.doc,o=n.selection,0!==(c=o.main.head)){e.next=4;break}return e.abrupt("return");case 4:if(s=a.sliceString(c-1,c),![";",")","}","]","{"].includes(s)){e.next=7;break}return e.abrupt("return");case 7:if((l=a.sliceString(Math.max(0,c-4e3),c))&&!(l.length<4)){e.next=10;break}return e.abrupt("return");case 10:u=a.lineAt(c),d=u.text.replace(/^\s+/,"").split(/\s+/).length,f=d>0?30-d:Ua(t.state,c)?125:30,e.prev=14,p=!0,h=!1,m=!1,e.prev=17,b=(0,ya.Z)(r({code:l,maxTokens:f,signal:i.requestSignal()}));case 19:return e.next=21,b.next();case 21:if(!(h=!(x=e.sent).done)){e.next=26;break}y=x.value,Z=y,t.dispatch({effects:p?Ta.of(Z):Ia.of(Z)}),p=!1;case 23:h=!1,e.next=19;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(17),m=!0,g=e.t0;case 32:if(e.prev=32,e.prev=33,!h||null==b.return){e.next=37;break}return e.next=37,b.return();case 37:if(e.prev=37,!m){e.next=40;break}throw g;case 40:return e.finish(37);case 41:return e.finish(32);case 42:t.dispatch({effects:ja.of(!0)}),e.next=51;break;case 45:if(e.prev=45,e.t1=e.catch(14),"AbortError"!==(null===(w=e.t1)||void 0===w?void 0:w.name)){e.next=50;break}return e.abrupt("return");case 50:Wt.Tb(e.t1);case 51:case"end":return e.stop()}}),e,null,[[14,45],[17,28,32,42],[33,,37,41]])})));return function(t){return e.apply(this,arguments)}}(),225),o=function(e){return!!function(e){var t=e.state.field(Ha);if(!t)return!1;t.complete||e.dispatch({effects:Sa.of(xa.Stop)});var n=t.activeTextCursor,r=t.activeTextIndex,i=t.texts,a=e.state.changes(i.map((function(e,t){return t<r?null:t===r?{from:e.startPos+n,insert:e.text.slice(n)}:{from:e.startPos,insert:e.text}})).filter(Boolean)),o=0;return a.iterChangedRanges((function(e,t,n,r){o=r})),e.dispatch({changes:a,selection:{anchor:o},scrollIntoView:!0,sequential:!0,effects:Ta.of(null)}),!0}(e)&&((0,xt.j)(xt.U3.CODE_SUGGESTION_USED,{type:"suggestionAccepted",language:Rr(t),engine:n}),(0,_._B)(e),!0)};return[E.Wl.high(C.$f.of([{key:"Tab",run:o},{key:"Escape",run:function(e){return!!Qa(e)&&(i.abort(),(0,xt.j)(xt.U3.CODE_SUGGESTION_USED,{type:"suggestionDismissed",language:Rr(t),engine:n}),!0)}},{key:"Enter",run:Ya}])),C.tk.domEventHandlers({blur:function(e,t){setTimeout((function(){t.dispatch({effects:Ta.of(null)})}),100)}}),C.tk.updateListener.of((function(e){(0,I.j)(e,Sa,(function(t){var n,r;t.value?(n=e.view,r=t.value,i.abort(),a(n),r===xa.Now&&a.flush()):i.abort()}))})),[Va,qa,Ha,Wa,E.Wl.high(Ka)],_a({onComplete:o,onEscape:Qa})]}var $a=n(11006),eo=new Set(["bash","c","css","c#","c++","go","haskell","java","javascript","json","kotlin","lisp","php","python","ruby","rust","typescript"]);function to(e){return no.apply(this,arguments)}function no(){return no=(0,wa.Z)(v().mark((function e(t){var n,r,i,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=5,(0,Za.Z)(n.read());case 5:if(r=e.sent,i=r.done,a=r.value,!i){e.next=10;break}return e.abrupt("break",14);case 10:return e.next=12,a;case 12:e.next=2;break;case 14:return e.prev=14,n.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,,14,17]])}))),no.apply(this,arguments)}var ro=n(93058),io=n(8527),ao=n(76818),oo=n(86514);function co(e){var t=e.inferenceId,n=e.language,r=e.inferenceClass,i=(0,a.Z)((0,In.dE9)(),2),c=i[0],s=i[1],l=s.data,u=s.error,d=s.called,f=function(e){r===In.SgB.Generation?(0,xt.j)(xt.U3.CODEX_FEEDBACK_SUBMITTED,{feedback:e,language:n,feature:"generation"}):(0,xt.j)(xt.U3.SEMANTIC_SEARCH_FEEDBACK_SUBMITTED,{feedback:e,language:n,feature:"search"}),c({variables:{input:{feedback:e,inferenceClass:r,inferenceId:t}}})};return(0,o.tZ)(R.G7,{css:[R.l0.rowWithGap(16),R.l0.justify.start,R.l0.align.center,R.l0.pt(12)],children:d&&"NotFoundError"!==(null===l||void 0===l?void 0:l.giveCodexFeedback2.__typename)&&"UnauthorizedError"!==(null===l||void 0===l?void 0:l.giveCodexFeedback2.__typename)&&!u?(0,o.tZ)(R.zx,{disabled:!0,iconLeft:(0,o.tZ)(yr.Z,{}),onClick:function(){},small:!0,text:"Thanks!"}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(R.xv,{variant:"small",children:"Is this code valuable?"}),(0,o.BX)(R.G7,{css:[R.l0.rowWithGap(8),R.l0.justify.start,R.l0.align.center],children:[(0,o.tZ)(R.zx,{text:"Yes",colorway:"positive",outlined:!0,onClick:function(){return f(In.TYv.Yes)},small:!0,iconLeft:(0,o.tZ)(dt.Z,{})}),(0,o.tZ)(R.zx,{text:"No",colorway:"negative",outlined:!0,onClick:function(){return f(In.TYv.No)},small:!0,iconLeft:(0,o.tZ)(Ye.Z,{})})]}),(0,o.tZ)(Ar.Z,{feature:zr.l.AI})]})})}var so=n(77836),lo=n(53666);function uo(e){var t=e.filePath,n=e.selectedCode,r=e.onRequestClose,i=(0,Un.Z)(),c=(0,ro.Z)().showError,s=(0,Tn.Z)(t),u=(0,a.Z)(l.useState(n),2),d=u[0],f=u[1],p=(0,a.Z)(l.useState(""),2),h=p[0],m=p[1],v=(0,a.Z)(l.useState(!1),2),g=v[0],b=v[1],x=l.useRef(null),y=(0,a.Z)((0,In.wBH)({fetchPolicy:"no-cache",onError:function(e){return c(e.message)}}),2),Z=y[0],w=y[1],k=w.called,E=w.data,_=w.error,C=w.loading,S=Xn();l.useEffect((function(){setTimeout((function(){x.current&&x.current.focus()}))}),[x]);var T=jr(t),I=function(){if(!C&&""!==d){var e=d===h;(0,xt.j)(xt.U3.CODEX_FEATURE_USED,{feature:"generation",isRetry:e,language:T}),e?(0,xt.j)(xt.U3.CODE_GENERATION_USED,{action:"refresh",language:T}):(0,xt.j)(xt.U3.CODE_GENERATION_USED,{action:"text-submitted",language:T}),m(d),Z({variables:{input:{language:T,prompt:d,replId:i}}})}};if(!S)return(0,o.tZ)(Dr,{title:"Generate Code",newInferenceAlt:"Generate new code",onRequestClose:r,width:320,learnMoreLink:"https://blog.replit.com/generate-code",children:(0,o.BX)(R.G7,{css:[R.l0.colWithGap(12),R.l0.p(8)],children:[(0,o.tZ)(R.xv,{multiline:!0,children:"Generate Code and other AI-powered features are available to Hacker and Teams Pro subscribers only!"}),(0,o.tZ)(lo.Z,{context:"generate_code_modal",showHackerPrompt:!0,css:{alignSelf:"center"},colorway:"primary",outlined:!1})]})});var j=null,N=null===E||void 0===E?void 0:E.generateCode.__typename;if(C)j=(0,o.tZ)(Or,{});else if(_||"UserError"===N||"UnauthorizedError"===N){var P,D;j=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmer",children:null!==(D=("UserError"===N||"UnauthorizedError"===N)&&(null===E||void 0===E||null===(P=E.generateCode)||void 0===P?void 0:P.message))&&void 0!==D?D:"An unexpected error occurred. Please try again."})})}else if("GenerateCodeResult"===N&&null!=(null===E||void 0===E?void 0:E.generateCode)){var B,O=E.generateCode,A=O.code,z=O.id;if(null==A||""===A)j=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmest",children:"We did not manage to generate code for this prompt. Please try another one!"})});else j=(0,o.BX)(R.G7,{children:[(0,o.BX)(R.Tg,{background:"default",css:[R.l0.py(8),R.l0.px(4),R.l0.borderRadius(8)],children:[(0,o.tZ)(R.G7,{css:[R.l0.maxHeight(300),R.l0.overflowY("auto")],children:(0,o.tZ)(Rn.Z,{code:A,filePath:t,hasExtraPadding:!1,hideGutter:!0})}),(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.justify.spaceBetween,R.l0.align.center,R.l0.pt(8),R.l0.px(4)],children:[(0,o.BX)(R.G7,{css:[R.l0.rowWithGap(8),R.l0.align.center],children:[(0,o.tZ)(yt.Z,{path:t,size:16}),(0,o.tZ)(R.xv,{color:"dimmer",css:{textTransform:"capitalize"},children:T})]}),(0,o.BX)(R.G7,{css:R.l0.rowWithGap(8),children:[(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(io.Z,{}),text:"Copy to clipboard",onClick:function(){(0,hr.Z)(A),(0,xt.j)(xt.U3.CODE_GENERATION_USED,{action:"copied-to-clipboard",language:T})}}),"function"===typeof s?(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(ao.Z,{}),text:"Insert in editor",onClick:function(){s({code:A}),(0,xt.j)(xt.U3.CODE_GENERATION_USED,{action:"inserted-in-editor",language:T}),r()}}):null]})]})]}),(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.baseline,R.l0.justify.spaceBetween],children:[(0,o.tZ)(co,{inferenceId:z,language:T,inferenceClass:In.SgB.Generation}),(null===E||void 0===E||null===(B=E.currentUser)||void 0===B?void 0:B.isAdmin)?(0,o.tZ)(R.u,{tooltip:(0,o.tZ)(R.G7,{children:(0,o.tZ)("pre",{css:[{whiteSpace:"pre-wrap"}],children:JSON.stringify(JSON.parse(E.generateCode.metadata),null," ")})}),placement:"bottom",children:(0,o.tZ)(oo.Z,{})}):null]})]})}else C||_||(j=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmest",children:"Generated code will appear here."})}));return(0,o.tZ)(Dr,{title:"Generate Code",newInferenceAlt:"Generate new code",onRequestClose:r,width:500,learnMoreLink:"https://blog.replit.com/generate-code",onRequestNewInference:!C&&k?I:void 0,children:(0,o.BX)(R.G7,{css:[R.l0.p(8),R.l0.colWithGap(8)],children:[(0,o.BX)(R.G7,{tag:"form",onSubmit:function(e){e.preventDefault(),I()},css:[R.l0.rowWithGap(8)],children:[(0,o.tZ)(R.II,{autoFocus:!0,placeholder:'Write a prompt (e.g. "draw a square")',value:d,onChange:function(e){return t=e.target.value,g||((0,xt.j)(xt.U3.CODE_GENERATION_USED,{action:"text-written",language:T}),b(!0)),void f(t);var t},ref:x,onKeyDown:function(e){"Escape"===e.key&&r()}}),(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(so.Z,{}),text:"Generate",colorway:"primary",disabled:C||""===d,type:"submit"})]}),j]})})}function fo(e){var t=e.dom,n=(0,re.Z)(e,["dom"]);return u.createPortal((0,o.tZ)(uo,(0,r.Z)({},n)),t)}var po=n(88808),ho=n(87653),mo=n(37424);function vo(e){var t=e.filePath,n=e.selectedCode,r=e.context,i=e.onRequestClose,c=(0,Un.Z)(),s=(0,ro.Z)().showError,u=(0,Tn.Z)(t),d=(0,a.Z)(l.useState(n),2),f=d[0],p=d[1],h=(0,a.Z)(l.useState(!1),2),m=h[0],v=h[1],g=(0,a.Z)(l.useState(!0),2),b=g[0],x=g[1],y=r,Z=(0,a.Z)(l.useState(""),2),w=Z[0],k=Z[1],E=(0,a.Z)(l.useState(!1),2),_=E[0],C=E[1],S=(0,a.Z)((0,In.R0)({fetchPolicy:"no-cache",onError:function(e){return s(e.message)}}),2),T=S[0],I=S[1],j=I.called,N=I.data,P=I.error,D=I.loading,B=(0,mo.H)()("semanticSearchCheckboxRerank"),O=(0,mo.H)()("semanticSearchCheckboxContextual"),A=jr(t),z=function(){D||""===f||(f===w?(0,xt.j)(xt.U3.SEMANTIC_SEARCH_USED,{action:"refresh",rerank:m,contextual:b,language:A}):(0,xt.j)(xt.U3.SEMANTIC_SEARCH_USED,{action:"query-submitted",rerank:m,contextual:b,language:A}),k(f),T({variables:{input:{language:A,rerank:m,contextual:b,codeContext:y,prompt:f,replId:c}}}))},U=null,L=null===N||void 0===N?void 0:N.searchCode.__typename;if(D)U=(0,o.tZ)(Or,{});else if(P||"UserError"===L||"UnauthorizedError"===L){var G,X;U=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmer",children:null!==(X=("UserError"===L||"UnauthorizedError"===L)&&(null===N||void 0===N||null===(G=N.searchCode)||void 0===G?void 0:G.message))&&void 0!==X?X:"An unexpected error occurred. Please try again."})})}else if("SearchCodeResult"===L&&null!=(null===N||void 0===N?void 0:N.searchCode)){var F,M=N.searchCode,W=M.codes,H=M.id;if(null==W)U=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmest",children:"We did not manage to search code for this query. Please try another one!"})});else U=(0,o.BX)(R.G7,{children:[(0,o.tZ)(R.Tg,{background:"default",css:[R.l0.py(8),R.l0.px(4),R.l0.borderRadius(8)],children:(0,o.tZ)(R.G7,{css:[R.l0.maxHeight(300),R.l0.overflowY("auto")],children:W.map((function(e,n){return(0,o.BX)(R.G7,{css:[R.l0.pt(24),R.l0.pb(32),R.l0.shadow(1)],children:[(0,o.tZ)(Rn.Z,{code:e.code,filePath:t,hasExtraPadding:!1,hideGutter:!0}),(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.justify.spaceBetween,R.l0.align.center,R.l0.pt(8),R.l0.px(4)],children:[(0,o.BX)(R.G7,{css:[R.l0.rowWithGap(8),R.l0.align.center],children:[(0,o.tZ)(yt.Z,{path:t,size:16}),(0,o.tZ)(R.xv,{color:"dimmer",css:{textTransform:"capitalize"},children:A})]}),(0,o.BX)(R.G7,{css:R.l0.rowWithGap(8),children:[(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(po.Z,{}),text:"Source",onClick:function(){window.open(e.url,"_blank")}}),(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(io.Z,{}),text:"Copy",onClick:function(){(0,hr.Z)(e.code),(0,xt.j)(xt.U3.SEMANTIC_SEARCH_USED,{action:"copied-to-clipboard",language:A})}}),"function"===typeof u?(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(ao.Z,{}),text:"Insert",onClick:function(){u({code:e.code}),(0,xt.j)(xt.U3.SEMANTIC_SEARCH_USED,{action:"inserted-in-editor",language:A}),i()}}):null]})]})]})}))})}),(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.baseline,R.l0.justify.spaceBetween],children:[(0,o.tZ)(co,{inferenceId:H,language:A,inferenceClass:In.SgB.Search}),(null===N||void 0===N||null===(F=N.currentUser)||void 0===F?void 0:F.isAdmin)?(0,o.tZ)(R.u,{tooltip:(0,o.tZ)(R.G7,{children:(0,o.tZ)("pre",{css:[{whiteSpace:"pre-wrap"}],children:JSON.stringify(JSON.parse(N.searchCode.metadata),null," ")})}),placement:"bottom",children:(0,o.tZ)(oo.Z,{})}):null]})]})}else D||P||(U=(0,o.tZ)(R.G7,{css:[R.l0.textAlign.center,R.l0.py(32)],children:(0,o.tZ)(R.xv,{color:"dimmest",children:"Search results will appear here."})}));return(0,o.tZ)(Dr,{title:"Search Code",newInferenceAlt:"Search new code",onRequestClose:i,width:500,learnMoreLink:"",onRequestNewInference:!D&&j?z:void 0,children:(0,o.BX)(R.G7,{css:[R.l0.p(8),R.l0.colWithGap(8)],children:[(0,o.BX)(R.G7,{tag:"form",onSubmit:function(e){e.preventDefault(),z()},css:[R.l0.rowWithGap(8)],children:[(0,o.tZ)(R.II,{autoFocus:!0,placeholder:"load a pytorch model",value:f,onChange:function(e){return t=e.target.value,_||((0,xt.j)(xt.U3.SEMANTIC_SEARCH_USED,{action:"query-written",language:A}),C(!0)),void p(t);var t}}),(0,o.tZ)(R.G7,{css:[R.l0.pt(8)],children:(0,o.tZ)(R.xv,{color:"dimmer",children:"Rerank?"})}),(0,o.tZ)(R.XZ,{id:B,name:"Rerank?",checked:m,onChange:function(e){return t=e.target.checked,void v(t);var t}}),(0,o.tZ)(R.G7,{css:[R.l0.pt(8)],children:(0,o.tZ)(R.xv,{color:"dimmer",children:"Contextual?"})}),(0,o.tZ)(R.XZ,{id:O,name:"Contextual?",checked:b,onChange:function(e){return t=e.target.checked,void x(t);var t}}),(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(ho.Z,{}),text:"Search",colorway:"primary",disabled:D||""===f,type:"submit"})]}),U]})})}function go(e){var t=e.dom,n=(0,re.Z)(e,["dom"]);return u.createPortal((0,o.tZ)(vo,(0,r.Z)({},n)),t)}var bo=n(49630);function xo(e,t,n,a){var o=(0,ro.Z)().showError,c=(0,Un.Z)(),s=(0,In.eRu)({variables:{replId:c,path:e},onError:function(e){o(e.message)},skip:!a||t}),u=l.useMemo((function(){var a;return t||s.loading||s.error||!s.data||"ThreadsByFileResult"!==(null===(a=s.data.threadsByFile)||void 0===a?void 0:a.__typename)?{}:s.data.threadsByFile.threads.filter((function(t){return t.path===e&&(!n||!t.isResolved)})).reduce((function(e,t){return(0,i.Z)((0,r.Z)({},e),(0,J.Z)({},t.id,t))}),{})}),[s.loading,s.data,s.error,e,t,n]);return u}var yo=n(28898),Zo=n(65632);var wo=function(e){var t,n,r=e.threadPreview,i=e.onClick;if(!r)throw new Error("expected thread preview");var a=((null===(t=(0,In.Fqz)().data)||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.editorPreferences.fontSize)||14)-2,c=r.unreadCount>0,l=r.participants,u="".concat(a,"px");return(0,o.BX)("div",{onClick:i,className:s().dynamic([["1b8974d2e0eed26f",[a]]])+" thread-preview",children:[(0,o.tZ)("div",{className:s().dynamic([["1b8974d2e0eed26f",[a]]])+" user-stack",children:l.slice(0,3).map((function(e){return e&&(0,o.tZ)(yo.Z,{url:e.image,size:"xs",style:{minWidth:u,minHeight:u,height:u,width:u}},e.id)}))}),r.messageCount>0&&(0,o.BX)("div",{className:s().dynamic([["1b8974d2e0eed26f",[a]]])+" comment-info",children:[(0,o.tZ)("div",{className:s().dynamic([["1b8974d2e0eed26f",[a]]])+" comment-count",children:r.messageCount}),(0,o.tZ)(Zo.Z,{size:a,unreadDot:c})]}),(0,o.tZ)(s(),{id:"1b8974d2e0eed26f",dynamic:[a],children:".thread-preview.__jsx-style-dynamic-selector{padding:4px;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-border-top-right-radius:0;-moz-border-radius-topright:0;border-top-right-radius:0;-webkit-border-bottom-right-radius:0;-moz-border-radius-bottomright:0;border-bottom-right-radius:0;background-color:var(--background-default);color:var(--foreground-default);display:grid;grid-auto-flow:column;grid-column-gap:var(--space-8);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:.5px solid var(--background-higher);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1);-webkit-transition:width.2s,background-color.2s,-webkit-transform.1s;-moz-transition:width.2s,background-color.2s,-moz-transform.1s;-o-transition:width.2s,background-color.2s,-o-transform.1s;transition:width.2s,background-color.2s,-webkit-transform.1s;transition:width.2s,background-color.2s,-moz-transform.1s;transition:width.2s,background-color.2s,-o-transform.1s;transition:width.2s,background-color.2s,transform.1s;z-index:1}.thread-preview.__jsx-style-dynamic-selector:hover{-webkit-transform:translateX(-5%)scale(1.1);-moz-transform:translateX(-5%)scale(1.1);-ms-transform:translateX(-5%)scale(1.1);-o-transform:translateX(-5%)scale(1.1);transform:translateX(-5%)scale(1.1)}.user-stack.__jsx-style-dynamic-selector{display:grid;grid-auto-flow:column;grid-column-gap:var(--space-4)}.comment-info.__jsx-style-dynamic-selector{display:grid;grid-auto-flow:column;grid-gap:var(--space-4);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.comment-count.__jsx-style-dynamic-selector{font-weight:var(--font-weight-medium);font-size:.8em;font-size:".concat(a,"px}")})]})},ko=n(94184),Eo=n.n(ko),_o=n(90725),Co=n(7842),So=n(83223),To=n(722),Io=n(61133),jo=n(23038),Ro=n(84856),No=n(9583),Po=l.createContext({filePath:null,isLoading:!1,threads:{},view:null,placeholderId:null,openThreadId:null,setOpenThreadId:function(){}});function Do(e){var t=e.children,n=(0,re.Z)(e,["children"]);return(0,o.tZ)(Po.Provider,{value:(0,r.Z)({},n),children:t})}var Bo=function(e){var t=e.threadId,n=e.onFinalizeMessage,c=void 0===n?function(){}:n,u=e.onChangeMessage,d=void 0===u?function(){}:u,p=e.onRequestClose,h=void 0===p?function(){}:p,m=e.style,v=e.width,g=function(e){var t=(0,ro.Z)().showError,n=(0,Un.Z)(),o=(0,Fe.c)("flag-typing-presence").enabled,c=(0,Ro.Z)().map((function(e){return e.username})),s=l.useContext(Po),u=s.view,d=s.filePath,p=(0,f.Z)().fs,h=(0,In.GDQ)({variables:{id:e}}),m=h.data,v=h.error,g=h.loading,b=h.client,x=!(!m||g||"AnnotationAnchor"===m.thread.__typename),y=l.useMemo((function(){return!m||g?null:"UserError"===m.thread.__typename?{id:e,__typename:"AnnotationAnchor",messages:[],isGeneral:!1,isResolved:!1}:"AnnotationAnchor"===m.thread.__typename?m.thread:null}),[m,e,g]),Z=(0,a.Z)((0,In.tTj)({onError:function(e){return t(e.message)},update:function(e,n){var r,i;n.errors?n.errors.forEach((function(e){return t(e.message)})):"UserError"!==(null===(r=n.data)||void 0===r||null===(i=r.createThread)||void 0===i?void 0:i.__typename)||t(n.data.createThread.message)}}),1),w=Z[0],k=(0,a.Z)((0,In.ALh)({onError:function(e){return t(e.message)},update:function(e,n){var r;if(n.errors)n.errors.forEach((function(e){return t(e.message)}));else{var i=null===(r=n.data)||void 0===r?void 0:r.createThreadMessage;i&&"UserError"===i.__typename&&t(i.message)}}}),1),E=k[0],_=(0,a.Z)((0,In.YaW)({onError:function(e){return t(e.message)},update:function(e,n){var r;if(n.errors)n.errors.forEach((function(e){return t(e.message)}));else{var i=null===(r=n.data)||void 0===r?void 0:r.updateThread;i&&"UserError"===i.__typename&&t(i.message)}}}),1),C=_[0],S=(0,a.Z)((0,In.HjV)(),1)[0],T=function(){var e=null===m||void 0===m?void 0:m.currentUser;return e?{user:{__typename:"User",id:e.id,username:e.username,image:e.image}}:{}};return{thread:y,isPlaceholder:x,error:v,loading:g,updateThread:function(e){var t,n=e.changes,a="AnnotationAnchor"===(null===m||void 0===m||null===(t=m.thread)||void 0===t?void 0:t.__typename)?m.thread:null;if(!a)throw new Error("expected thread");C({variables:{id:a.id,changes:n},optimisticResponse:{updateThread:(0,i.Z)((0,r.Z)({},a,n),{isResolved:"boolean"===typeof n.isResolved?n.isResolved:a.isResolved})}})},finalizeThreadMessage:function(t){var a,o=t.message,s=t.messageId,l=t.highlight,f={id:s,text:o,mentions:(0,No.kW)(o,{users:(0,$.Z)(c).concat(["everyone"])}).mentions};if(x&&u&&d){var h=u.state.field(oi),v={id:e,replId:n,indexStart:null===h||void 0===h?void 0:h.indexStart,indexEnd:null===h||void 0===h?void 0:h.indexEnd,otVersion:p.getOTVersion(d),path:d};w({variables:{thread:v,message:f},optimisticResponse:{__typename:"RootMutationType",createThread:(0,i.Z)((0,r.Z)({__typename:"AnnotationAnchor"},v,T()),{messages:[(0,i.Z)((0,r.Z)({id:s,timeCreated:Date.now(),currentUserIsAuthor:!0},T()),{content:{text:o,__typename:"TextMessageContentType"},anchor:{id:v.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",seen:!0})],isResolved:!1,isGeneral:!1})}}),b.writeQuery({query:In.VOL,variables:{id:e},data:{thread:(0,i.Z)((0,r.Z)((0,i.Z)((0,r.Z)({},v),{isResolved:!1,isGeneral:!1}),T()),{messages:[(0,i.Z)((0,r.Z)({id:s,timeCreated:Date.now(),currentUserIsAuthor:!0},T()),{content:{text:o,__typename:"TextMessageContentType"},anchor:{id:v.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",seen:!0})],__typename:"AnnotationAnchor"}),currentUser:null===m||void 0===m?void 0:m.currentUser}});var g=b.readQuery({query:In.JqK,variables:{replId:n,path:d}});if(g){var y,Z="ThreadsByFileResult"===(null===(y=g.threadsByFile)||void 0===y?void 0:y.__typename)?g.threadsByFile.threads:[],k=T().user;b.writeQuery({query:In.JqK,variables:{replId:n,path:d},data:{threadsByFile:{__typename:"ThreadsByFileResult",threads:(0,$.Z)(Z).concat([(0,r.Z)({messageCount:1,unreadCount:0,__typename:"AnnotationAnchor",isGeneral:!1,user:k,isResolved:!1,participants:[k]},v)])}}})}}else{var _="AnnotationAnchor"===(null===m||void 0===m||null===(a=m.thread)||void 0===a?void 0:a.__typename)?m.thread:null;if(!_)throw new Error("expected thread");E({variables:{replId:n,threadId:_.id,threadMessage:f,highlight:l},optimisticResponse:{createThreadMessage:(0,i.Z)((0,r.Z)({},_),{messages:(0,$.Z)(_.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([(0,i.Z)((0,r.Z)({},T(),f),{content:{text:f.text,__typename:"TextMessageContentType"},anchor:{id:_.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})])})}})}},changeThreadMessage:function(t){var n=t.messageId,r=t.message;S({variables:{threadId:e,messageId:n,message:null!==o&&void 0!==o&&o?r:null}})}}}(t),b=g.thread,x=g.loading,y=g.isPlaceholder,Z=g.updateThread,w=g.changeThreadMessage,k=g.finalizeThreadMessage,E=l.useRef(null),_=l.useRef(null),C=(0,To.Z)(null===b||void 0===b?void 0:b.id),S=(0,a.Z)((0,oa.L)({accept:[Ji.z.FileNode,Ji.z.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver({shallow:!0})&&!n}},canDrop:function(e){return!e.isFolder},drop:function(e){e&&!e.isFolder&&P({messageId:li()(),message:"#".concat(e.path)})}}),2),I=S[0],j=S[1],R=(0,nt.Z)((function(e){var t,n=e.target;n.closest(".node-row")||n.closest(".file-header-tab")||""!==(null===(t=_.current)||void 0===t?void 0:t.value)||h()}),[]);(0,So.Z)(b),l.useEffect((function(){var e=function(e){var t;"Escape"===e.key&&""===(null===(t=_.current)||void 0===t?void 0:t.value)&&h()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[h]),l.useEffect((function(){E.current&&(E.current.scrollTop=E.current.scrollHeight)}),[null===b||void 0===b?void 0:b.messages]);var N=l.useMemo((function(){var e;if(!(null===b||void 0===b?void 0:b.messages))return[];var t=(0,$.Z)(b.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(e=t).push.apply(e,(0,$.Z)(C.filter((function(e){return!t.slice(-5).find((function(t){return t.id===e.id}))})))),(0,Co.Z)(t)}),[null===b||void 0===b?void 0:b.messages,C]),P=function(e){k(e),c(e)};return b||x?(0,o.BX)("div",{style:m,ref:function(e){j(e),R.current=e},className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" "+(Eo()("thread-group",{"is-over":I.isOver})||""),children:[x||!b?(0,o.tZ)("div",{css:[T.l0.p(16)],className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]]),children:(0,o.BX)(Br.ZP,{viewBox:"0 0 100 20",primaryColor:"var(--background-higher)",secondaryColor:"var(--background-highest)",speed:1.5,children:[(0,o.tZ)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"100",height:"8",className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])}),(0,o.tZ)("rect",{x:"0",y:"10",rx:"4",ry:"4",width:"33",height:"8",className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])})]})}):(0,o.BX)(o.HY,{children:[N.length>0&&(0,o.tZ)("div",{ref:E,className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" message-group-container",children:N.map((function(e){return(0,o.tZ)(jo.ZP,{messageGroup:e},e.messages[0].id)}))}),(0,o.tZ)(Io.Z,{annote:b,onChangeMessage:function(e){w(e),d(e)},onFinalizeMessage:P,ref:_}),(0,o.BX)("div",{className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" floating-group",children:[y?null:(0,o.tZ)("div",{className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" delete show-on-hover",children:(0,o.tZ)("button",{"aria-label":"Resolve","data-microtip-position":"top",role:"tooltip",onClick:function(){Z({changes:{isResolved:!0}})},className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" floating-button resolve",children:(0,o.tZ)(dt.Z,{})})}),(0,o.tZ)("div",{className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" close",children:(0,o.tZ)("button",{"aria-label":"Close","data-microtip-position":"top",role:"tooltip",onClick:h,className:"jsx-".concat(_o.Q.__hash)+" "+s().dynamic([["45a65f77378283f9",[v]]])+" floating-button close",children:(0,o.tZ)(Ye.Z,{})})})]})]}),(0,o.tZ)(s(),{id:_o.Q.__hash,children:_o.Q}),(0,o.tZ)(s(),{id:"45a65f77378283f9",dynamic:[v],children:".thread-group.__jsx-style-dynamic-selector{position:absolute;z-index:10;position:relative;display:grid;grid-row-gap:var(--space-16);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-moz-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);width:".concat(v,"px;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);border:.5px solid var(--background-higher)}.thread-group.is-over.__jsx-style-dynamic-selector{background-color:var(--background-root)}.thread-group.__jsx-style-dynamic-selector *.__jsx-style-dynamic-selector{-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.message-group-container.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--space-16);max-height:275px;overflow-y:auto;padding:var(--space-8);padding-bottom:0;grid-template-columns:minmax(0,1fr)}.floating-group.__jsx-style-dynamic-selector{position:absolute;display:grid;grid-auto-flow:column;-webkit-box-pack:end;-webkit-justify-content:end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:end;grid-column-gap:8px;top:-32px;left:0;right:0}.floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:0}.thread-group.__jsx-style-dynamic-selector:hover>.floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:1}.feedback.__jsx-style-dynamic-selector{position:absolute;text-decoration:none}.floating-button.__jsx-style-dynamic-selector{width:24px;height:24px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:var(--background-higher);color:var(--foreground-dimmer);border:1px solid var(--background-highest);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.floating-button.__jsx-style-dynamic-selector:focus{outline:none}.floating-button.__jsx-style-dynamic-selector:hover{color:var(--foreground-default);background:var(--background-higher)}.floating-button.delete.__jsx-style-dynamic-selector:hover{color:var(--white);background:var(--accent-negative-default);border-color:var(--accent-negative-default)}.floating-button.resolve.__jsx-style-dynamic-selector:hover{color:var(--white);background:var(--accent-positive-default);border-color:var(--accent-positive-default)}.floating-button.__jsx-style-dynamic-selector:active{background:var(--background-highest)}")})]}):null},Oo=n(11163),Ao=n.n(Oo);function zo(e){var t=e.threadId,n=l.useContext(Po),r=n.threads,i=n.isLoading,a=n.placeholderId,c=n.openThreadId,s=n.setOpenThreadId,u=n.view,d=c===t,f=a===t,p="/replEnvironment2"===(0,Oo.useRouter)().pathname;if(!u)return null;var h=p?u.dom.getBoundingClientRect().width:u.dom.getBoundingClientRect().right;return i?null:r[t]||f?(0,o.tZ)(R.G7,{css:{position:"fixed",left:h,transform:"translateX(-100%)"},className:"thread-ui",children:d||f?(0,o.tZ)(Bo,{style:{transform:"translateX(100%)"},width:225,onRequestClose:function(){s(null),f&&u.dispatch({effects:[ni.of(null)]})},threadId:t}):(0,o.tZ)(wo,{threadPreview:r[t],onClick:function(){return s(t)}})}):null}function Uo(e){var t=e.setThreadsTooltips,n=e.setPlaceholderThreadId,a=e.setOpenThreadId,c=e.view,s=function(e,n){var a=function(e){t((function(t){return(0,i.Z)((0,r.Z)({},t),(0,J.Z)({},n,(0,o.tZ)(f,{onLayout:e})))}))},c=d[n];if(!c){var s=document.createElement("div");s.classList.add("cm-tooltip-thread"),c=d[n]={tooltip:{dom:s,update:function(e){e.viewportChanged&&a((function(){(0,C.E2)(e.view)}))}},Portal:function(e){var t=e.onLayout;return l.useLayoutEffect((function(){null===t||void 0===t||t()}),[t]),u.createPortal((0,o.tZ)(zo,{threadId:n}),s)}}}var f=c.Portal;return a(),c.tooltip},d={};return[ii,ai,oi,C.tk.decorations.compute([ai,oi],(function(e){var t=e.field(ai),n=e.field(oi);return C.p.set((0,$.Z)(Object.values(t)).concat((0,$.Z)(n?[n]:[])).map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:C.p.mark({class:"replit-thread-highlight cm-thread-".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(t){return null!==t&&t.from!==t.to&&t.from<=e.doc.length&&t.to<=e.doc.length})),!0)})),C.tk.updateListener.of((function(e){var t,r=null===(t=e.view.state.field(oi))||void 0===t?void 0:t.id;n(null!==r&&void 0!==r?r:null),r&&a(r)})),C.hJ.computeN([ai,oi],(function(e){var t=e.field(ai),n=Object.values(t).map((function(e){return{pos:Math.min(e.indexStart,e.indexEnd),above:!0,create:function(){return s(0,e.id)}}})),r=(0,$.Z)(n),i=e.field(oi);return i&&r.push({pos:Math.min(i.indexStart,i.indexEnd),above:!0,create:function(){return s(0,i.id)}}),r})),C.tk.updateListener.of((function(e){(0,I.j)(e,ri,(function(t){var n=t.value,r=e.state.field(ai)[n];r&&(null===c||void 0===c||c.dispatch({selection:{anchor:r.indexStart,head:r.indexStart},effects:[C.tk.scrollIntoView(r.indexStart,{x:"nearest",y:"nearest"})]}))}))}))]}function Lo(e){var t=e.view,n=e.filePath,i=e.isLoading,o=e.enable,c=(0,a.Z)(l.useState({}),2),s=c[0],u=c[1],d=(0,a.Z)((0,mi.KO)(vi.Q),2),p=d[0],h=d[1];l.useEffect((function(){t&&p&&t.dispatch({effects:[ri.of(p)]})}),[t,p]);var m=(0,a.Z)(l.useState(null),2),v=m[0],g=m[1],b=(0,an.Z)({view:t});l.useEffect((function(){if(t&&o)return t.dispatch({effects:b.reconfigure(Uo({view:t,setThreadsTooltips:u,setPlaceholderThreadId:g,setOpenThreadId:h}))}),function(){t.dispatch({effects:b.reconfigure([])})}}),[t,n,b,o]);var x=xo(n,i,!0,o);return function(e,t,n,i){var a=(0,f.Z)().fs,o=(0,bo.kL)(n),c=o.contentRef,s=o.loadedFile,u=o.transformSelectionRef;l.useEffect((function(){var o=!1,l=u.current,d=c.current;if(s&&l&&d&&!i&&t){var f=Object.values(e);0!==f.length?Promise.all(f.map((function(e){return(0,bo.Ft)({anchor:e,version:a.getOTVersion(n),transformSelection:l,content:d})}))).then((function(e){if(!o){var n=e.filter((function(e){return Boolean(e)})).map((function(e){if(!e)throw new Error("expected resolved anchor");return(0,r.Z)({},e.anchor,null===e||void 0===e?void 0:e.newSelection)}));return t.dispatch({effects:ei.of(n.reduce((function(e,t){return e[t.id]=t,e}),{}))}),function(){o=!0,t&&t.dispatch({effects:ei.of({})})}}})):t.dispatch({effects:ei.of({})})}}),[e,t,s,a,u,c,n,i])}(x,t,n,i),{threadPreviews:x,setPlaceholderThreadId:g,placeholderThreadId:v,openThreadId:p,setOpenThreadId:h,threadsTooltips:s}}var Go=n(34528);function Xo(e){var t=e.view,n=e.filePath,i=e.enable,o=e.isLoading,c=function(e){return[E.Wl.highest(ci.zj),ci.cR,ci.OQ,ci.ZS,ci.PQ,C.tk.decorations.compute([ci.OQ,ci.ZS,ci.PQ],(function(e){var t=e.field(ci.OQ),n=e.field(ci.ZS),r=e.field(ci.PQ),i=n||Object.values(t).find((function(e){return e.id===r}));return i?C.p.set([i].map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:C.p.mark({class:"replit-thread-highlight cm-thread-".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(t){return null!==t&&t.from!==t.to&&t.from<=e.doc.length&&t.to<=e.doc.length})),!0):C.p.none})),C.tk.decorations.compute([ci.OQ,ci.ZS,ci.PQ],(function(e){var t=e.field(ci.OQ),n=e.field(ci.ZS),r=e.field(ci.PQ),i=(0,$.Z)(Object.values(t)).concat((0,$.Z)(n?[n]:[])).filter(Boolean).find((function(e){return e.id===r}));return i?C.p.set([C.p.widget({widget:new ci.nE(i.id,d),block:!0,side:1}).range(i.indexEnd)],!0):C.p.none})),C.tk.updateListener.of((function(e){(0,I.j)(e,hi.R,(function(){var t=(0,$.Z)(e.view.dom.querySelectorAll(".cm-thread-portal-widget")),n=e.view.dom.querySelector(".cm-scroller"),r=e.view.dom.querySelector(".cm-gutters");if(t.length&&n&&r){var i=!0,a=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;(0,Go.L)(l,n,r)}}catch(u){a=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}}))})),C.tk.updateListener.of((function(e){(0,I.j)(e,ci.eR,(function(n){var r=n.value,i=e.state.field(ci.OQ)[r];i&&(null===t||void 0===t||t.dispatch({selection:{anchor:i.indexStart,head:i.indexStart},effects:[C.tk.scrollIntoView(i.indexStart,{x:"center",y:"center"})]}))}))}))]},s=(0,a.Z)(l.useState({}),2),u=s[0],d=s[1],p=(0,an.Z)({view:t}),h=(0,mi.Dv)(vi.Q);l.useEffect((function(){t&&h&&t.dispatch({effects:[ci.YM.of(h),ci.eR.of(h)]})}),[t,h]),l.useEffect((function(){if(t&&i)return t.dispatch({effects:p.reconfigure(c())}),function(){t.dispatch({effects:p.reconfigure([])})}}),[t,n,p,i]);return function(e,t,n,i){var a=(0,f.Z)().fs,o=(0,bo.kL)(n),c=o.contentRef,s=o.loadedFile,u=o.transformSelectionRef;l.useEffect((function(){var o=!1,l=u.current,d=c.current;if(s&&l&&d&&!i&&t){var f=Object.values(e);0!==f.length?Promise.all(f.map((function(e){return(0,bo.Ft)({anchor:e,version:a.getOTVersion(n),transformSelection:l,content:d})}))).then((function(e){if(!o){var n=e.filter((function(e){return Boolean(e)})).map((function(e){if(!e)throw new Error("expected resolved anchor");return(0,r.Z)({},e.anchor,null===e||void 0===e?void 0:e.newSelection)}));return t.dispatch({effects:ci.qi.of(n.reduce((function(e,t){return e[t.id]=t,e}),{}))}),function(){o=!0,t&&t.dispatch({effects:ci.qi.of({})})}}})):t.dispatch({effects:ci.qi.of({})})}}),[e,t,s,a,u,c,n,i])}(xo(n,o,!0,i),t,n,o),{threadElements:u}}var Fo=function(e){var t=e.source,n=(0,Ge.Z)(t);return(0,o.tZ)(o.HY,{children:Array.from(n,(function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,o.tZ)(l.Fragment,{children:r},n)}))})},Mo=n(23329),Wo=n(53153),Ho=n(79848);function Vo(e){return{filePath:e,text:"",selections:[],hasFocus:!1}}function qo(e,t){return null==t?Vo(e):{filePath:e,text:null!==(n=t.state.doc.toString())&&void 0!==n?n:"",selections:t.state.selection.ranges.map((function(e){var t=e.from;return{location:t,length:e.to-t}})),hasFocus:t.hasFocus};var n}function Ko(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:li()(),i=qo(e,t),a={messageType:Wo.cF.TEXT_EDITOR_STATE,filePath:e,text:i.text,selections:i.selections,hasFocus:i.hasFocus,revisionId:n.revisionId};(0,Ho.b)(a,r)}function Qo(e,t,n,r,i,a){return!(!e.hasFocus&&a)&&(r===t&&r===n.textEditorState.filePath&&i===n.revisionId)}function Yo(e){var t=e.map((function(e){return E.jT.range(e.location,e.location+e.length)}));return E.jT.create(t)}function Jo(e,t,n,r){var i=r.payload;if((0,Wo.Se)(i))return function(e,t,n,r){if(!Qo(t,e,n,r.filePath,r.revisionId,!0))return!1;var i=Yo(r.selections);return t.dispatch({selection:i,scrollIntoView:!0}),!0}(e,t,n,i);if((0,Wo.m7)(i))return function(e,t,n,r){if(!Qo(t,e,n,r.filePath,r.revisionId,!0))return!1;var i=qo(e,t),a=Yo(r.selections);return t.dispatch({changes:{from:0,to:i.text.length,insert:r.text},selection:a,scrollIntoView:!0}),!0}(e,t,n,i);if((0,Wo.ac)(i))return function(e,t,n,r){if(!Qo(t,e,n,r.filePath,r.revisionId,!0))return!1;var i=r.insertionRange,a=Yo(r.selections);return t.dispatch({changes:{from:i.location,to:i.location+i.length,insert:r.text},selection:a,scrollIntoView:!0}),!0}(e,t,n,i);if((0,Wo.fz)(i))return function(e,t,n,r){return!!Qo(t,e,n,r.filePath,r.revisionId,!0)&&(t.dispatch(t.state.replaceSelection(r.text)),!0)}(e,t,n,i);if(!(0,Wo.T$)(i)){if((0,Wo.to)(i))return function(e,t,n,r){if(!Qo(t,e,n,r.filePath,r.revisionId,!0))return!1;t.contentDOM.blur()}(e,t,n,i);throw new Error("Invalid payload.")}!function(e,t,n,r){!!Qo(t,e,n,r.filePath,r.revisionId,!1)&&(Wr({activeFile:e,view:t,clipboardText:r.text}),t.focus())}(e,t,n,i)}function $o(e,t,n,r){var i=r.payload;if((0,Wo.nO)(i))return function(e,t,n,r){return!!Qo(t,e,n,r.filePath,r.revisionId,!0)&&((0,Kn.Yw)(t),!0)}(e,t,n,i);if((0,Wo.q$)(i))return function(e,t,n,r){return!!Qo(t,e,n,r.filePath,r.revisionId,!0)&&((0,Kn.KX)(t),!0)}(e,t,n,i);throw new Error("Invalid payload.")}function ec(e){var t=e.view,n=e.filePath,r=(0,Oo.useRouter)().query,i=Boolean(r.mobileBridge),a=(0,l.useRef)({revisionId:li()(),textEditorState:Vo(n)}),o=(0,an.Z)({view:t});(0,l.useEffect)((function(){if(t&&i){var e=qo(n,t);a.current={revisionId:li()(),textEditorState:e},Ko(n,t,a.current);return t.dispatch({effects:o.reconfigure(C.tk.updateListener.of((function(r){(r.docChanged||r.selectionSet||r.focusChanged)&&function(r){r.docChanged?(a.current={revisionId:li()(),textEditorState:e},Ko(n,t,a.current)):(r.selectionSet||r.focusChanged)&&(a.current={revisionId:a.current.revisionId,textEditorState:e},Ko(n,t,a.current))}(r)})))}),function(){t.dispatch({effects:o.reconfigure([])})}}}),[t,n,o,i]),(0,l.useEffect)((function(){if(t&&i){var e=function(e){Ko(n,t,a.current,e.messageId)},r=function(r){Jo(n,t,a.current,r)?e(r):(0,Ho.p)(r.messageId)},o=function(r){$o(n,t,a.current,r)?e(r):(0,Ho.p)(r.messageId)},c=function(n){!function(e){return e.focus(),!0}(t)?(0,Ho.p)(n.messageId):e(n)},s=function(r){Jo(n,t,a.current,r)?e(r):(0,Ho.p)(r.messageId)},l=function(){var t=(0,h.Z)(v().mark((function t(n){var i,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=n.data,(0,Wo.CF)(i)&&i.messageDirection===Wo.s1.FROM_NATIVE){t.next=4;break}return t.abrupt("return");case 4:if(i.protocolVersion===Wo.Wj){t.next=7;break}throw new Error("Invalid protocolVersion: ".concat(i.protocolVersion," != ").concat(Wo.Wj));case 7:a=i.payload,t.t0=a.messageType,t.next=t.t0===Wo.cF.ERROR||t.t0===Wo.cF.ACK?11:t.t0===Wo.cF.WORKSPACE_REQUEST_TOGGLE_DRAWER||t.t0===Wo.cF.WORKSPACE_REQUEST_TOGGLE_ALLPANES||t.t0===Wo.cF.WORKSPACE_REQUEST_TOGGLE_RUN_STATE?12:t.t0===Wo.cF.TEXT_EDITOR_STATE_REQUEST?13:t.t0===Wo.cF.TEXT_EDITOR_CLOSED?15:t.t0===Wo.cF.RESET?17:t.t0===Wo.cF.TEXT_EDITOR_STATE?19:t.t0===Wo.cF.REQUEST_SET_SELECTION?21:t.t0===Wo.cF.REQUEST_REPLACE_SELECTION?23:t.t0===Wo.cF.REQUEST_SET_TEXT?25:t.t0===Wo.cF.REQUEST_INSERT_TEXT?27:t.t0===Wo.cF.REQUEST_PASTE_TEXT?29:t.t0===Wo.cF.REQUEST_UNDO?31:t.t0===Wo.cF.REQUEST_REDO?33:t.t0===Wo.cF.REQUEST_FOCUS?35:t.t0===Wo.cF.REQUEST_BLUR?37:39;break;case 11:case 12:return t.abrupt("break",40);case 13:return e(i),t.abrupt("break",40);case 15:case 17:case 19:throw new Error("Unexpected message: ".concat(a.messageType));case 21:case 23:case 25:case 27:case 29:return r(i),t.abrupt("break",40);case 31:case 33:return o(i),t.abrupt("break",40);case 35:return c(i),t.abrupt("break",40);case 37:return s(i),t.abrupt("break",40);case 39:throw new Error("Unknown message.");case 40:t.next=46;break;case 42:throw t.prev=42,t.t1=t.catch(0),new Error("Invalid message: ".concat(t.t1));case 46:case"end":return t.stop()}}),t,null,[[0,42]])})));return function(e){return t.apply(this,arguments)}}();return window.addEventListener("message",l),Ko(n,t,a.current),function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li()(),n={messageType:Wo.cF.TEXT_EDITOR_CLOSED,filePath:e};(0,Ho.b)(n,t)}(n),window.removeEventListener("message",l)}}}),[t,n,i])}var tc=n(38630),nc=n(9517),rc=n(34079),ic=n(25245),ac=n(32686),oc=n(2230),cc=n(51593),sc=n(16449),lc=n(1138),uc=n(95716),dc=n(35642),fc=function(e){var t=e.isCreating,n=e.threadId,r=e.filePath,i=e.isResolved,a=e.isLoading,c=e.isPlaceholder,s=e.onRequestClose,u=void 0===s?function(){}:s,d=e.onResolveThread,f=void 0===d?function(){}:d,p="Inbox",m="Go to next thread",g="Go to previous thread",b="Collapse thread",x=xo(null===r?"":r,a,!0,!0),y=l.useMemo((function(){return Object.values(x).sort((function(e,t){return e.indexStart-t.indexStart}))}),[x]),Z=l.useMemo((function(){return y.findIndex((function(e){return e.id===n}))}),[y,n]),w=(0,mi.b9)(vi.Q),k=(0,mi.b9)(vi.c),E=function(){var e=(0,h.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Z===y.length-1?y[0].id:y[Z+1].id,w(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,h.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0===Z?y[y.length-1].id:y[Z-1].id,w(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.BX)(R.Tg,{background:"root",css:[R.l0.flex.row,R.l0.align.center,R.l0.justify.spaceBetween,R.l0.position.relative,R.l0.px(12),R.l0.py(8),{borderBottomWidth:R.TV.borderWidthDefault,borderBottomStyle:"solid",borderBottomColor:R.TV.backgroundHigher}],children:[!1,(0,o.tZ)(R.zx,{iconLeft:(0,o.tZ)(lc.Z,{}),onClick:function(){return k(!0)},text:p,small:!0}),y.length>1?(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.center,R.l0.rowWithGap(4)],children:[(0,o.tZ)(R.hU,{alt:g,onClick:_,children:(0,o.tZ)(tc.Z,{})}),(0,o.tZ)(R.hU,{alt:m,onClick:E,children:(0,o.tZ)(nc.Z,{})})]}):null,(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.center,R.l0.rowWithGap(4)],children:[t||i||c?null:(0,o.tZ)(R.zx,{onClick:f,text:"Resolve",small:!0,iconLeft:(0,o.tZ)(dt.Z,{})}),!t&&i?(0,o.tZ)(R.DR,{text:"Resolved",colorway:"positive",clickable:!1}):null,(0,o.tZ)(R.hU,{alt:b,onClick:u,children:(0,o.tZ)(cc.Z,{})})]})]})},pc=function(e){var t=e.threadId,n=e.isResolved,r=e.isCreating,i=e.onMessageChange,c=e.onMessageSubmit,s=e.isPlaceholder,u=e.onRequestClose,d=void 0===u?function(){}:u,f=(0,a.Z)(l.useState(""),2),p=f[0],h=f[1],m=(0,a.Z)(l.useState($r().v4()),2),v=m[0],g=m[1],b=(0,a.Z)(l.useState(!1),2),x=b[0],y=b[1],Z=(0,l.useRef)(null),w=(0,sc.Z)().ref,k=l.useRef(null),E={input:{placeholder:function(){return s?"Start a new thread\u2026":n?"Reply to re-open thread\u2026":"Reply\u2026"}},submit:"Post comment",cancel:"Cancel",stylingSupport:(0,o.BX)(o.HY,{children:["Styling with"," ",(0,o.tZ)("a",{ref:Z,href:"https://docs.replit.com/teams-edu/reviewing-submissions#leaving-feedback-on-projects-using-annotations",target:"_blank",rel:"noopener noreferrer",children:"Markdown"})," ","is supported."]})},_=function(){c({message:p,messageId:v}),h(""),g($r().v4())};return(0,l.useEffect)((function(){r&&y(!0)}),[r]),l.useEffect((function(){var e="threads/drafts/".concat(t),n=dc.Z.get(e,"string");n&&h(n);var r=k.current;return function(){if(r){var t=r.value;0!==t.length?dc.Z.set(e,t):dc.Z.remove(e)}}}),[t]),(0,o.BX)(R.Tg,{background:"root",css:[R.l0.px(12),R.l0.pb(8),R.l0.pt(8)],children:[(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.start,R.l0.rowWithGap(8),R.l0.width("full")],children:[s?(0,o.tZ)(R.zx,{text:E.cancel,onClick:d}):null,(0,o.tZ)(R.B,{ref:function(e){k.current=e,w(e)},value:p,onChange:function(e){var t=e.target.value;h(t),i({message:t,messageId:v})},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.stopPropagation(),e.preventDefault(),_())},placeholder:E.input.placeholder(),css:[R.l0.height(32),R.l0.align.start,{resize:"vertical"}],autoFocus:!0,onFocus:function(){y(!0)},onBlur:function(e){e.relatedTarget===Z.current?e.preventDefault():y(!1)}}),(0,o.tZ)(R.G7,{css:[R.l0.pt(4)],children:(0,o.tZ)(R.hU,{alt:E.submit,onClick:_,children:(0,o.tZ)(ic.Z,{})})})]}),x&&(0,o.BX)(R.G7,{css:[R.l0.flex.row,R.l0.align.center,R.l0.rowWithGap(4)],children:[(0,o.tZ)(rc.Z,{}),(0,o.tZ)("p",{css:[R.l0.color.foregroundDimmer],children:(0,o.tZ)("small",{children:E.stylingSupport})})]}),s?null:(0,o.tZ)(R.G7,{css:[R.l0.pt(12),R.l0.flex.row,R.l0.fontSize(12)],children:(0,o.tZ)(Ar.Z,{feature:zr.l.Threads,css:R.l0.flex.shrink(1)})})]})},hc=function(e){var t=e.threadId,n=e.isCreating,r=e.isResolved,i=void 0!==r&&r,a=e.onRequestClose,c=void 0===a?function(){}:a,s=e.view,u=e.filePath,d=(0,oc.Z)(t,s,u),f=d.thread,p=d.loading,h=d.isPlaceholder,m=d.updateThread,v=d.changeThreadMessage,g=d.finalizeThreadMessage,b=(0,Z.Z)().preferences.fontSize,x=b;switch(b){case 10:x=13;break;case 14:x=19;break;case 18:x=25;break;case 24:x=34}var y=(0,ro.Z)().showConfirm,w=(0,Un.Z)(),k=(0,l.useRef)(null);l.useEffect((function(){setTimeout((function(){k.current&&(k.current.scrollTop=k.current.scrollHeight)}),0)}),[null===f||void 0===f?void 0:f.messages]);var E=l.useMemo((function(){return(null===f||void 0===f?void 0:f.messages)?(0,$.Z)(f.messages).sort((function(e,t){return Date.parse(e.timeCreated)-Date.parse(t.timeCreated)})):[]}),[null===f||void 0===f?void 0:f.messages]);return(0,o.BX)(R.G7,{css:[R.l0.overflow("hidden"),R.l0.font.default,{borderTopWidth:R.TV.borderWidthDefault,borderBottomWidth:R.TV.borderWidthDefault,borderStyle:"solid",borderColor:R.TV.accentPrimaryDefault}],children:[h||p?null:(0,o.tZ)(fc,{isCreating:n,isResolved:i,isLoading:p,threadId:t,filePath:u,isPlaceholder:h,onRequestClose:c,onResolveThread:function(){m({changes:{isResolved:!0}}),y("Thread resolved. You can reopen it from the inbox.")}}),p?(0,o.tZ)(R.G7,{css:[R.l0.height(x)],children:(0,o.tZ)(Br.ZP,{viewBox:"0 0 400 21",primaryColor:R.TV.accentPrimaryDimmest,primaryOpacity:0,secondaryColor:R.TV.accentPrimaryDimmest,secondaryOpacity:.2,speed:1,children:(0,o.tZ)("rect",{x:"0",y:"0",width:"100%",height:"100%"})})}):(0,o.BX)(o.HY,{children:[!n&&E.length>0?(0,o.tZ)("div",{css:[R.l0.px(12),R.l0.py(12),R.l0.maxHeight(300),R.l0.overflowY("auto"),R.l0.colWithGap(16)],ref:k,children:E.map((function(e){return(0,o.tZ)(ac.Z,{message:e},e.id)}))}):null,(0,o.tZ)(pc,{threadId:t,isPlaceholder:h,isResolved:i,isCreating:n,onRequestClose:c,onMessageChange:v,onMessageSubmit:function(e){g(e),(0,xt.j)(uc.U.MESSAGE_SENT,{replId:w,source:"inlineThreads"})}})]})]})};function mc(e){var t=e.threadId,n=e.view,r=e.filePath;return(0,o.tZ)("div",{css:[R.l0.width("100%"),R.l0.backgroundColor.backgroundRoot],children:(0,o.tZ)(hc,{threadId:t,onRequestClose:function(){n.dispatch({effects:[ci.YM.of(null)]})},view:n,filePath:r})})}function vc(e){var t=e.filePath,n=e.onType,c=e.onFocus,h=e.autoFocus,m=e.deeplink,g=e.hideMobileKeyboardToolbar,b=(0,f.Z)(),x=b.fs,y=b.debuggest,k=b.presence,_=b.session,S="/replEnvironment2"===Ao().pathname,T=(0,w.Z)("flag-threads-2"),j=(0,p.Z)(),R=(0,ki.Z)({filePath:t,hasExtraPadding:!0,noHistory:!0,onException:function(e){(0,ba.xp)(e,{tags:{codemirror:!0}})}}),N=R.view,P=R.ref,D=Qi({view:N,presence:k,session:_,fs:x,filePath:t}).isLoading;!function(e){var t=e.view,n=e.isLoading,r=e.autoFocus;l.useEffect((function(){r&&t&&(n||t.focus())}),[t,n,r])}({view:N,autoFocus:h,isLoading:D}),_i({view:N,filePath:t,isLoading:D}),function(e){var t=e.view,n=function(e,t){var n=performance.now();mr.kg.time(e,n-t)},r=(0,an.Z)({view:t});l.useEffect((function(){if(t)return t.dispatch({effects:r.reconfigure(E.Wl.highest(C.tk.domEventHandlers({keydown:function(e){if(Math.random()<.001){var t=e.timeStamp;requestAnimationFrame((function(){n("editor input latency",t),"undefined"!==typeof requestIdleCallback?requestIdleCallback((function(){n("editor input latency after layout",t)})):setTimeout((function(){n("editor input latency after layout",t)}))}))}}})))}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,r])}({view:N}),function(e){var t=e.view,n=(0,f.Z)().session;l.useEffect((function(){if(t)return n.onEditorFocused((function(){t.focus()}))}),[n,t])}({view:N});var B=function(){var e=l.useRef((0,vt.u)(new Map)).current,t=l.useCallback((function(t){var n=new Map(e.current);t(n),e.current=n}),[e]),n=l.useCallback((function(){e.current=new Map}),[e]);return(0,Ht.Z)((function(){return{observable:e,update:t,unmount:n}}),[t,e,n])}();ln({view:N,filePath:t,isLoading:D,decorations:B}),function(e){var t=e.view,n=e.filePath,r=e.isLoading,i=(0,f.Z)().anchorer,a=(0,mi.Dv)(vi.Q);l.useEffect((function(){t&&a&&t.dispatch({effects:[Zi.of(a)]})}),[t,a]);var o=wi(i);(0,an.Z)({view:t,initialExtension:[gi,o,C.tk.updateListener.of((function(e){(0,I.j)(e,Zi,(function(n){var r=n.value,i=e.state.field(o).find((function(e){return e.id===r}));i&&(null===t||void 0===t||t.dispatch({selection:{anchor:i.indexStart,head:i.indexStart},effects:[C.tk.scrollIntoView(i.indexStart,{x:"nearest",y:"nearest"})]}))}))}))]}),l.useEffect((function(){if(!r&&t&&n){var e=!1;i.getAnchors(n).then((function(n){if(e)return!0;t.dispatch({effects:[bi.of(n)]})}));var a=i.onAnchorsAdded((function(e){var r=e.filter((function(e){return e.path===n}));t.dispatch({effects:xi.of(r)})})),o=i.onAnchorsRemoved((function(e){t.dispatch({effects:yi.of(e)})}));return function(){e=!0,a(),o()}}}),[r,n,t])}({view:N,filePath:t,fs:x,isLoading:D}),En({view:N,debuggest:y,filePath:t,isLoading:D});var O=di({view:N,filePath:t}),A=O.onAction,z=O.actions,U=O.contextMenuCoords,L=O.onContextMenu,G=O.closeMenu,X=O.resizeRef,F=fi({view:N,filePath:t,isLoading:D}),M=function(e){var t=e.view,n=(0,a.Z)(l.useState(null),2),r=n[0],i=n[1],o=(0,an.Z)({view:t});return l.useEffect((function(){if(t){var e=document.createElement("div");return i(e),t.dispatch({effects:o.reconfigure([(0,nr.yC)({createPanel:function(){return{top:!0,pos:80,dom:e,mount:function(){var t=e.querySelector("[main-field]");t&&(t.focus(),t.select())}}}}),C.$f.of([{win:"Ctrl-h",linux:"Ctrl-h",preventDefault:!0,run:function(){return t.dispatch({effects:rr.of(null)}),(0,nr.nx)(t)}}])])}),function(){t.dispatch({effects:o.reconfigure([])}),i(null)}}}),[t,o]),r}({view:N});!function(e){var t=e.filePath,n=e.view,r=e.isLoading,i=e.deeplink,a=(0,f.Z)().session;l.useEffect((function(){if(n&&!r&&i){var e=i.line,t=i.col;e&&pi({view:n,line:e,col:t})}}),[n,r,i]),l.useEffect((function(){if(n&&!r)return a.onDeeplinkUpdated((function(e){var r=e.path,i=e.line,a=e.col;r===t&&i&&pi({view:n,line:i,col:a})}))}),[a,n,t,r])}({filePath:t,view:N,isLoading:D,deeplink:m}),function(e){var t=e.view,n=e.onType,r=e.filePath,i=(0,an.Z)({view:t});l.useEffect((function(){if(t&&n&&r)return t.dispatch({effects:i.reconfigure(C.tk.updateListener.of((function(e){e.docChanged&&(e.transactions.some((function(e){return e.annotation(E.YW.remote)}))||n((0,pr.r6)(r)||r===ra.l?ra.l:""))})))}),function(){t.dispatch({effects:i.reconfigure([])})}}),[t,n,r,i])}({view:N,onType:n,filePath:t}),function(e){var t=e.view,n=e.onFocus,r=(0,an.Z)({view:t});(0,l.useEffect)((function(){if(t&&n)return t.dispatch({effects:r.reconfigure(C.tk.updateListener.of((function(e){e.focusChanged&&e.view.hasFocus&&n(e.view)})))}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,n,r])}({view:N,onFocus:c}),function(e){var t=e.view,n=(0,an.Z)({view:t}),r=(0,Yi.xZ)();l.useEffect((function(){if(t&&!(0,cn.isMobile)({tablet:!0})){var e=r?[aa.Gj,aa._j,aa.yK,aa.gm,aa.ZF]:[];return e.push(aa.ZF),t.dispatch({effects:n.reconfigure((0,ia.ZP)({rules:e}))}),function(){t.dispatch({effects:n.reconfigure([])})}}}),[t,n,r])}({view:N}),function(e){var t=e.view,n=(0,an.Z)({view:t}),r=(0,f.Z)().fs,i=(0,Xt.Z)(),a=(0,Yi.xZ)();l.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(C.tk.domEventHandlers({paste:function(e){var n,o=null===e||void 0===e||null===(n=e.clipboardData)||void 0===n?void 0:n.files,c=function(e){var n=t.state.selection.main.head;t.dispatch({changes:{from:n,insert:e},selection:{anchor:n,head:n+e.length}})};if(o){var s=!0,l=!1,u=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;a?(0,sa.L0)(p).then((function(e){return c('"'+e+'"')})):i&&(0,pr.gK)(i)&&pa(p,r,i).then(c)}}catch(h){l=!0,u=h}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,i,r,a])}({view:N}),function(e){var t=e.view,n=(0,an.Z)({view:t}),r=(0,Xt.Z)();l.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(C.tk.domEventHandlers({paste:function(e){var n;Wr({activeFile:r,view:t,event:e,clipboardText:null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text")})}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:N}),function(e){var t=e.view,n=(0,an.Z)({view:t}),r=(0,Yi.f6)();l.useEffect((function(){if(t&&r)return t.dispatch({effects:n.reconfigure(ga)}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:N}),function(e){var t=e.view,n=(0,an.Z)({view:t}),r=(0,f.Z)().session;l.useEffect((function(){var e=function(){return r.setIsCommandBarOpen(!0),!0};if(t)return t.dispatch({effects:n.reconfigure(C.$f.of([{key:"Mod-Shift-p",run:e,preventDefault:!0},{key:"F1",run:e,preventDefault:!0}]))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,r,n])}({view:N});var W=function(e){var t=e.view,n=(0,f.Z)().fs,r=(0,Xt.Z)(),i=(0,Yi.xZ)();return(0,a.Z)((0,oa.L)({accept:[Ji.z.Code,ca.FILE],drop:function(e,a){if(t){var o=a.getClientOffset(),c=o?t.posAtCoords(o):null;if(null!==c){var s=function(e){t.focus(),t.dispatch({changes:{from:c,insert:e},selection:{anchor:c,head:c+e.length}})};if(e.type===Ji.z.Code)s(e.code);else{var l=!0,u=!1,d=void 0;try{for(var f,p=e.files[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;i?(0,sa.L0)(h).then((function(e){return s('"'+e+'"')})):r&&(0,pr.gK)(r)&&pa(h,n,r).then(s)}}catch(m){u=!0,d=m}finally{try{l||null==p.return||p.return()}finally{if(u)throw d}}}}}}}),2)[1]}({view:N}),H=(0,Yi.xZ)();!function(e){var t=e.view,n=(0,f.Z)().container;(0,an.Z)({view:t,initialExtension:[Cr(n),_r]})}({view:N}),function(e){var t=e.filePath,n=e.view,r=(0,Un.Z)(),i=(0,ka.useApolloClient)(),a=jr(t),o=(0,Fe.c)("flag-code-suggestion").enabled,c=(0,Z.Z)().preferences,s=(0,an.Z)({view:n}),u=(0,Ht.Z)((function(){return new Set}),[]);(0,l.useEffect)((function(){return function(){u.forEach((function(e){return e.unsubscribe()}))}}),[u]),(0,l.useEffect)((function(){$a.x.toggle(Boolean(c.codeSuggestion))}),[c.codeSuggestion]),(0,l.useEffect)((function(){if(n&&o&&c.codeSuggestion&&eo.has(a)){var e=function(){var e=(0,wa.Z)(v().mark((function e(n){var i,o,s,l,u,d,f,p,h,m,g,b,x,y,Z,w,k,E,_,C,S,T;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.code,o=n.signal,s=n.maxTokens,i){e.next=3;break}return e.abrupt("return");case 3:return(l=c.codeSuggestionEngine).includes("self-hosted")||(l="self-hosted-large"),u=mr.kg.timeStart({language:a,engine:l,replId:r,codeLength:i.length}),d={language:a,code:i,replId:r,filePath:t,engine:l,maxTokens:s,stop:["\n\n"]},f=$a.x.add(d),o.addEventListener("abort",(function(){$a.x.abort(f)})),e.next=11,(0,Za.Z)(fetch("/suggest_code",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},signal:o,body:JSON.stringify(d)}));case 11:if((p=e.sent).body){e.next=14;break}throw new Error("No body in response");case 14:h=[],m="",g=!0,b=new TextDecoder("utf-8"),x=!1,y=!1,e.prev=19,w=(0,ya.Z)(to(p.body));case 21:return e.next=23,(0,Za.Z)(w.next());case 23:if(!(x=!(k=e.sent).done)){e.next=41;break}E=k.value,_=E,C=b.decode(_,{stream:!0}),m+=C,S=void 0;case 29:if(-1===(S=m.indexOf("\n"))){e.next=38;break}return T=JSON.parse(m.substring(0,S)).text,h.push(T),e.next=34,T;case 34:g&&(u("code suggestion",{type:"success"}),g=!1),m=m.substring(S+1),e.next=29;break;case 38:x=!1,e.next=21;break;case 41:e.next=47;break;case 43:e.prev=43,e.t0=e.catch(19),y=!0,Z=e.t0;case 47:if(e.prev=47,e.prev=48,!x||null==w.return){e.next=52;break}return e.next=52,w.return();case 52:if(e.prev=52,!y){e.next=55;break}throw Z;case 55:return e.finish(52);case 56:return e.finish(47);case 57:if(!m){e.next=60;break}return e.next=60,m;case 60:$a.x.complete(f,{__typename:"SuggestCodeResult",id:Date.now().toString(),code:h.join("")});case 61:case"end":return e.stop()}}),e,null,[[19,43,47,57],[48,,52,56]])})));return function(t){return e.apply(this,arguments)}}();return n.dispatch({effects:s.reconfigure(Ja({path:t,engine:c.codeSuggestionEngine,suggestCode:e}))}),function(){n.dispatch({effects:s.reconfigure([])})}}}),[n,o,s,t,i,a,r,u,c.codeSuggestion,c.codeSuggestionEngine])}({view:N,filePath:t});var V=function(e){var t=e.view,n=e.filePath,r=(0,a.Z)(l.useState(null),2),i=r[0],o=r[1],c=(0,an.Z)({view:t});return l.useEffect((function(){if(t)return t.dispatch({effects:c.reconfigure(Xr({setExplainCodeParams:o,view:t,filePath:n}))}),function(){t.dispatch({effects:c.reconfigure([])})}}),[t,c,n]),i}({view:N,filePath:t}),q=function(e){var t=e.view,n=(0,a.Z)(l.useState(null),2),r=n[0],i=n[1],o=(0,an.Z)({view:t}),c=l.useCallback((function(){if(!t)throw new Error("did not expect to be asked to open generate code modal without view");t.dispatch({effects:Hr.of(!0)})}),[t]);return l.useEffect((function(){if(t)return t.dispatch({effects:o.reconfigure(qr({view:t,setGenerateCodePortalProps:i}))}),function(){t.dispatch({effects:o.reconfigure([])})}}),[t,o]),{generateCodePortalProps:r,openGenerateCodeModal:c}}({view:N}),K=q.generateCodePortalProps,Q=q.openGenerateCodeModal,Y=function(e){var t=e.view,n=(0,a.Z)(l.useState(null),2),r=n[0],i=n[1],o=(0,an.Z)({view:t}),c=Fr();return l.useEffect((function(){if(t&&c)return t.dispatch({effects:o.reconfigure(Yr({view:t,setSearchCodePortalProps:i}))}),function(){t.dispatch({effects:o.reconfigure([])})}}),[t,o,c]),{searchCodePortalProps:r}}({view:N}).searchCodePortalProps,J=Lo({view:N,filePath:t,isLoading:D,enable:S&&!T}),$=Xo({view:N,filePath:t,isLoading:D,enable:S&&T}),ee=(0,Mo.Z)(Gn.H.Editor);return ec({view:N,filePath:t}),(0,o.BX)("div",{ref:ee,className:s().dynamic([["6aa49db6429fbc90",[j?"0 3px 0 3px ".concat(j):"0"]]])+" root",children:[g?null:(0,o.tZ)(tr,{view:N,filePath:t,isLoading:D}),(0,o.BX)("div",{ref:X,className:s().dynamic([["6aa49db6429fbc90",[j?"0 3px 0 3px ".concat(j):"0"]]])+" editor",children:[D&&(0,o.tZ)("div",{className:s().dynamic([["6aa49db6429fbc90",[j?"0 3px 0 3px ".concat(j):"0"]]])+" loader",children:(0,o.tZ)(d.Z,{})}),(0,o.tZ)("div",{ref:function(e){P(e),W(e)},onContextMenu:L,className:s().dynamic([["6aa49db6429fbc90",[j?"0 3px 0 3px ".concat(j):"0"]]])}),U&&N?(0,o.tZ)(Gt.ZP,{view:N,coords:U,actions:z,closeMenu:G,onAction:A}):null,V?V.node:null,K?(0,o.tZ)(fo,(0,i.Z)((0,r.Z)({},K),{filePath:t})):null,Y?(0,o.tZ)(go,(0,i.Z)((0,r.Z)({},Y),{filePath:t})):null,F?(0,o.tZ)(Wn,{dom:F,onShowGenerateCodeModal:Q}):null,M?(0,o.tZ)(fr,{dom:M,view:N}):null,(0,o.tZ)(Fo,{source:B.observable}),N&&(0,o.tZ)(Do,{view:N,filePath:t,isLoading:D,threads:J.threadPreviews,openThreadId:J.openThreadId,setOpenThreadId:J.setOpenThreadId,placeholderId:J.placeholderThreadId,children:Object.entries(J.threadsTooltips).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,o.tZ)(l.Fragment,{children:r},n)}))}),N&&(0,o.tZ)(o.HY,{children:Object.entries($.threadElements).map((function(e){var n=(0,a.Z)(e,2),r=n[0],i=n[1];return u.createPortal((0,o.tZ)(mc,{threadId:r,view:N,filePath:t}),i)}))})]}),H&&(0,o.tZ)(na,{}),(0,o.tZ)(s(),{id:"6aa49db6429fbc90",dynamic:[j?"0 3px 0 3px ".concat(j):"0"],children:".root.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);z-index:3;-webkit-box-shadow:".concat(j?"0 3px 0 3px ".concat(j):"0",";-moz-box-shadow:").concat(j?"0 3px 0 3px ".concat(j):"0",";box-shadow:").concat(j?"0 3px 0 3px ".concat(j):"0","}.editor.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default)}.editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;height:100%}.editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector>.cm-editor{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:100%}.loader.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;height:100%;width:100%;overflow:hidden;z-index:5}")})]})}},48161:function(e,t,n){n.d(t,{Z:function(){return Y}});var r,i=n(47568),a=n(26042),o=n(69396),c=n(10253),s=n(34051),l=n.n(s),u=n(35944),d=n(67294),f=n(36077),p=n.n(f),h=n(94561),m=n(40963),v=n(1144),g=n(61756),b=n(90317),x=n(99408),y=n(34193),Z=n(43902),w=n(19526),k=n(81255),E=n(44044),_=n(69346),C=n(30992),S=n(88961),T=n(59916),I=n(63377),j=n(68056),R=n(6625),N=n(91434),P=n(93160),D=n(48551);!function(e){e.Unknown="UNKNOWN",e.Npm="NPM",e.Django="DJANGO",e.Rails="RAILS",e.DotNet="DOTNET",e.Cargo="CARGO",e.Make="MAKE",e.RegularRun="REGULAR_RUN"}(r||(r={}));var B=new RegExp("((index)|(main)|(app)|(run)|(start)|(server))\\..+","i");function O(e){var t=e.initRunCommand,n=e.isCompiled,i=e.allFiles,a=new Set(i);return a.has("Makefile")||a.has("makefile")?r.Make:a.has("package.json")?r.Npm:a.has("Cargo.toml")?r.Cargo:n?r.Unknown:a.has("config/application.rb")?r.Rails:function(e,t){return e.some((function(e){return(0,D.r6)(e)===t}))}(i,"csproj")?r.DotNet:a.has("manage.py")?r.Django:B.test(t)?r.RegularRun:r.Unknown}function A(e,t){var n=t.initRunCommand,i=t.allFiles;switch(e){case r.Npm:return"npm run start";case r.RegularRun:var a=function(e){var t;return null!==(t=e.find((function(e){return B.test(e)})))&&void 0!==t?t:null}(i);return null==a?null:n.replace(B,a);case r.Django:return"python3 manage.py runserver 0.0.0.0:3000";case r.Rails:return"bundle exec rails server --binding=0.0.0.0";case r.DotNet:return"dotnet run";case r.Cargo:return"cargo run";case r.Make:case r.Unknown:default:return null}}function z(e){switch(e){case r.Make:return"make";case r.Cargo:case r.DotNet:case r.Npm:return"";default:return null}}function U(e,t,n){if(0===n.length)return{projType:r.Unknown,runCommand:null,compileCommand:null};var i={initRunCommand:e,isCompiled:t,allFiles:n},a=O(i);return{projType:a,runCommand:A(a,i),compileCommand:z(a)}}var L=n(86292),G=n(67983),X=n(58482),F=n(48287);function M(e,t,n,r){var i=[];return r?(i.push((0,F.xz)("interpreter")),i.push((0,F.xz)("entrypoint")),i.push((0,F.KQ)(e)),n?i.push((0,F.D3)(n)):i.push((0,F.xz)("compile"))):(i.push((0,F.xz)("run")),i.push((0,F.If)(t))),i}var W=n(40005),H=n(13069);function V(e){var t=e.children;return(0,u.BX)(P.Z,{background:"default",css:[k.l0.borderRadius(8),{width:"100%",height:"calc(100% - var(--space-2))",backgroundColor:"var(--background-default)",overflowY:"auto",marginTop:"0px"}],children:[(0,u.tZ)(_.Z,{children:(0,u.tZ)(v.x,{variant:"subheadDefault",css:[k.l0.color.foregroundDimmest,k.l0.pl(16),k.l0.pt(16)],children:".replit"})}),(0,u.tZ)(_.Z,{css:[k.l0.p(16),k.l0.justify.center,k.l0.align.center,{flex:"1 1 auto"}],children:t})]})}function q(e){var t,n=Boolean(e.hasInterpreter),i=e.initialRun,s=null!==(t=e.initialCompile)&&void 0!==t?t:"",l=e.isFrameworkRecommended,f=!!e.projType&&e.projType===r.Rails,h=e.isApplyingConfig,b=(0,c.Z)(d.useState("Unknown"===p().get(e.initialLanguage).displayName?"bash":e.initialLanguage),2),x=b[0],T=(b[1],(0,C.Y)(e.initialRun,(function(e){if(!e)return{message:"Add a run command"}}))),I=(0,c.Z)(d.useState(e.initialCompile),2),P=I[0],D=I[1];d.useEffect((function(){T.setValue(i)}),[i]),d.useEffect((function(){D(null!==s&&void 0!==s?s:"")}),[s]);var B=(0,C.Y)("",(function(e){if(!e)return{message:"Choose an entry point file"}})),O=(0,c.Z)(d.useState(Boolean(n&&!l)),2),A=O[0],z=O[1];d.useEffect((function(){z(Boolean(n&&!l))}),[n,l]);var U=(0,_.K)("a"),L=(0,c.Z)(d.useState([]),2),G=L[0],X=L[1],F=(0,R.Z)(),M=(0,W.u)();return d.useEffect((function(){M&&F.current&&X(M)}),[F,M]),(0,u.BX)("form",{onSubmit:function(t){t.preventDefault(),e.setIsApplyingConfig(!0),T.value||A?e.onSubmit({run:T.value,compile:null!==P&&void 0!==P?P:"",entry:B.value,deleteInterp:!A,onDone:e.closeConfigPane,runChanged:T.value!==i,compileChanged:P!==s,projType:e.projType}):T.validate()},css:[k.l0.maxWidth(400),{width:"100%"}],children:[(0,u.BX)(_.Z,{css:[k.l0.colWithGap(8)],children:[n?(0,u.tZ)(_.Z,{css:[k.l0.pb(16)],children:(0,u.BX)(j.hE,{disabled:h,name:"interpreterView",value:A.toString(),row:!0,onChange:function(){return z((function(e){return!e}))},stretch:!0,primary:!0,children:[(0,u.tZ)(j.rK,{id:"interpreterFalse",value:"false",text:"Use run command"}),(0,u.tZ)(j.rK,{id:"interpreterTrue",value:"true",text:"Use default interpreter"})]})}):null,(0,u.BX)(_.Z,{css:[k.l0.height(e.initialCompile?210:170),k.l0.colWithGap(8)],children:[A?null:(0,u.BX)(_.Z,{css:[k.l0.maxWidth(400),k.l0.colWithGap(8)],children:[e.initialCompile?(0,u.BX)(_.Z,{css:[k.l0.colWithGap(4)],children:[(0,u.tZ)("label",{htmlFor:"compile-sel",children:"Configure the Compile Command"}),(0,u.tZ)(v.x,{multiline:!0,variant:"small",color:"dimmest",children:"This is optional, and is executed before your run command."}),(0,u.tZ)(m.ZP,{disabled:h,id:"compile-sel",type:"text",value:P,placeholder:"Enter a command to compile the program",onChange:function(e){D(e.currentTarget.value)},css:{"&:disabled":{color:k.TV.foregroundDimmer}}})]}):null,(0,u.tZ)("label",{htmlFor:"run-sel",css:[k.l0.mt(4)],children:"Configure the Run Command"}),(0,u.tZ)(m.ZP,{disabled:h,id:"run-sel",type:"text",value:T.value,placeholder:"Enter a command to run the program",onChange:function(e){T.setValue(e.currentTarget.value)},css:[{"&:disabled":{color:k.TV.foregroundDimmer,cursor:"auto"},cursor:"text"}]}),f?(0,u.BX)(v.x,{multiline:!0,variant:"small",color:"dimmest",children:["We detected this is a Rails project. You will need",(0,u.BX)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.replit.com/misc/rails-on-replit",children:[" ","additional changes"," "]}),"to your config files to use all of Replit\u2019s features."]}):null,T.error||!T.value?(0,u.BX)(_.Z,{css:[k.l0.color.accentNegativeDefault,k.l0.rowWithGap(4),k.l0.align.center],children:[(0,u.tZ)(S.Z,{size:12}),(0,u.tZ)(_.Z,{children:T.error?T.error.message:"Add a run command"})]}):null]}),A?(0,u.BX)(_.Z,{css:[{maxWidth:400},k.l0.colWithGap(8)],children:[(0,u.tZ)("label",{htmlFor:"entry-sel","data-cy":"import-config-entrypoint",children:"Configure entry point"}),(0,u.tZ)(v.x,{variant:"small",css:[k.l0.color.foregroundDimmest],multiline:!0,children:"The entry point is the file that\u2019s run by default and shown first."}),0!==G.length?(0,u.tZ)(N.Z,(0,o.Z)((0,a.Z)({id:"config-selector",onSelect:B.setValue,onInit:B.setValue,options:G},G.length&&Boolean(M)&&{initialSelectedOption:G[0]}),{disabled:h})):(0,u.tZ)(m.ZP,{disabled:h,id:"entry-sel",type:"text",value:B.value,placeholder:"Choose entry point file",onChange:function(e){B.setValue(e.currentTarget.value)},css:[E.gU.filled,{cursor:"text"}]}),B.error?(0,u.BX)(_.Z,{css:[{color:"var(--accent-negative-default)"},k.l0.rowWithGap(4),k.l0.align.center],children:[(0,u.tZ)(S.Z,{size:12}),(0,u.tZ)(_.Z,{children:B.error.message})]}):null]}):null,(0,u.tZ)(U,{css:[k.l0.color.accentPrimaryStronger,{fontWeight:k.TV.fontWeightMedium}],target:"_blank",href:"https://docs.replit.com/programming-ide/running-github-repositories-replit",rel:"noopener noreferrer",children:"Not sure what to do?"}),(0,u.tZ)(_.Z,{css:[k.l0.flex.row,k.l0.pt(16)],children:(0,u.tZ)(g.ZP,{colorway:"primary",outlined:!0,type:"submit",text:h?"Saving...":"Done",disabled:h||!A&&(Boolean(T.error)||!T.value),css:[E.gU.filledAndOutlined,{fontWeight:k.TV.fontWeightMedium,color:k.TV.accentPrimaryStronger}],dataCy:"import-config-done"})})]})]}),(0,u.tZ)(y.Z,{isOpen:!1,preventClose:!0,onRequestClose:function(){},children:(0,u.tZ)(_.Z,{css:[k.l0.borderRadius(16),k.l0.p(32),{backgroundColor:"var(--background-default)"}],children:(0,u.BX)(w.gC,{align:"center",spacing:1,children:[(0,u.tZ)(Z.Z,{}),(0,u.BX)(v.x,{children:["Upgrading to ",p().get(x).displayName]})]})})})]})}function K(){return(0,u.BX)(_.Z,{children:[(0,u.tZ)(_.Z,{children:".replit looks a lil messed up :/"}),(0,u.tZ)("a",{css:[k.l0.pt(8),{fontSize:k.TV.fontSizeSmall}],target:"_blank",href:"https://docs.replit.com/programming-ide/configuring-repl",children:"View docs"})]})}function Q(){return(0,u.tZ)(_.Z,{children:(0,u.BX)("p",{children:["Initializing run configuration",(0,u.tZ)(h.Z,{style:{color:"var(--foreground-default)"}})]})})}var Y=function(e){var t,n=(0,I.Z)(),a=(0,x.Z)(),o=a.fs,s=a.dotReplit,f=(0,c.Z)((0,b.Fn2)(),1)[0],p=(0,R.Z)(),h=(0,b.HmU)({variables:{replId:n}}),m="Repl"===(null===(t=h.data)||void 0===t?void 0:t.repl.__typename)?h.data.repl:null,v=e.useReadFile(o,T.l),g=(0,c.Z)(d.useState(!1),2),y=g[0],Z=g[1],w=v&&!v.error?v.content.toString("utf8"):"",k=(0,c.Z)(d.useState(""),2),E=k[0],_=k[1],C=(0,c.Z)(d.useState(""),2),S=C[0],j=C[1],N=(0,c.Z)(d.useState(!1),2),P=N[0],D=N[1],B=(0,c.Z)(d.useState(r.Unknown),2),O=B[0],A=B[1],z=(0,c.Z)(d.useState(!1),2),F=z[0],W=z[1];d.useEffect((function(){function e(){return e=(0,i.Z)(l().mark((function e(){var t,n,i,a,c,u,d,f,h,m,v,g,b,x,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getConfig();case 2:if(t=e.sent,n=t.config,!t.error){e.next=7;break}return e.abrupt("return");case 7:return a=(0,H.m)(null!==(i=n.run)&&void 0!==i?i:void 0),u=(0,H.m)(null!==(c=n.compile)&&void 0!==c?c:void 0),d=Boolean(n.compile),f=Boolean(n.interpreter),e.next=15,o.listFiles();case 15:if(h=e.sent,p.current){e.next=18;break}return e.abrupt("return");case 18:if(null==h.error&&null!=h.files&&0!==h.files.length){e.next=20;break}return e.abrupt("return");case 20:m=h.files,v=U(a,d,m),g=v.projType,b=v.runCommand,x=v.compileCommand,y=null!==x&&void 0!==x?x:u,_(null!==b&&void 0!==b?b:a),j(y),D(g!==r.Unknown&&g!==r.RegularRun),A(g),W(f);case 30:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}w&&function(){e.apply(this,arguments)}()}),[w,p]),d.useEffect((function(){(0,L.j)(L.U3.NIX_GH_IMPORT_USED,{action:G.D.ImportEnded,replId:n})}),[n]);var Y=(0,X.Z)();d.useEffect((function(){Y(!1)}),[]);var J=function(){var e=(0,i.Z)(l().mark((function e(t){var r,i,a,c,u,d,p,h,m,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.run,i=t.compile,a=t.entry,c=t.deleteInterp,u=t.onDone,d=t.runChanged,p=t.compileChanged,h=t.projType,(0,L.j)(L.U3.NIX_GH_IMPORT_USED,{action:G.D.ConfigDone,interpUsed:!c,isCompiled:""!==i,runChanged:d,compileChanged:p,projType:h,replId:n}),m=M(r,a,i,c),e.next=5,s.updateDotReplit(m);case 5:return e.next=7,o.flush();case 7:return e.next=9,o.persist({skipDebounce:!0});case 9:return v={id:n},e.next=12,f({variables:{input:v}});case 12:u();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m&&v?(null===v||void 0===v?void 0:v.error)?(0,u.tZ)(V,{children:(0,u.tZ)(K,{})}):(0,u.tZ)(V,{children:(0,u.tZ)(q,{initialLanguage:"",initialRun:E,initialCompile:S,hasInterpreter:F,fs:o,isApplyingConfig:y,setIsApplyingConfig:Z,onSubmit:J,isFrameworkRecommended:P,projType:O,closeConfigPane:e.closeConfigPane})}):(0,u.tZ)(V,{children:(0,u.tZ)(Q,{})})}},91434:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(26042),i=n(69396),a=n(10253),o=n(35944),c=n(67294),s=n(69346),l=n(81255),u=n(44044),d=n(98705),f=n(32951),p=n(87653),h=n(3218),m=n(96594);function v(e){var t,n=e.options,o=e.initialSelectedOption,s=e.inputRef,l=e.setInputValue,u=(0,a.Z)(c.useState(""),2),d=u[0],f=u[1],p=(t={options:n,filter:d},c.useMemo((function(){return t.filter?h.Z.filter(t.filter.toLowerCase(),t.options).map((function(e){return e.original})):t.options}),[t.options,t.filter])),v=(0,m.Kb)({items:p,initialHighlightedIndex:0,initialSelectedItem:o,stateReducer:function(e,t){var n,a,o=t.type,c=t.changes;(o===m.Kb.stateChangeTypes.ItemClick||o===m.Kb.stateChangeTypes.InputKeyDownEnter&&c.selectedItem)&&(null===(n=s.current)||void 0===n||n.blur());return o!==m.Kb.stateChangeTypes.InputBlur||c.selectedItem?o===m.Kb.stateChangeTypes.InputBlur&&c.selectedItem?(l(null!==(a=c.selectedItem)&&void 0!==a?a:""),c):c:(0,i.Z)((0,r.Z)({},c),{isOpen:!0})}});return{filteredOptions:p,combobox:v,setFilter:f,filter:d}}var g=n(1144),b=n(33773),x=n(70917),y=n(25019),Z=n(4306),w=n(40963),k=(0,x.iv)([l.l0.py(8),l.l0.pl(8),l.l0.pr(32),{color:"inherit",outline:"0 none",border:"1px solid",fontSize:"inherit",lineHeight:l.TV.space16,display:"block",width:"100%","::placeholder, :disabled":{color:l.TV.foregroundDimmer,borderColor:"transparent"},cursor:"text"}]),E=(0,x.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal"}),_=(0,x.iv)([E,u.gU.listItem,l.l0.borderRadius(8),l.l0.center,{width:24,height:24}]),C=(0,s.K)("button");function S(e){var t=e.id,n=e.onSelect,u=e.onInit,h=e.options,m=e.initialSelectedOption,x=e.placeholderText,E=e.autoFocus,S=e.disabled,I=c.useRef(null),j=(0,a.Z)(c.useState(null!==m&&void 0!==m?m:""),2),R=j[0],N=j[1],P=v({options:h,initialSelectedOption:m,inputRef:I,setInputValue:N}),D=P.filteredOptions,B=P.filter,O=P.combobox,A=P.setFilter,z=(0,d.Z)(n),U=(0,d.Z)(u);return c.useEffect((function(){m&&(U.current(m),N(m),A(""))}),[m]),(0,f.Z)((function(){var e;O.selectedItem&&(null===(e=I.current)||void 0===e||e.blur(),z.current(O.selectedItem),N(O.selectedItem),A(""))}),[O.selectedItem,z]),c.useEffect((function(){m&&(O.selectItem(m),N(m),A(""))}),[m]),(0,o.BX)(s.Z,{children:[(0,o.tZ)("div",(0,i.Z)((0,r.Z)({},O.getComboboxProps()),{children:(0,o.BX)(s.Z,{css:[l.l0.flex.row,{position:"relative"}],children:[(0,o.tZ)(s.Z,{css:[l.l0.flex.growAndShrink(1)],children:(0,o.tZ)(w.ZP,(0,i.Z)((0,r.Z)({},O.getInputProps({id:t,spellCheck:!1,autoFocus:E,onChange:function(e){A(e.currentTarget.value.toLowerCase()),N(e.currentTarget.value)},ref:I,onFocus:function(e){O.openMenu(),e.currentTarget.select()}})),{value:R,placeholder:null!==m&&void 0!==m?m:x,css:[k],disabled:S,dataCy:"import-config-entrypoint-input"}))}),S?null:(0,o.tZ)(s.Z,{css:[{position:"absolute",top:0,right:0,height:"100%"},l.l0.center],children:(0,o.tZ)(C,(0,i.Z)((0,r.Z)({},O.getToggleButtonProps()),{css:_,type:"button",children:O.inputValue&&!O.isOpen?(0,o.tZ)(b.Z,{}):(0,o.tZ)(p.Z,{})}))})]})})),(0,o.BX)("div",(0,i.Z)((0,r.Z)({},O.getMenuProps()),{css:{position:"relative"},children:[O.isOpen&&D.length?(0,o.tZ)(y.Z,{children:(0,o.tZ)("ul",{css:[l.l0.pt(4),l.l0.pb(8)],children:D.map((function(e,t){return(0,o.tZ)("li",(0,i.Z)((0,r.Z)({},O.getItemProps({item:e,index:t})),{children:(0,o.tZ)(Z.Z,(0,i.Z)((0,r.Z)({},T(e)),{filter:B,selected:O.selectedItem===e,highlighted:O.highlightedIndex===t}))}),e.toLowerCase())}))})}):null,B&&!D.length&&O.isOpen?(0,o.tZ)(y.Z,{children:(0,o.tZ)(s.Z,{css:[l.l0.p(16),l.l0.colWithGap(4)],children:(0,o.BX)(g.x,{color:"dimmer",children:['No results for "',B,'"']})})}):null]}))]})}function T(e){return{title:e,key:e.toLowerCase()}}},45826:function(e,t,n){n.d(t,{Z:function(){return p},_:function(){return v}});var r=n(10253),i=n(35944),a=n(60536),o=n.n(a),c=n(67294),s=n(30019),l=n(19526),u=n(33773),d=n(6951),f=n(81255);function p(e){var t=(0,r.Z)(c.useState(!1),2),n=t[0],a=t[1],o=[],u=[];if(e.variables.length>0){var f=e.variables[0].parentVariableReference,p=!0,h=!1,m=void 0;try{for(var g,b=e.variables[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var x=g.value;x.parentVariableReference===f?o.push(x):u.push(x)}}catch(y){h=!0,m=y}finally{try{p||null==b.return||b.return()}finally{if(h)throw m}}}return(0,i.BX)(i.HY,{children:[(0,i.tZ)(s.Z,{truncate:!0,level:5,children:"Variables"}),(0,i.BX)(l.gC,{align:"stretch",constrainWidth:!0,children:[o.map((function(t){return(0,i.tZ)(v,{depth:0,variable:t,client:e.client},t.parentVariableReference+"/"+t.name)})),u.length>0&&(0,i.BX)(i.HY,{children:[(0,i.BX)(d.Z,{filled:!1,border:!1,onClick:function(){return a((function(e){return!e}))},children:["See ",n?"Less":"More"]}),n&&u.map((function(t){return(0,i.tZ)(v,{depth:0,variable:t,client:e.client},t.parentVariableReference+"/"+t.name)}))]})]})]})}function h(e){var t=e.variable,n=e.expanded;return t.variablesReference>0?(0,i.tZ)("div",{css:[f.l0.transition.snappy,{transform:"rotate(".concat(n?0:-90,"deg)")}],children:(0,i.tZ)(u.Z,{})}):null}function m(e){var t=e.expanded,n=e.depth,r=e.variable;return 0===n&&!("parentVariableReference"in r)?(0,i.tZ)(h,{expanded:t,variable:r}):(0,i.tZ)("div",{css:[f.l0.flex.grow(0),f.l0.flex.shrink(0),f.l0.width(f.TV.space16),f.l0.display.flex,f.l0.align.center,f.l0.justify.end],children:(0,i.tZ)(h,{expanded:t,variable:r})})}function v(e){var t=e.depth,n=e.variable,a=e.client,s=(0,r.Z)(c.useState(!1),2),u=s[0],d=s[1],f=(0,r.Z)(c.useState([]),2),p=f[0],h=f[1];return c.useEffect((function(){u&&a.fetchVariables(n.variablesReference).then((function(e){return h(e)}),(function(){return d(!1)}))}),[u,a,n.variablesReference]),(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{onClick:function(){n.variablesReference>0&&d((function(e){return!e}))},className:o().dynamic([["d2db4fbc08fcf9b",[t]]])+" variable",children:[(0,i.tZ)(m,{expanded:u,variable:n,depth:t}),(0,i.BX)("div",{className:o().dynamic([["d2db4fbc08fcf9b",[t]]])+" label",children:[n.name,n.type&&(0,i.BX)("span",{className:o().dynamic([["d2db4fbc08fcf9b",[t]]])+" type",children:[" ",n.type]}),""!==n.value&&": "]}),(0,i.tZ)("div",{className:o().dynamic([["d2db4fbc08fcf9b",[t]]])+" label value",children:n.value})]}),u?(0,i.tZ)(l.gC,{align:"stretch",constrainWidth:!0,children:p.map((function(e){return(0,i.tZ)(v,{depth:t+1,variable:e,client:a},"parentVariableReference"in e?e.parentVariableReference+"/"+e.name:e.name)}))}):null,(0,i.tZ)(o(),{id:"d2db4fbc08fcf9b",dynamic:[t],children:".variable.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;height:var(--space-32);min-height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-default);padding-left:-webkit-calc(".concat(t," * var(--space-16));padding-left:-moz-calc(").concat(t," * var(--space-16));padding-left:calc(").concat(t," * var(--space-16));font-family:var(--font-family-code)}.variable.__jsx-style-dynamic-selector:hover{background-color:var(--background-higher);color:var(--foreground-default)}.label.__jsx-style-dynamic-selector{font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}.type.__jsx-style-dynamic-selector{opacity:.5}.value.__jsx-style-dynamic-selector{text-align:right;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1}")})]})}},13069:function(e,t,n){n.d(t,{C:function(){return r},m:function(){return i}});var r=function(e){return(null===e||void 0===e?void 0:e.args)&&(!(e.args.length>=3)||""!==e.args[2])},i=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""}},61412:function(e,t,n){n.d(t,{C:function(){return r}});var r=(0,n(91131).cn)(!0)},23477:function(e,t,n){n.d(t,{Z:function(){return E}});var r=n(47568),i=n(26042),a=n(69396),o=n(10253),c=n(29815),s=n(34051),l=n.n(s),u=n(35944),d=n(67294),f=n(28173),p=n(2426),h=n(90317),m=n(58502),v=n(86601),g=n(58794),b=function(e,t,n){var r;if(!e)return[];var i=t(e.getSceneElementsIncludingDeleted()),a=e.getAppState();return(r=n.reduce((function(e,t){var n,r,o;return t.id===(null===(n=a.editingElement)||void 0===n?void 0:n.id)||t.id===(null===(r=a.resizingElement)||void 0===r?void 0:r.id)||t.id===(null===(o=a.draggingElement)||void 0===o?void 0:o.id)||(i[t.id]&&i[t.id].version>t.version?(e.push(i[t.id]),delete i[t.id]):i[t.id]&&i[t.id].version===t.version&&i[t.id].versionNonce!==t.versionNonce?(i[t.id].versionNonce<t.versionNonce?e.push(i[t.id]):e.push(t),delete i[t.id]):(e.push(t),delete i[t.id])),e}),[])).concat.apply(r,(0,c.Z)(Object.values(i)))},x=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},y=n(69346),Z=n(81255),w=n(23837);function k(e){var t,s=e.fs,k=e.presence,E=e.broadcast,_=e.filePath,C=(0,d.useState)(void 0),S=C[0],T=C[1],I=(0,d.useRef)((function(e){return(0,c.Z)(e)})),j=(0,d.useRef)((function(e){return-1})),R=(0,d.useRef)((function(e){return{}})),N=(0,d.useRef)({readyPromise:x()}),P=(0,d.useRef)({promise:null});(0,d.useEffect)((function(){Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){I.current=e.getSyncableElements,j.current=e.getSceneVersion,R.current=e.getElementMap,T(e.default)}))}),[]);var D=function(){return N.current},B=(0,h.K1s)({ssr:!1}),O=B.data,A=B.loading,z=(null===O||void 0===O||null===(t=O.currentUser)||void 0===t?void 0:t.username)||"",U=(0,w.Z)(),L=(0,m.Z)({presence:k}),G=(0,v.Z)(),X=null===G||void 0===G?void 0:G.color,F=(0,d.useState)(new Map),M=F[0],W=F[1],H=(0,d.useState)(-1),V=H[0],q=H[1];(0,d.useEffect)((function(){function e(){return e=(0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&O.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N.current.readyPromise;case 4:t=D().getAppState().collaborators,n=new Map,L.forEach((function(e){var r;if(e.username!==(null===O||void 0===O||null===(r=O.currentUser)||void 0===r?void 0:r.username)){var o=t.get(e.username)||{};n.set(e.username,(0,a.Z)((0,i.Z)({},o),{username:e.username,color:{background:e.color,foreground:e.color}}))}})),D().updateScene({collaborators:n});case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O,L]);var K=function(){var e=(0,r.Z)(l().mark((function e(t,n){var r,i,a,o,c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n||(t=t.filter((function(e){return!M.has(e.id)||e.version>M.get(e.id)}))),r=!0,i=!1,a=void 0,e.prev=2,o=t[Symbol.iterator]();!(r=(c=o.next()).done);r=!0)s=c.value,M.set(s.id,s.version),W(new Map(M));e.next=10;break;case 6:e.prev=6,e.t0=e.catch(2),i=!0,a=e.t0;case 10:e.prev=10,e.prev=11,r||null==o.return||o.return();case 13:if(e.prev=13,!i){e.next=16;break}throw a;case 16:return e.finish(13);case 17:return e.finish(10);case 18:E.broadcastMessage({text:JSON.stringify({elements:t,path:_})});case 19:case"end":return e.stop()}}),e,null,[[2,6,10,18],[11,,13,17]])})));return function(t,n){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){if(E){var e=E.onBroadcastReceived((function(e){var t=e.username,n=e.text,r=JSON.parse(n);if(r.path===_)if(r.collaborator&&N.current){var o=D().getAppState().collaborators;o.set(t,(0,a.Z)((0,i.Z)({},o.get(t),r.collaborator),{username:t})),D().updateScene({collaborators:o})}else if(r.elements){var c=b(D(),R.current,r.elements);q(j.current(c)),D().updateScene({elements:c})}}));return function(){e()}}}),[E,_]),(0,d.useEffect)((function(){function e(){return e=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&s){e.next=2;break}return e.abrupt("return");case 2:P.current.promise=new Promise(function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,a,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o.Z,e.next=3,Promise.all([s.readFile(_),N.current.readyPromise]);case 3:e.t1=e.sent,n=(0,e.t0)(e.t1,1),"content"in(r=n[0])&&(a=r.content.toString(),c=JSON.parse(a||"{}"),u=D().getAppState(),c.appState=(0,i.Z)({},u),c.scrollToContent=!0,t(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,s]);var Q=(0,d.useCallback)((0,f.Z)(function(){var e=(0,r.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return!e.isDeleted})),!_){e.next=4;break}return e.next=4,s.writeFile(_,g.Z.from(JSON.stringify({elements:n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),350),[_]);return(0,u.tZ)(y.Z,{css:{position:"relative",height:"100%",width:"100%",flex:1,boxShadow:X?"0 3px 0 3px ".concat(X):"none",backgroundColor:Z.TV.backgroundDefault,"& .excalidraw [title~=Library]":{display:"none"},"& .excalidraw .App-menu_top":{gridTemplateColumns:"0 auto 1fr !important",gridGap:"none !important"},"& .excalidraw .App-menu_bottom":{transform:"none !important",paddingLeft:"var(--space-4) !important"}},children:S&&!A&&(0,u.tZ)(S,{zenModeEnabled:!0,ref:N,isCollaborating:!0,theme:U===p.V2.replitLight?"light":"dark",initialData:P.current.promise,onPointerUpdate:function(e){var t=e.pointer;if(D().getAppState().collaborators.size>0){var n=D().getAppState().selectedElementIds||{};E.broadcastMessage({text:JSON.stringify({collaborator:{pointer:t,selectedElementIds:n},path:_})})}},onChange:function(e){D().getAppState().collaborators.size>0?function(e){j.current(e)>V&&(V>-1&&K(I.current(e),!1),q(j.current(e)))}(e):q(j.current(e)),j.current(e)>V&&Q(e)},user:{name:z}})})}function E(e){var t=e.fs,n=e.presence,r=e.broadcast,i=e.filePath;return(0,u.tZ)(k,{fs:t,presence:n,broadcast:r,filePath:i},i)}},23810:function(e,t,n){n.d(t,{Z:function(){return ce}});var r=n(47568),i=n(26042),a=n(69396),o=n(99534),c=n(10253),s=n(34051),l=n.n(s),u=n(35944),d=n(60536),f=n.n(d),p=n(67294),h=n(92876),m=n(94184),v=n.n(m),g=n(65456),b=n(58794),x=n(48506),y=n(19526),Z=n(6951),w=n(27206),k=n(6625),E=n(30019),_=n(44781),C=n(64080),S=n(35642),T=n(19353),I=n(36077),j=n.n(I),R=n(2916),N=n(19050),P=n(33773),D=n(90317),B=n(44643),O=n(42941),A=n(86292),z=n(34193),U=n(43902),L=n(91513),G=n(48551),X=A.U3.ENV_EDITOR_OPENED,F=A.U3.ENV_EDITOR_USED,M=A.U3.ENV_EDITOR_INTRO_SKIPPED,W=A.U3.ENV_EDITOR_INSERT_USED,H=((0,u.tZ)(f(),{id:"223f8ac8383e5040",children:"*.jsx-223f8ac8383e5040{max-width:100%}"}),"jsx-223f8ac8383e5040");function V(e){return function(t){t.stopPropagation(),e(t)}}function q(e,t){return e?e.trim()?t.includes(e)?"You already have a secret with this key":null:"The key must include a non-space character":"Please add a key for this secret"}function K(e){return e?null:"Please add a value for this secret"}function Q(e){var t=e.secret,n=e.otherKeys,r=e.onUpdateKey,i=e.onUpdateValue,a=e.onSave,o=e.onCancel,s=e.onDelete,l=(0,c.Z)(p.useState(),2),d=l[0],h=l[1],m=(0,c.Z)(p.useState(),2),v=m[0],g=m[1],b=p.useRef(null),x=p.useRef(null),k=function(){var e=q(t.key,n);if(e)return h(e),void(b.current&&b.current.focus());var r=K(t.value);if(r)return g(r),void(x.current&&x.current.focus());a()};p.useEffect((function(){d&&(q(t.key,n)||h(null))}),[t.key,d,n]),p.useEffect((function(){v&&(K(t.value)||g(null))}),[t.value,v]);var E=V((function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())}));return(0,u.BX)("div",{className:"jsx-691e121709ad57fd",children:[(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(w.ZP,{autoFocus:!0,ref:b,label:"key",name:"key",value:t.key,spellCheck:!1,onChange:function(e){r(e.currentTarget.value)},onKeyDown:E,validationResults:d?[{message:d,state:"error"}]:void 0}),(0,u.tZ)(B.Z,{ref:x,label:"value",name:"value",value:t.value,spellCheck:!1,onChange:function(e){i(e.currentTarget.value)},onKeyDown:E,validationResults:v?[{message:v,state:"error"}]:void 0}),(0,u.BX)(y.Ug,{justify:"space-between",children:[s?(0,u.tZ)(Z.Z,{onClick:V(s),color:"negative",children:"Delete"}):null,(0,u.BX)(y.Ug,{spacing:1,children:[o?(0,u.tZ)(Z.Z,{onClick:V(o),children:"Cancel"}):null,(0,u.tZ)(Z.Z,{color:"primary",onClick:V(k),children:s?"Save":"Add new secret"})]})]})]}),(0,u.tZ)(f(),{id:"691e121709ad57fd",children:"div.jsx-691e121709ad57fd{background:var(--background-root);padding:var(--space-16);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8)}"})]})}function Y(e){var t=e.onAdd,n=e.otherKeys,r=(0,c.Z)(p.useState({key:"",value:""}),2),o=r[0],s=r[1];return(0,u.tZ)(Q,{secret:o,otherKeys:n,onUpdateKey:function(e){return s((function(t){return t?(0,a.Z)((0,i.Z)({},t),{key:e}):t}))},onUpdateValue:function(e){return s((function(t){return t?(0,a.Z)((0,i.Z)({},t),{value:e}):t}))},onSave:function(){s({key:"",value:""}),o.value&&o.key&&t(o)}})}var J={styles:(0,u.tZ)(f(),{id:"6ee31908fcf933da",children:"*.jsx-6ee31908fcf933da{max-width:-webkit-calc(100% - 16px);max-width:-moz-calc(100% - 16px);max-width:calc(100% - 16px)}"}),className:"jsx-6ee31908fcf933da"};function $(e){var t=e.secret,n=e.otherKeys,r=e.onUpdateSecret,o=e.onDeleteSecret,s=(0,c.Z)(p.useState(null),2),l=s[0],d=s[1],h=null;l&&(h=(0,u.tZ)(Q,{secret:l,otherKeys:n,onUpdateKey:function(e){return d((function(t){return t?(0,a.Z)((0,i.Z)({},t),{key:e}):t}))},onUpdateValue:function(e){return d((function(t){return t?(0,a.Z)((0,i.Z)({},t),{value:e}):t}))},onSave:function(){d(null),l.value&&l.key&&(l.value===t.value&&l.key===t.key||r(t.key,l))},onCancel:function(){return d(null)},onDelete:function(){return o(t.key)}}));var m=Boolean(h);return(0,u.BX)("div",{onClick:function(){m||d((0,i.Z)({},t))},className:"jsx-93c5849ae6790dea "+(v()("secret",H,{"is-editing":m})||""),children:[h||(0,u.BX)(y.Ug,{align:"center",justify:"space-between",wrap:"nowrap",className:H,children:[(0,u.BX)(y.Ug,{align:"center",justify:"start",wrap:"nowrap",className:J.className,children:[(0,u.tZ)(_.Z,{children:(0,u.tZ)(T.Z,{size:24})}),(0,u.tZ)(_.Z,{truncate:!0,children:t.key})]}),(0,u.tZ)("div",{className:"jsx-93c5849ae6790dea edit",children:(0,u.tZ)(_.Z,{children:(0,u.tZ)(C.Z,{size:16})})})]}),J.styles,(0,u.tZ)(f(),{id:"93c5849ae6790dea",children:".secret.jsx-93c5849ae6790dea{cursor:pointer;padding:var(--space-16)var(--space-16)var(--space-16)0;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8)}.secret.is-editing.jsx-93c5849ae6790dea{cursor:auto;padding:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.secret.jsx-93c5849ae6790dea:hover{background:var(--background-root)}.edit.jsx-93c5849ae6790dea{margin-left:var(--space-8);visibility:hidden}.secret.jsx-93c5849ae6790dea:hover .edit.jsx-93c5849ae6790dea{visibility:initial}.is-touch-device .edit.jsx-93c5849ae6790dea{visibility:initial}"})]})}function ee(e){var t=e.secrets,n=e.onUpdateSecret,r=e.onDeleteSecret;return(0,u.tZ)(y.gC,{spacing:1,align:"stretch",className:H,children:Object.keys(t).sort().map((function(e){return(0,u.tZ)($,{otherKeys:Object.keys(t).filter((function(t){return t!==e})),secret:{key:e,value:t[e]},onUpdateSecret:n,onDeleteSecret:r},e)}))})}function te(e){var t=e.secrets,n=e.language,r=e.activeFile,s=e.onInsertDone,l=(0,c.Z)(p.useState(Object.keys(t)[0]),2),d=l[0],f=l[1],h=(0,L.Z)(r),m=function(e,t){if(!e)return null;switch((0,G.r6)(e)){case"js":case"ts":case"jsx":case"tsx":return{import:null,access:"const mySecret = process.env['".concat(t,"']")};case"py":return{import:"import os",access:"my_secret = os.environ['".concat(t,"']")};case"go":return{import:'import "os"',access:'mySecret := os.Getenv("'.concat(t,'")')};case"java":case"scala":return{import:null,access:'System.getenv("'.concat(t,'")')};case"rb":return{import:null,access:'ENV["'.concat(t,'"]')};case"c":case"cpp":return{import:"#include <stdlib.h>",access:'char* mySecret = getenv("'.concat(t,'")')};case"cs":return{import:"using System;",access:'string mySecret = System.Environment.GetEnvironmentVariable("'.concat(t,'");')};case"sh":return{import:null,access:'"$'.concat(t,'"')};default:return null}}(r,d);return m&&h?(0,u.BX)(y.gC,{spacing:2,align:"stretch",className:H,children:[(0,u.BX)(_.Z,{children:["To use secrets in ",j().get(n).displayName]}),m.import?(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:6,truncate:!0,children:"1. Add the imports"}),(0,u.tZ)(_.Z,{tag:"pre",fontFamily:"monospace",className:re.className,truncate:!0,children:m.import}),(0,u.tZ)(y.Ug,{children:(0,u.BX)(Z.Z,{onClick:function(){h({code:m.import,insertAt:0}),(0,A.j)(W)},children:["Insert -",">"]})})]}):null,(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.BX)(E.Z,{level:6,truncate:!0,children:[m.import?"2. ":"","Access the secret by key as an environment variable"]}),(0,u.tZ)(N.Z,{respectMaxWidth:!0,items:Object.keys(t),onClick:function(e){f(e)},renderAnchorComponent:function(e){var t=e.innerRef,n=(0,o.Z)(e,["innerRef"]);return(0,u.tZ)(Z.Z,(0,a.Z)((0,i.Z)({ref:t},n),{Icon:P.Z,filled:!1,iconOnRight:!0,children:(0,u.tZ)(_.Z,{style:{maxWidth:"100px"},truncate:!0,children:d})}))},renderItemChildComponent:function(e){return(0,u.tZ)(_.Z,{truncate:!0,children:e})}}),(0,u.tZ)(_.Z,{tag:"pre",fontFamily:"monospace",className:re.className,truncate:!0,children:m.access}),(0,u.tZ)(y.Ug,{children:(0,u.BX)(Z.Z,{onClick:function(){h({code:m.access}),s&&s(),(0,A.j)(W)},children:["Insert -",">"]})})]}),re.styles]}):(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(_.Z,{children:"The secrets will be available in your Repl when you hit the run button as environment variables."}),h?null:(0,u.BX)(_.Z,{children:["Select a $",j().get(n).displayName," file to enable code inserter"]})]})}var ne,re={styles:(0,u.tZ)(f(),{id:"62380dc2f7e272ba",children:"*.jsx-62380dc2f7e272ba{padding:var(--space-8);background:var(--background-root)}"}),className:"jsx-62380dc2f7e272ba"};function ie(e){var t=e.language,n=e.secrets,r=e.activeFile,i=e.onAdd,a=e.onIntroDone,o=(0,c.Z)(p.useState(ne.What),2),s=o[0],l=o[1];return s===ne.What?(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:5,children:"What\u2019s this?"}),(0,u.tZ)(_.Z,{children:"Using this feature will allow you to hide secret information like passwords while still being able to use them in the Repl"}),(0,u.tZ)(y.Ug,{children:(0,u.tZ)(Z.Z,{filled:!0,color:"primary",onClick:function(){return l(ne.Add)},children:"Got it"})})]}):s===ne.Add?(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:5,children:"Add your first secret!"}),(0,u.tZ)(_.Z,{children:'The "key" is what you will use in the code itself and will be visible to everyone'}),(0,u.tZ)(_.Z,{children:'The "value" is where you put the private or secret text, hit shift+enter to add new lines'}),(0,u.tZ)(Y,{onAdd:function(e){i(e),l(ne.Use)},otherKeys:Object.keys(n)}),(0,u.tZ)(Z.Z,{onClick:function(){var e=Object.keys(n).length>0?ne.Use:ne.End;l(e),(0,A.j)(M,{step:ne.Add})},children:"Skip this step"})]}):s===ne.Use?(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:5,children:"Now let\u2019s use it in the Repl."}),(0,u.tZ)(te,{secrets:n,language:t,onInsertDone:function(){return l(ne.End)},activeFile:r}),(0,u.tZ)(Z.Z,{onClick:function(){l(ne.End),(0,A.j)(M,{step:ne.Use})},children:"Skip this step"})]}):(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(_.Z,{children:"You\u2019re all set. You can add as many secrets as you want, we promise to keep them safe."}),(0,u.BX)(_.Z,{children:["You can always"," ",(0,u.tZ)("a",{href:"https://docs.replit.com/programming-ide/storing-sensitive-information-environment-variables",target:"_blank",children:"visit our docs"})," ","for more information."]}),(0,u.tZ)(_.Z,{children:"Please note, that people you invite as multiplayer collaborators will have access to these secrets."}),(0,u.tZ)(Z.Z,{onClick:a,children:"Got it"})]})}function ae(e){var t=e.secrets,n=e.update,i=(0,c.Z)(p.useState(!1),2),a=i[0],o=i[1],s=(0,c.Z)(p.useState(""),2),d=s[0],m=s[1],v=(0,c.Z)(p.useState(!1),2),g=v[0],b=v[1],x=(0,c.Z)(p.useState(!1),2),w=x[0],k=x[1],C=p.useRef(null),S=function(){var e=(0,r.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),t=function(){k(!0),b(!1),(0,A.j)(F,{action:"rawEditorUpdatedError"}),C.current&&C.current.focus()},e.prev=3,r=JSON.parse(d),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(3),t(),e.abrupt("return");case 11:if("object"===typeof r&&Object.getPrototypeOf(r)===Object.prototype&&!Object.values(r).some((function(e){return"string"!==typeof e}))&&!Object.keys(r).some((function(e){return"string"!==typeof e}))){e.next=14;break}return t(),e.abrupt("return");case 14:return e.prev=14,e.next=17,n(r);case 17:e.next=24;break;case 19:return e.prev=19,e.t1=e.catch(14),h.Tb(e.t1),t(),e.abrupt("return");case 24:o(!1),b(!1),(0,A.j)(F,{action:"rawEditorUpdated"});case 27:case"end":return e.stop()}}),e,null,[[3,7],[14,19]])})));return function(){return e.apply(this,arguments)}}();return p.useEffect((function(){k(!1)}),[d]),p.useEffect((function(){0!==Object.keys(t).length?m(JSON.stringify(t,null,2)):m("{\n}")}),[t]),(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:5,children:"Edit raw JSON (Advanced)"}),(0,u.tZ)(Z.Z,{onClick:function(){(0,A.j)(F,{action:"rawEditorOpened"}),o(!0)},children:"Open raw editor"}),(0,u.tZ)(z.Z,{isOpen:a,preventClose:g,onRequestClose:function(){return o(!1)},children:(0,u.BX)("div",{className:"jsx-47d637c4b0043f26 content",children:[(0,u.BX)(y.gC,{spacing:2,align:"stretch",children:[(0,u.tZ)(E.Z,{level:4,children:"Raw Secrets Editor"}),(0,u.tZ)(_.Z,{children:"The text must be valid JSON object with keys and values as strings"}),(0,u.tZ)(B.Z,{ref:C,disabled:g,value:d,onChange:function(e){m(e.currentTarget.value)},validationResults:w?[{message:"Invalid input. Please make sure the data is valid JSON and all keys and values are strings.",state:"error"}]:void 0}),(0,u.BX)(y.Ug,{spacing:2,justify:"end",children:[(0,u.tZ)(Z.Z,{disabled:g,onClick:function(){return o(!1)},children:"Cancel"}),(0,u.tZ)(Z.Z,{loading:g,color:"primary",onClick:S,children:"Save"})]})]}),(0,u.tZ)(f(),{id:"47d637c4b0043f26",children:".content.jsx-47d637c4b0043f26{height:100%;width:100%;padding:var(--space-24)}.editable-area.jsx-47d637c4b0043f26{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor.jsx-47d637c4b0043f26{height:150px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.collapse.jsx-47d637c4b0043f26{cursor:pointer}"})]})})]})}function oe(e,t){var n=(0,i.Z)({},e);return"add"===t.type?n[t.key]=t.value:"update"===t.type?(delete n[t.oldKey],n[t.key]=t.value):delete n[t.key],n}function ce(e){var t,n=e.fs,o=e.activeFile,s=(0,k.Z)(),d=(0,c.Z)(p.useState(null),2),f=d[0],h=d[1],m=(0,D.eYX)(),v=m.data,Z=m.loading,w=m.updateQuery,_=(0,c.Z)((0,D.e_)(),1)[0],C=(0,R.Z)();p.useEffect((function(){(0,A.Cn)(X),S.Z.set("enveditortour",!0)}),[]),p.useEffect((function(){function e(){return(e=(0,r.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.readFile(".env");case 2:if((t=e.sent).error!==g.Df.NotFound){e.next=6;break}return s.current&&h({}),e.abrupt("return");case 6:if(!t.error){e.next=8;break}throw new Error("Error getting .env");case 8:if(s.current){e.next=10;break}return e.abrupt("return");case 10:r=x.Z.parse(t.content.toString()),h(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,h,s]);var T=p.useRef(null),I=p.useRef([]),j=function(){var e=(0,r.Z)(l().mark((function e(t){var r,i,a,o,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}throw new Error("trying to write secrets before loading");case 2:return r=oe(f,t),h(r),I.current.push(t),i=Math.random(),T.current=i,e.next=10,n.readFile(".env");case 10:if(o=e.sent,T.current===i){e.next=13;break}return e.abrupt("return");case 13:return o.error?a=r:(a=x.Z.parse(o.content.toString()),I.current.forEach((function(e){a=oe(a,e)})),h(a)),I.current=[],c=x.Z.serialize(a),e.next=18,n.writeFile(".env",b.Z.from(c));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,A.j)(F,{action:"created",multiline:t.value.includes("\n")}),j((0,i.Z)({type:"add"},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,r.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,A.j)(F,{action:"updated",multiline:n.value.includes("\n")}),j((0,i.Z)({type:"update",oldKey:t},n));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,A.j)(F,{action:"deleted"}),j({type:"delete",key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Z||!f||!C)return(0,u.tZ)(y.ZP,{align:"stretch",justify:"center",children:(0,u.tZ)(U.Z,{})});if(null===v||void 0===v||null===(t=v.currentUser)||void 0===t?void 0:t.seenIntro){var z=Object.keys(f);return(0,u.BX)(u.HY,{children:[(0,u.tZ)(ee,{secrets:f,onUpdateSecret:P,onDeleteSecret:B}),(0,u.tZ)("div",{children:(0,u.tZ)(Y,{onAdd:N,otherKeys:z})}),z.length>0?(0,u.BX)(u.HY,{children:[(0,u.tZ)(O.Z,{size:2}),(0,u.BX)(y.gC,{spacing:1,align:"stretch",className:H,children:[(0,u.tZ)(E.Z,{level:5,children:"Use secrets in the Repl"}),(0,u.tZ)(te,{secrets:f,language:C.language,activeFile:o})]})]}):null,(0,u.tZ)(O.Z,{size:2}),(0,u.tZ)(ae,{secrets:f,update:function(){var e=(0,r.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),r=x.Z.serialize(t),e.next=4,n.writeFile(".env",b.Z.from(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}return(0,u.tZ)(ie,{secrets:f,onAdd:N,activeFile:o,language:C.language,onIntroDone:function(){_(),w((function(e){return e.currentUser?(0,a.Z)((0,i.Z)({},e),{currentUser:(0,a.Z)((0,i.Z)({},e.currentUser),{seenIntro:!0})}):e}))}})}!function(e){e.What="What",e.Add="Add",e.Use="Use",e.End="End"}(ne||(ne={}))},18935:function(e,t,n){var r=n(35944),i=n(67294),a=n(41664),o=n.n(a),c=n(86292),s=n(42839),l=n(40403),u=n(15335),d=n(99408),f=n(65456),p=n(5783),h=n(81255),m=n(1144),v=n(69346),g=n(70917),b=n(29163),x=n(9838),y=(0,g.F4)("0%,100%{opacity:1;}50%{opacity:0.25;}");function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";(0,c.j)(c.U3.HISTORY_USED,{action:"historyOpened",which:e})}var w=function(e){var t,n,i=e.repl,a=e.isSaving,c=(0,x.c)("flag-rollout-history-2").enabled?"2":"1",s={1:{href:{pathname:"/replHistory",query:{slug:i.slug}},as:"".concat(i.url,"/history")},2:{href:"".concat(i.url,"/history2")+(null!==(t=window.location.hash)&&void 0!==t?t:""),as:"".concat(i.url,"/history2")+(null!==(n=window.location.hash)&&void 0!==n?n:"")}}[c];return(0,r.tZ)(o(),{prefetch:!1,href:s.href,as:s.as,children:(0,r.tZ)("a",{role:"button",tabIndex:0,onClick:function(){return Z(c)},onKeyDown:function(){return Z(c)},children:(0,r.tZ)(v.Z,{css:[h.l0.flex.row,h.l0.align.center,h.l0.color.foregroundDefault,a?(0,g.iv)({animation:"".concat(y," 2s infinite")}):null],children:(0,r.tZ)(b.Z,{size:28,alt:"Repl history",children:(0,r.tZ)(l.Z,{})})})})})},k=(0,g.iv)({color:h.TV.accentNegativeDefault}),E=function(){return(0,r.BX)(v.Z,{css:[h.l0.flex.row],children:[(0,r.tZ)(b.Z,{size:18,disabled:!0,alt:"Reconnecting, changes will be synced when you\u2019re online",css:[k],children:(0,r.tZ)(s.CloudOff,{})}),(0,r.tZ)(m.x,{css:[(0,g.iv)({"@media (hover: hover)":{display:"none"}}),h.l0.pl(4),k],children:"Offline"})]})};t.Z=function(e){var t=e.canEdit,n=e.repl,a=function(){var e=(0,d.Z)().fs,t=(0,i.useState)(!1),n=t[0],r=t[1],a=(0,u.Z)(),o=(0,i.useState)(!1),c=o[0],s=o[1];return(0,i.useEffect)((function(){a===p.e.CONNECTED&&s(!0)}),[a]),(0,i.useEffect)((function(){return r(e.getStatus()===f.kO.Syncing),e.onStatusChange((function(e){r(e===f.kO.Syncing)}))}),[e]),c?{isSaving:n,isOffline:a!==p.e.CONNECTED}:{isSaving:!1,isOffline:!1}}(),o=a.isSaving,c=a.isOffline;return t?(0,r.tZ)(v.Z,{css:[h.l0.flex.row,h.l0.align.center,h.l0.height("100%")],children:c?(0,r.tZ)(E,{}):(0,r.tZ)(w,{isSaving:o,repl:n})}):null}},22942:function(e,t,n){n.d(t,{Z:function(){return te}});var r=n(35944),i=n(40705),a=n(26042),o=n(69396),c=n(99534),s=n(10253),l=n(60536),u=n.n(l),d=n(67294),f=n(94184),p=n.n(f),h=n(67629),m=n(24888),v=n(33773),g=n(99408),b=n(6951),x=n(6625),y=n(49108),Z=n(47568),w=n(34051),k=n.n(w),E=n(86292);function _(e,t){return t.some((function(t){var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}))}var C=n(92876),S=n(24351);function T(e){var t=e.searchPackagesFn,n=e.query,r=e.packagerType,i=(0,d.useState)([]),a=i[0],o=i[1],c=(0,d.useState)(),s=c[0],l=c[1],u=(0,d.useState)(!1),f=u[0],p=u[1],h=(0,S.Z)(n,400);return(0,d.useEffect)((function(){if(l(null),""===h)return p(!1),void o([]);p(!0),(0,E.j)(E.U3.PACKAGE_MANAGER_USED,{action:"searched",query:h,packagerType:r});var e=!1;return t(h).then((function(t){e||o(t)})).catch((function(t){C.Tb(t),e||l(t)})).finally((function(){e||p(!1)})),function(){e=!0}}),[t,h,r]),{searchResults:a,isLoading:f,error:s}}var I=n(87653);function j(e){var t=e.combobox,n=e.inputValue,i=e.setInputValue,c=e.isLoading,l=e.isDisplayingInstalledPackages,f=(0,s.Z)(d.useState(!1),2),h=f[0],m=f[1];return(0,r.BX)("div",(0,o.Z)((0,a.Z)({},t.getComboboxProps()),{className:"jsx-2d4a219fe90c6295 "+(p()("pkgsearch-search-bar",{focused:h})||""),children:[(0,r.tZ)("input",(0,o.Z)((0,a.Z)({},t.getInputProps({type:"text",placeholder:"search to install packages",value:n,onFocus:function(){m(!0)},onBlur:function(){m(!1)},onChange:function(e){i(e.currentTarget.value)},autoFocus:!0})),{className:"jsx-2d4a219fe90c6295"})),(0,r.tZ)("div",{className:"jsx-2d4a219fe90c6295 pkgsearch-search-bar-icon",children:(0,r.tZ)(R,{onXIcon:function(){return i("")},isDisplayingInstalledPackages:l,isSearchLoading:c})}),(0,r.tZ)(u(),{id:"2d4a219fe90c6295",children:".pkgsearch-search-bar.jsx-2d4a219fe90c6295{width:-webkit-calc(100% - 24px);width:-moz-calc(100% - 24px);width:calc(100% - 24px);margin:0 12px 12px 12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--foreground-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.pkgsearch-search-bar.focused.jsx-2d4a219fe90c6295{border-color:var(--accent-primary-default)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-webkit-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295:-moz-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-moz-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295:-ms-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-ms-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295{padding:var(--space-8);font-size:var(--font-size-default);border:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;background-color:transparent;color:var(--foreground-default)}.pkgsearch-search-bar-icon.jsx-2d4a219fe90c6295{padding-right:var(--space-8);margin-right:8px;width:14px;height:14px;vertical-align:middle}"})]}))}function R(e){var t=e.isDisplayingInstalledPackages,n=e.isSearchLoading,i=e.onXIcon;return n?(0,r.BX)("div",{className:"jsx-72a78eaf553adb92",children:[(0,r.tZ)("div",{className:"jsx-72a78eaf553adb92 pkgsearch-search-loading"}),(0,r.tZ)(u(),{id:"72a78eaf553adb92",children:".pkgsearch-search-loading.jsx-72a78eaf553adb92{display:block;width:14px!important;height:14px!important;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain}"})]}):t?(0,r.tZ)(I.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}):(0,r.BX)("div",{onClick:i,className:"jsx-a8c1e8780f7b9ee0",children:[(0,r.tZ)(h.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}),(0,r.tZ)(u(),{id:"a8c1e8780f7b9ee0",children:"div.jsx-a8c1e8780f7b9ee0{cursor:pointer}"})]})}var N=n(92002),P=n(57704),D=n(77365);function B(e){var t=e.focused,n=e.searching,i=e.onActionClick,a=e.actionAltText,o=e.isAlreadyInstalled,c=e.isPackagerRunning,l=e.isIconLoading,f=e.statusComponent,h=e.itemName,m=e.itemDescription,g=void 0===m?"This package has no description.":m,x=e.itemVersion,y=e.itemHomepageURL,Z=e.itemLicense,w=e.itemAuthor,k=e.itemDependencies,E=(0,s.Z)(d.useState(!1),2),_=E[0],C=E[1];return(0,r.BX)("div",{className:"jsx-209430e794998c42 "+(p()("pkgsearch-details",t&&"pkgsearch-details-hover")||""),children:[(0,r.BX)("div",{className:"jsx-209430e794998c42 pkgsearch-details-header",children:[(0,r.BX)("div",{onClick:function(){return C(!_)},className:"jsx-209430e794998c42 pkgsearch-details-header-title",children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-libname",children:h}),x&&!_&&!n&&(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-header-version",children:x}),_&&(0,r.tZ)(b.Z,{border:!1,className:"collapse",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Collapse","data-microtip-position":"bottom",role:"tooltip",onClick:function(){return C(!_)},children:(0,r.tZ)(v.Z,{})})]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-cta",children:(0,r.tZ)(b.Z,{border:!1,"aria-label":a,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","data-microtip-position":"bottom-left",role:"tooltip",onClick:function(e){e.currentTarget.blur(),i()},children:(0,r.tZ)(O,{isAlreadyInstalled:o,isPackagerRunning:c,isIconLoading:l})})})]}),f,(0,r.BX)("div",{className:"jsx-209430e794998c42 pkgsearch-details-metadata",children:[(0,r.BX)("div",{onClick:function(){n&&!_&&C(!0)},className:"jsx-209430e794998c42 "+("details-meta-item "+(_?"":"closed ")+(n?"show-in-search ":"")||0),children:[x&&(0,r.BX)("div",{className:"jsx-209430e794998c42 label",children:["version ",x]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:c&&!g?"loading...":g})]}),y&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(_?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"Website"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:(0,r.tZ)("a",{href:y,rel:"noreferer noopener",target:"_blank",className:"jsx-209430e794998c42",children:y})})]}),Z&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(_?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"License"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:Z})]}),w&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(_?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"Author"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:w})]}),k&&k.length>0?(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item pkgsearch-details-deps"+(_?"":"closed ")||0),children:[(0,r.BX)("div",{className:"jsx-209430e794998c42 label",children:[k.length," dependencies"]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:(0,r.tZ)("ul",{className:"jsx-209430e794998c42 pkgsearch-details-deps-list",children:k.map((function(e){return(0,r.tZ)("li",{className:"jsx-209430e794998c42",children:e},e||"")}))})})]}):null]}),(0,r.tZ)(u(),{id:"209430e794998c42",children:".pkgsearch-details.jsx-209430e794998c42{padding:var(--space-8)var(--space-8)var(--space-8)12px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:visible;color:var(--foreground-dimmer);cursor:pointer;border-top:1px solid var(--background-highest);position:relative}.pkgsearch-details-hover.jsx-209430e794998c42{z-index:99}.pkgsearch-details-header.jsx-209430e794998c42{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.pkgsearch-details-header-title.jsx-209430e794998c42{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:2;-webkit-flex-grow:2;-moz-box-flex:2;-ms-flex-positive:2;flex-grow:2;height:32px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.pkgsearch-details-libname.jsx-209430e794998c42{color:var(--foreground-default);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);word-wrap:break-word}.pkgsearch-details-header-version.jsx-209430e794998c42{padding-left:4px;vertical-align:text-bottom;color:var(--foreground-dimmer);font-size:var(--font-size-small)}.pkgsearch-details-metadata.jsx-209430e794998c42:not(:empty){}.details-meta-item.jsx-209430e794998c42{padding:var(--space-8)0;width:100%}.details-meta-item.closed.jsx-209430e794998c42{display:none}.details-meta-item.closed.show-in-search.jsx-209430e794998c42{display:block;padding:var(--space-8)0}.details-meta-item.jsx-209430e794998c42 .label.jsx-209430e794998c42{margin-bottom:4px;color:var(--foreground-dimmer);font-size:var(--font-size-small)}.details-meta-item.jsx-209430e794998c42 .value.jsx-209430e794998c42{line-height:20px;word-wrap:break-word;font-size:var(--font-size-default);color:var(--foreground-default);overflow:hidden}.pkgsearch-details-deps-list.jsx-209430e794998c42{list-style:none}.pkgsearch-search-result-li.jsx-209430e794998c42{overflow:visible;position:relative;z-index:99}"})]})}function O(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled;return e.isIconLoading?(0,r.BX)("div",{className:"jsx-465bfe593a07b572 loadingIconRotate",children:[(0,r.tZ)(D.Z,{}),(0,r.tZ)(u(),{id:"465bfe593a07b572",children:".loadingIconRotate.jsx-465bfe593a07b572{-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-o-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes rotate{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):n?t?(0,r.tZ)(P.Z,{color:"var(--foreground-dimmest)"}):(0,r.tZ)(P.Z,{}):t?(0,r.tZ)(N.Z,{color:"var(--foreground-dimmest)"}):(0,r.tZ)(N.Z,{})}var A=n(96594),z=n(87251),U=n(69346),L=n(81255);function G(e){var t=e.filesAffected,n=(0,s.Z)(d.useState(""),2),i=n[0],c=n[1],l=(0,g.Z)(),f=l.packager,p=l.session,h=function(e){var t=e.packager,n=(0,s.Z)(d.useState(!1),2),r=n[0],i=n[1],a=(0,s.Z)(d.useState(!1),2),o=a[0],c=a[1],l=(0,s.Z)(d.useState("package name"),2),u=l[0],f=l[1],p=(0,s.Z)(d.useState([]),2),h=p[0],m=p[1];d.useEffect((function(){i(!0);var e=!1;return t.listSpecfile().then((function(t){e||(t.error?m([]):t.packages&&m(t.packages),i(!1))})),function(){e=!0}}),[t]);var v=d.useCallback(function(){var e=(0,Z.Z)(k().mark((function e(n){var a,o,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if((0,E.j)(E.U3.PACKAGE_MANAGER_USED,{action:"installed",packageId:n.name}),n.name){e.next=5;break}throw new Error("Package has no name");case 5:if(!_(n,h)){e.next=7;break}return e.abrupt("return");case 7:return i(!0),e.next=10,t.addPackages([{name:n.name}]);case 10:return e.next=12,t.listSpecfile();case 12:a=e.sent,o=a.packages,c=a.error,o&&m(o),c&&m([]),i(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,h,r]),g=d.useCallback(function(){var e=(0,Z.Z)(k().mark((function e(n){var a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if(n.name){e.next=4;break}return e.abrupt("return");case 4:if(_(n,h)){e.next=6;break}return e.abrupt("return");case 6:return(0,E.j)(E.U3.PACKAGE_MANAGER_USED,{action:"removed",packageId:n.name}),i(!0),e.next=10,t.removePackages([n.name]);case 10:return e.next=12,t.listSpecfile();case 12:a=e.sent,o=a.packages,s=a.error,o&&(m(o),c(!0),f(n.name)),s&&m([]),i(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,h,r]),b=d.useCallback((function(e){return _(e,h)}),[h]);return{install:v,uninstall:g,installedPackages:h,isInstalled:b,isRunning:r,showDeletedTooltip:o,packageDeletedName:u,setDeletedTooltip:c}}({packager:f}),v=T({searchPackagesFn:f.searchPackages,query:i,packagerType:"upm"}),x=v.searchResults,w=v.isLoading,C=""===i,S=C?h.installedPackages:x,I=(0,A.Kb)({inputValue:i,items:S,defaultHighlightedIndex:0,itemToString:function(e){return(null===e||void 0===e?void 0:e.name)?e.name:""}}),R=(0,y.Z)("packager","show_packager_about_tooltip"),N=R.shouldDisplay,P=R.register,D=R.dismiss;d.useEffect((function(){P()}),[P]);var B=(0,y.Z)("packager","show_packager_import_tooltip"),O=B.shouldDisplay,G=B.register,M=B.dismiss;d.useEffect((function(){G()}),[G]);return(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde pkgsearch-search",children:[(0,r.tZ)(j,{combobox:I,inputValue:i,setInputValue:c,isLoading:w,isDisplayingInstalledPackages:C}),h.showDeletedTooltip&&(0,r.tZ)(U.Z,{css:L.l0.p(8),children:(0,r.tZ)(z.Z,{colorway:"positive",closable:!0,closeAction:function(){return h.setDeletedTooltip(!1)},text:"Uninstalled "+h.packageDeletedName+"."})}),(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde pkgsearch-installed-header",children:[w?"Working\u2026":C?0===S.length?"No packages installed.":"Installed packages":""!==i?0===S.length?"No packages found":S.length+" packages found":" ",C&&S.length>0&&t.length>0&&(0,r.tZ)(b.Z,{border:!1,Icon:m.Z,className:"package-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Open "+t[0],"data-microtip-position":"bottom-left",role:"tooltip",onClick:function(){p.openFile(t[0])}})]}),C&&0===S.length&&(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde no-packages-text",children:["You don\u2019t have any packages installed. Try searching for a package to install, or ","",(0,r.tZ)("a",{href:"https://docs.replit.com/programming-ide/installing-packages",className:"jsx-97a1ea8580a20cde",children:"learn more about packages here."})]}),(0,r.tZ)("div",(0,o.Z)((0,a.Z)({},I.getMenuProps()),{className:"jsx-97a1ea8580a20cde",children:S.length>0&&(0,r.tZ)("ul",{className:"jsx-97a1ea8580a20cde "+("pkgsearch-search-result "+(!C&&"pkgsearch-search-result-searching")||0),children:S.map((function(e,n){return(0,r.tZ)("li",(0,o.Z)((0,a.Z)({},I.getItemProps({item:e,index:n})),{className:"jsx-97a1ea8580a20cde",children:(0,r.tZ)(X,{packager:f,pkg:e,filesAffected:t,focused:I.highlightedIndex===n,searching:!C,isPackagerRunning:h.isRunning,isAlreadyInstalled:h.isInstalled(e),installPackage:h.install,uninstallPackage:h.uninstall})}),e.name||"Unknown"+n)}))})})),N&&""===i&&(0,r.BX)(F,{title:"What are Packages?",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return D()},children:["Packages are collections of code that can extend the functionality of your programs. For example, you could add a package to make adding image carousels easier on websites, or a package to manage currency comparisons."," ",(0,r.tZ)("a",{href:"https://docs.replit.com/programming-ide/installing-packages",className:"jsx-97a1ea8580a20cde",children:"Learn more about packages"})]}),C&&O&&""===i&&(0,r.tZ)(F,{title:"Tip\u2014Auto Import",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return M()},children:"If you know which packages you want to use, you can just import and use them in your files as if they were already installed, and they will be installed automatically the next time you run the repl."}),(0,r.tZ)(u(),{id:"97a1ea8580a20cde",children:".pkgsearch-search.jsx-97a1ea8580a20cde{position:relative;width:100%;height:100%;overflow-y:scroll;min-height:0;color:var(--foreground-default)}.no-packages-text.jsx-97a1ea8580a20cde{margin:0 12px;font-size:var(--font-size-default);line-height:20px}.pkgsearch-installed-header.jsx-97a1ea8580a20cde{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0px var(--space-8)12px 12px;font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-medium)}.pkgsearch-search-result.jsx-97a1ea8580a20cde{list-style:none;position:relative;overflow:visible;z-index:2;border-bottom:1px solid var(--background-highest);-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-height:0}.pkgsearch-search-result-searching.jsx-97a1ea8580a20cde{overflow:scroll}"})]})}function X(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled,i=e.installPackage,a=e.uninstallPackage,o=e.packager,l=e.focused,u=e.searching,f=e.filesAffected,p=(0,c.Z)(e,["isPackagerRunning","isAlreadyInstalled","installPackage","uninstallPackage","packager","focused","searching","filesAffected"]),h=function(e){var t=e.packager,n=e.pkg,r=(0,s.Z)(d.useState(!1),2),i=r[0],a=r[1],o=(0,s.Z)(d.useState(null),2),c=o[0],l=o[1];return d.useEffect((function(){if(n.name){var e=!1;return t.fetchPackageInfo(n.name).then((function(t){e||(l(t||null),a(!1))})),function(){e=!0}}l(null)}),[t,n.name]),{isLoading:i,packageInfo:c}}({packager:o,pkg:p.pkg}).packageInfo,m=(0,x.Z)(),v=(0,s.Z)(d.useState(!1),2),g=v[0],b=v[1],y=(0,s.Z)(d.useState(!1),2),Z=y[0],w=y[1],k=h||p.pkg,E=function(){if(t)return{colorway:void 0,text:"Packager is working on "+k.name+". Check the Console tab for details",status:"Working\u2026"};if(n){var e=f[0];return{colorway:"positive",text:"".concat(k.name," was successfully installed").concat(e?" to ".concat(e):""),status:"Remove Package"}}return{colorway:"negative",text:k.name+" was not installed. There may have been an error \u2014\xa0check the Console tab for details.",status:"Install Package"}},_=Z?(0,r.tZ)(z.Z,{colorway:E().colorway,closable:!0,closeAction:function(){return w(!1)},text:E().text}):null,C="dependencies"in k&&k.dependencies&&k.dependencies.length>0?k.dependencies.map((function(e){return e.name})):null;return(0,r.tZ)(B,{focused:l,searching:u,onActionClick:function(){t||(w(!0),b(!0),n?a(k).then((function(){m.current&&(b(!1),w(!1))})):i(k).then((function(){m.current&&(b(!1),w(!0))})))},actionAltText:E().status,isAlreadyInstalled:n,isPackagerRunning:t,isIconLoading:g,statusComponent:_,itemName:k.name,itemDescription:k.description,itemVersion:k.version,itemHomepageURL:k.homepageURL,itemLicense:k.license,itemAuthor:k.author,itemDependencies:C})}function F(e){var t=e.title,n=e.children,i=e.expanded,a=e.expandable,o=e.needsMargin,c=e.backgroundColor,l=e.strokeColor,f=e.foregroundColor,m=e.onClose,g=(0,s.Z)(d.useState(i),2),b=g[0],x=g[1];return(0,r.BX)("div",{style:{backgroundColor:c},className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" "+(p()("pkgsearch-tooltip",o&&"needs-margin")||""),children:[(0,r.BX)("div",{className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" pkgsearch-tooltip-header",children:[(0,r.BX)("div",{onClick:function(){a&&x(!b)},className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" "+(p()("pkgsearch-tooltip-title",a&&"expandable")||""),children:[(0,r.tZ)("span",{className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" pkgsearch-tooltip-title-text",children:t}),a&&(0,r.tZ)(v.Z,{color:f,rotate:b?0:-90})]}),(0,r.tZ)("div",{className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" pkgsearch-tooltip-close",children:(0,r.tZ)(h.Z,{onClick:m,color:f})})]}),b&&(0,r.tZ)("p",{className:u().dynamic([["e80852547c20a24e",[l,f,f]]])+" pkgsearch-tooltip-content",children:n}),(0,r.tZ)(u(),{id:"e80852547c20a24e",dynamic:[l,f,f],children:".pkgsearch-tooltip.__jsx-style-dynamic-selector{-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:-webkit-calc(100%);width:-moz-calc(100%);width:calc(100%);padding:var(--space-8);margin:var(--space-4)0;border:1px solid ".concat(l,"}.pkgsearch-tooltip.needs-margin.__jsx-style-dynamic-selector{width:-webkit-calc(100% - 24px);width:-moz-calc(100% - 24px);width:calc(100% - 24px);margin:12px}.pkgsearch-tooltip-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:top;-webkit-align-items:top;-moz-box-align:top;-ms-flex-align:top;align-items:top}.pkgsearch-tooltip-title.__jsx-style-dynamic-selector{font-size:var(--font-size-small);font-weight:var(--font-weight-medium);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;opacity:.85}.expandable.__jsx-style-dynamic-selector{cursor:pointer}.pkgsearch-tooltip-title-text.__jsx-style-dynamic-selector{padding-right:4px;color:").concat(f,"}.pkgsearch-tooltip-close.__jsx-style-dynamic-selector{cursor:pointer;opacity:.7;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-left:8px}.pkgsearch-tooltip-content.__jsx-style-dynamic-selector:not(:empty){padding-top:var(--space-8);line-height:20px;font-size:var(--font-size-default);color:").concat(f,";opacity:.85}")})]})}var M,W=n(54098),H=n.n(W),V=n(65456),q="index.html";function K(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,Z.Z)(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H()("/data/cdnjs/search/".concat(encodeURIComponent(t)),{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return J=(0,Z.Z)(k().mark((function e(t){var n,r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fs,r=t.session,i=t.lib,e.abrupt("return",new Promise(function(){var e=(0,Z.Z)(k().mark((function e(t){var a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.stat(q);case 2:if(e.sent.exists){e.next=5;break}return e.abrupt("return",t(M.IndexNotFound));case 5:a=n.watchOtFile(q,{onReady:function(e){var o=e.initialContent,c=e.writeOp;if(!i.include)return a(),void t(M.InvalidLib);var s='<script src="'.concat(i.include,'"><\/script>'),l=o.toString("utf8"),u=!0,d=!1,f=void 0;try{for(var p,h=l.split("\n")[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){if(p.value.includes(s))return a(),void t(M.AlreadyInstalled)}}catch(g){d=!0,f=g}finally{try{u||null==h.return||h.return()}finally{if(d)throw f}}var m=l.indexOf("<script");-1===m&&(m=l.indexOf("</body>"));var v=[s+"\n"];m>0&&v.unshift(m),c(v),n.flush().then((function(){t(M.Success)})).catch((function(){t(M.UnknownError)})).finally((function(){a(),r.openFile(q)}))},onError:function(e){t(e.code===V.Df.NotFound?M.IndexNotFound:M.UnknownError)}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function $(){var e=(0,g.Z)(),t=e.fs,n=e.session,i=(0,d.useState)(""),c=i[0],s=i[1],l=(0,d.useState)(!1),f=l[0],p=l[1],h=T({searchPackagesFn:K,query:c,packagerType:"html"}),m=h.searchResults,v=h.isLoading,b=h.error,x=(0,A.Kb)({inputValue:c,items:m,defaultHighlightedIndex:0,itemToString:function(e){return(null===e||void 0===e?void 0:e.name)?e.name:""}});return(0,r.BX)("div",{className:"jsx-cccac1ca9eaa7559 pkgsearch-search",children:[(0,r.tZ)(j,{combobox:x,inputValue:c,setInputValue:s,isLoading:v,isDisplayingInstalledPackages:!0}),(0,r.tZ)("div",{className:"jsx-cccac1ca9eaa7559 pkgsearch-installed-header",children:v?"Working\u2026":""!==c?b?"Sorry, there was a problem searching. Try again.":0===m.length?"No packages found":m.length+" packages found":" "}),(0,r.tZ)("div",(0,o.Z)((0,a.Z)({},x.getMenuProps()),{className:"jsx-cccac1ca9eaa7559",children:m.length>0&&(0,r.tZ)("ul",{className:"jsx-cccac1ca9eaa7559 pkgsearch-search-result pkgsearch-search-result-searching",children:m.map((function(e,i){return(0,r.tZ)("li",(0,o.Z)((0,a.Z)({},x.getItemProps({key:e.name||"Unknown"+i,item:e,index:i})),{className:"jsx-cccac1ca9eaa7559",children:(0,r.tZ)(ee,{lib:e,focused:x.highlightedIndex===i,install:(0,Z.Z)(k().mark((function r(){return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return p(!0),r.abrupt("return",Y({fs:t,session:n,lib:e}).finally((function(){p(!1)})));case 2:case"end":return r.stop()}}),r)}))),isInstalling:f})}))}))})})),(0,r.tZ)(u(),{id:"cccac1ca9eaa7559",children:".pkgsearch-search.jsx-cccac1ca9eaa7559{position:relative;width:100%;height:100%;overflow-y:scroll;min-height:0;color:var(--foreground-default)}.pkgsearch-installed-header.jsx-cccac1ca9eaa7559{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0px var(--space-8)12px 12px;font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-medium)}.pkgsearch-search-result.jsx-cccac1ca9eaa7559{list-style:none;position:relative;overflow:visible;z-index:2;border-bottom:1px solid var(--background-highest);-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-height:0}.pkgsearch-search-result-searching.jsx-cccac1ca9eaa7559{overflow:scroll}"})]})}function ee(e){var t=e.lib,n=e.focused,i=e.install,a=e.isInstalling,o=(0,d.useState)(null),c=o[0],s=o[1],l=(0,d.useState)(!1),u=l[0],f=l[1],p=(0,x.Z)(),h=c?(0,r.tZ)("div",{children:c}):null;return(0,r.tZ)(B,{focused:n,searching:!0,onActionClick:function(){a||u||(f(!0),i(t).then((function(e){p.current&&(e===M.Success?s("".concat(t.name," was successfully added to index.html")):e===M.IndexNotFound?s("".concat(t.name," was not added. There is no index.html file.")):e===M.AlreadyInstalled?s("".concat(t.name," was already added to index.html.")):s("".concat(t.name," was not added. Try adding it manually.")))})).catch((function(e){C.Tb(e),p.current&&s("".concat(t.name," was not added. Try adding it manually."))})).finally((function(){f(!1)})))},actionAltText:"Add Library",isAlreadyInstalled:!1,isPackagerRunning:a,isIconLoading:u,statusComponent:h,itemName:t.name,itemDescription:t.description,itemVersion:t.version,itemHomepageURL:t.link})}function te(){var e=(0,i.x)();return e?"html"===e.language?(0,r.tZ)($,{}):(0,r.tZ)(G,{filesAffected:e.packagerFiles}):null}!function(e){e[e.Success=0]="Success",e[e.IndexNotFound=1]="IndexNotFound",e[e.AlreadyInstalled=2]="AlreadyInstalled",e[e.InvalidLib=3]="InvalidLib",e[e.UnknownError=4]="UnknownError"}(M||(M={}))},40705:function(e,t,n){n.d(t,{x:function(){return v}});var r=n(26042),i=n(69396),a=n(67294),o=n(62991),c=n.n(o),s=n(36077),l=n.n(s),u=n(2916),d=n(25497),f=n(99408),p={nodejs:["package.json","package-lock.json","yarn.lock","node_modules"],python:["poetry.lock","pyproject.toml","requirements.txt",".venv/",".local"],ruby:["Gemfile","Gemfile.lock"],java:["pom.xml","target"]};function h(e){return["python3_classroom","python3_classroom_beta","python3","python3_beta","pygame","pygame_beta"].includes(e)?"python":["nodejs","nodejs_beta","nodejs_prybar","nodejs_prybar_beta","reason_nodejs","nodejs_static"].includes(e)?"nodejs":["ruby","ruby_beta","ruby_classroom","ruby_classroom_beta","rails","rails_beta"].includes(e)?"ruby":l().supportsPackager3(e)?e:null}function m(e){return(0,i.Z)((0,r.Z)({},e),{packagerFiles:p[e.language]||[]})}function v(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=(0,u.Z)(),i=(0,f.Z)().dotReplit;return(0,a.useEffect)((function(){if(r)if("html"!==r.language&&"html_beta"!==r.language){var e=h(r.language);if(e)n(m({language:e,packageSearch:!0,guessImports:!0}));else if(("nix"===r.language||"nix_beta"===r.language)&&r.flagOwnerDotReplitPackager)return i.watch((function(e){e.error?e.error===d.Yt.NotFound&&n(null):n((function(t){var n,r,i;if(!(null===(n=e.config.packager)||void 0===n?void 0:n.language))return null;var a=e.config.packager.language,o=m({language:h(a)||a,guessImports:Boolean(null===(r=e.config.packager.features)||void 0===r?void 0:r.guessImports),packageSearch:Boolean(null===(i=e.config.packager.features)||void 0===i?void 0:i.packageSearch)});return c()(t,o)?t:o}))}))}else n(m({language:"html",packageSearch:!0,guessImports:!1}))}),[r,i]),t}},54889:function(e,t,n){n.d(t,{Z:function(){return P}});var r=n(29815),i=n(35944),a=n(67294),o=n(15589),c=n(4158),s=n(51748),l=n(93160),u=n(81255),d=n(69346),f=n(1144),p=n(70804),h=n(86292),m=n(37424);function v(e){var t=e.id,n=e.title,r=e.children,o=(0,m.H)()(t);return(0,i.BX)(d.Z,{css:[u.l0.colWithGap(8)],children:[(0,i.tZ)(d.Z,{tag:"label",htmlFor:o,children:"string"===typeof n?(0,i.tZ)(f.x,{children:n}):n}),a.cloneElement(r,{id:o})]})}var g=n(14924),b=n(9838),x=new Set(["self-hosted-small","self-hosted-large","self-hosted-small-python"]),y=[{title:"Enabled",value:!0},{title:"Disabled",value:!1}],Z=Array.from(x,(function(e){return{title:e,value:e}}));function w(){var e=(0,b.c)("flag-code-suggestion").enabled,t=(0,s.Z)(),n=t.preferences,r=t.update,a=function(e,t){r((0,g.Z)({},e,t)),(0,h.j)(h.U3.SETTINGS_TOGGLED,{settingChanged:e,updatedValue:t})};return e?(0,i.BX)(i.HY,{children:[(0,i.tZ)(v,{id:"codeSuggestionToggle",title:"Code suggestion",children:(0,i.tZ)(o.Z,{initialSelectedItem:y.find((function(e){return e.value===n.codeSuggestion})),onChange:function(e){return a("codeSuggestion",null===e||void 0===e?void 0:e.value)},items:y})}),(0,i.tZ)(v,{id:"codeSuggestionEngine",title:(0,i.tZ)(f.x,{children:"Code suggestion engine"}),children:(0,i.tZ)(o.Z,{initialSelectedItem:Z.find((function(e){return e.value===n.codeSuggestionEngine})),onChange:function(e){return a("codeSuggestionEngine",null===e||void 0===e?void 0:e.value)},items:Z})})]}):null}var k=[{value:"side-by-side",title:"side-by-side"},{value:"stacked",title:"stacked"}],E=[{value:10,title:"tiny"},{value:14,title:"normal"},{value:18,title:"large"},{value:24,title:"huge"}],_=[{value:"spaces",title:"spaces"},{value:"tabs",title:"tabs"}],C=[{value:2,title:"2"},{value:4,title:"4"},{value:8,title:"8"}],S=[{value:"default",title:"default"},{value:"emacs",title:"emacs"},{value:"vim",title:"vim"}],T=[{value:"none",title:"none"},{value:"soft",title:"soft wrap"}],I=[{value:"disabled",title:"disabled"},{value:"enabled",title:"enabled"}],j=[{value:"disabled",title:"disabled"},{value:"enabled",title:"enabled"}],R=(0,d.K)("div");function N(){var e=(0,a.useState)(!1),t=e[0],n=e[1],r=(0,a.useState)(!1),o=r[0],s=r[1],l=(0,a.useRef)(!1);return(0,a.useEffect)((function(){l.current=!0;var e=setTimeout((function(){s(t)}),200);return function(){clearTimeout(e)}}),[t]),(0,i.BX)(d.Z,{css:[u.l0.rowWithGap(8),u.l0.justify.start],onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:[(0,i.tZ)(f.x,{children:"Code intelligence"}),(0,i.BX)(p.Z,{isOpen:o,onClickOutside:function(){return s(!1)},padding:8,children:[(0,i.tZ)(R,{children:(0,i.tZ)(c.Z,{})}),(0,i.tZ)(d.Z,{css:[u.l0.maxWidth(240)],children:(0,i.BX)(f.x,{multiline:!0,children:["Code intelligence gives you autocomplete, helpful info, and hints as you type. See more"," ",(0,i.tZ)("a",{href:"https://replit.com/site/blog/intel",target:"_blank",rel:"noreferrer noopener",children:"here."})]})})]})]})}function P(e){var t=e.onBeforePreferencesUpdate,n=e.hideLayoutControl,a=e.className,c=(0,s.Z)(),d=c.preferences,p=c.update,m=function(e){t&&t(e),Object.keys(e).forEach((function(t){var n=e[t];(0,h.j)(h.U3.SETTINGS_TOGGLED,{settingChanged:t,updatedValue:n})})),p(e)};return d?(0,i.BX)(l.Z,{className:a,background:"default",css:[u.l0.p(16),u.l0.colWithGap(32),{paddingBottom:"5em"}],children:[n?null:(0,i.tZ)(v,{id:"layout",title:"Layout",children:(0,i.tZ)(o.Z,{initialSelectedItem:k.find((function(e){return d.isLayoutStacked?"stacked"===e.value:"side-by-side"===e.value})),onChange:function(e){var t="stacked"===(null===e||void 0===e?void 0:e.value);m({isLayoutStacked:t})},items:(0,r.Z)(k)})}),(0,i.tZ)(v,{id:"fontSize",title:"Font size",children:(0,i.tZ)(o.Z,{initialSelectedItem:E.find((function(e){return e.value===d.fontSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:14;m({fontSize:t})},items:(0,r.Z)(E)})}),(0,i.tZ)(v,{id:"indentType",title:"Indent type",children:(0,i.tZ)(o.Z,{initialSelectedItem:_.find((function(e){return e.value===(d.indentIsSpaces?"spaces":"tabs")})),onChange:function(e){var t="spaces"===(null===e||void 0===e?void 0:e.value);m({indentIsSpaces:t})},items:(0,r.Z)(_)})}),(0,i.tZ)(v,{id:"indentSize",title:"Indent size",children:(0,i.tZ)(o.Z,{initialSelectedItem:C.find((function(e){return e.value===d.indentSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:2;m({indentSize:t})},items:(0,r.Z)(C)})}),(0,i.tZ)(v,{id:"keybinds",title:"Keybinds",children:(0,i.tZ)(o.Z,{initialSelectedItem:S.find((function(e){return["vim","emacs"].includes(e.value)?e.value===d.keyboardHandler:"default"===e.value&&!d.keyboardHandler})),onChange:function(e){var t=["vim","emacs"].includes(e.value)?e.value:null;m({keyboardHandler:t})},items:(0,r.Z)(S)})}),(0,i.tZ)(v,{id:"wrapping",title:"Wrapping",children:(0,i.tZ)(o.Z,{initialSelectedItem:T.find((function(e){return e.value===(d.wrapping?"soft":"none")})),onChange:function(e){var t="soft"===(null===e||void 0===e?void 0:e.value);m({wrapping:t})},items:(0,r.Z)(T)})}),(0,i.tZ)(v,{id:"codeIntelligence",title:(0,i.tZ)(N,{}),children:(0,i.tZ)(o.Z,{initialSelectedItem:I.find((function(e){return e.value===(d.codeIntelligence?"enabled":"disabled")})),onChange:function(e){var t="enabled"===(null===e||void 0===e?void 0:e.value);m({codeIntelligence:t})},items:(0,r.Z)(I)})}),(0,i.tZ)(w,{}),(0,i.tZ)(v,{id:"accessibleTerminal",title:(0,i.BX)(i.HY,{children:[(0,i.tZ)(f.x,{children:"Accessible Terminal Output"}),(0,i.tZ)(f.x,{multiline:!0,children:"enable this setting to use a screen reader. Warning: this can affect performance."})]}),children:(0,i.tZ)(o.Z,{initialSelectedItem:j.find((function(e){return e.value===(d.accessibleTerminal?"enabled":"disabled")})),onChange:function(e){var t="enabled"===(null===e||void 0===e?void 0:e.value);m({accessibleTerminal:t})},items:(0,r.Z)(j)})}),(0,i.tZ)(f.x,{multiline:!0,children:"Themes now apply across the whole site. Switch themes using the sun/moon icon in the site sidebar."})]}):null}},56499:function(e,t,n){n.d(t,{ZP:function(){return Xe}});var r=n(47568),i=n(26042),a=n(69396),o=n(10253),c=n(34051),s=n.n(c),l=n(35944),u=n(60536),d=n.n(u),f=n(67294),p=n(92876),h=(n(82447),n(41664),n(28898),n(57263)),m=n(56919),v=n(11163),g=n(57208),b=n(90317),x=n(60731),y=n(60368),Z=n(93058),w=n(57704),k=n(74591),E=n(17556),_=n(18757),C=n(88046),S=n(33319),T=n(82893),I=n(64184),j=n(37424),R=n(6625),N=n(59369),P=n(83074),D=n(33417),B=(n(45273),n(71471)),O=n(64080),A=n(77365),z=n(60459),U=n(19526),L=n(49619),G=n(62722),X=n(7657);function F(e){var t=f.useRef(null),n=(0,o.Z)(f.useState(e.value),2),r=n[0],i=n[1],a=(0,o.Z)(f.useState(null),2),c=a[0],s=a[1],u=(0,z.Z)({onUpload:function(t){var n=t.url;e.onChange(n)},onUploadPreview:function(e){var t=e.dataUrl;i(t)},onError:function(e){s(e.message)}});f.useEffect((function(){i(e.value)}),[e.value]);var p=null===r||void 0===r?void 0:r.startsWith("data:"),h=32;return(0,l.BX)(U.gC,{spacing:"var(--space-4)",children:[(0,l.BX)("div",{onClick:function(){var e;null===(e=t.current)||void 0===e||e.click()},"aria-label":r?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",className:d().dynamic([["5de27f185cb9bc33",[h,h]]])+" "+((r?"update-icon":"add-icon")||""),children:[r?(0,l.BX)(l.HY,{children:[(0,l.tZ)(B.Z,{iconUrl:r,size:h,alt:"icon"}),p?(0,l.tZ)("div",{className:d().dynamic([["5de27f185cb9bc33",[h,h]]])+" loading-state",children:(0,l.tZ)("div",{className:d().dynamic([["5de27f185cb9bc33",[h,h]]])+" loading-icon",children:(0,l.tZ)(A.Z,{})})}):(0,l.tZ)("div",{className:d().dynamic([["5de27f185cb9bc33",[h,h]]])+" hover-state",children:(0,l.tZ)(O.Z,{})})]}):(0,l.tZ)(L.Z,{}),(0,l.tZ)("input",{ref:t,accept:G.W9.join(","),type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&(null===r||void 0===r?void 0:r.length)&&(s(null),u.uploadImage(r[0],X.N.TemplateIcon))},className:d().dynamic([["5de27f185cb9bc33",[h,h]]])})]}),c?(0,l.tZ)("div",{className:d().dynamic([["5de27f185cb9bc33",[h,h]]])+" error",children:c}):null,(0,l.tZ)(d(),{id:"5de27f185cb9bc33",dynamic:[h,h],children:".add-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px dashed var(--foreground-dimmest);background-color:var(--background-root);width:".concat(h,"px;height:").concat(h,"px}.add-icon.__jsx-style-dynamic-selector:hover{color:var(--accent-primary-default);border-color:var(--accent-primary-default)}.add-icon.__jsx-style-dynamic-selector,.update-icon.__jsx-style-dynamic-selector{position:relative;cursor:pointer;background-color:var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:2px}.update-icon.__jsx-style-dynamic-selector:hover .hover-state.__jsx-style-dynamic-selector{opacity:.8}.hover-state.__jsx-style-dynamic-selector{opacity:0}.loading-state.__jsx-style-dynamic-selector{opacity:.8}.loading-icon.__jsx-style-dynamic-selector{-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-o-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes rotate{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.hover-state.__jsx-style-dynamic-selector,.loading-state.__jsx-style-dynamic-selector{color:var(--accent-primary-default);position:absolute;top:0;left:0;width:100%;height:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);background-color:var(--background-root);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}input.__jsx-style-dynamic-selector{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.error.__jsx-style-dynamic-selector{font-size:var(--font-size-default);color:var(--accent-negative-default)}")})]})}var M=n(58086),W=n(98202),H=n(68368),V=n(60286),q=n(84857),K=n(44593),Q=n(5783),Y=n(58809),J=n(45528);function $(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=(0,r.Z)(s().mark((function e(t){var n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.prev=1,e.next=4,re(t);case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(n>5)){e.next=10;break}throw e.t0;case 10:setTimeout((function(){te(t,n+1)}),1e3*(Math.pow(2,n)-1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),ne.apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,Q.Z)({onUnrecoverableError:function(e){throw new Error("Failed to create temporary goval connection. Received error ".concat(e.message))}}),Y.l){e.next=4;break}throw n.destroy(),new Error("Expected Apollo Client");case 4:return e.next=6,Y.l.query({query:b.PkY,variables:{id:t}});case 6:if("Repl"===(r=e.sent.data).repl.__typename){e.next=10;break}throw n.destroy(),new Error("Failed to query repl info when creating temporary connection");case 10:return i=r.currentUser,a=r.repl,e.abrupt("return",new Promise((function(e){n.onConnectionStateChanged((function(t){t===Q.e.CONNECTED&&(n.destroy(),e())})),n.connect({context:(0,J.U)({repl:a,currentUser:i})})})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=n(519),oe=n(13331),ce=n(14317),se=n(81255),le=n(89149);function ue(e){var t=e.isAlwaysOn,n=e.isBoosted,r=e.onBoostChange,i=e.onAlwaysOnChange;return(0,l.BX)(x.G7,{css:[se.l0.colWithGap(16)],children:[(0,l.BX)(x.G7,{css:[se.l0.display.flex,se.l0.flex.row,se.l0.align.center,se.l0.justify.spaceBetween],children:[(0,l.BX)(x.G7,{css:[se.l0.colWithGap(8)],children:[(0,l.BX)(x.G7,{css:[se.l0.rowWithGap(8),se.l0.align.center],children:[(0,l.tZ)(ce.Z,{size:16})," ",(0,l.tZ)(x.xv,{variant:"subheadDefault",children:le.S["always-on"].name})]}),(0,l.tZ)(x.xv,{color:"dimmer",children:le.S["always-on"].description})]}),(0,l.tZ)(ae.Z,{isOn:t,onChange:i})]}),(0,l.BX)(x.G7,{css:[se.l0.display.flex,se.l0.flex.row,se.l0.align.center,se.l0.justify.spaceBetween],children:[(0,l.BX)(x.G7,{css:[se.l0.colWithGap(8)],children:[(0,l.BX)(x.G7,{css:[se.l0.rowWithGap(8),se.l0.align.center],children:[(0,l.tZ)(oe.Z,{size:16})," ",(0,l.tZ)(x.xv,{variant:"subheadDefault",children:le.S.boost.name})]}),(0,l.tZ)(x.xv,{color:"dimmer",children:le.S.boost.description})]}),(0,l.tZ)(ae.Z,{isOn:n,onChange:r})]})]})}var de=n(97838),fe=n(5233),pe=n(20177),he=n(10449),me=n(20861),ve=n(86292),ge=n(67629),be=n(41654),xe=n(30992),ye=n(88961),Ze=n(18048);var we=n(60996);function ke(e){if(!e.data)return null;var t=e.data;if("revertReplRelease"in t){if("NotFoundError"===t.revertReplRelease.__typename||"UnauthorizedError"===t.revertReplRelease.__typename||"UserError"===t.revertReplRelease.__typename)return t.revertReplRelease.message;if("Repl"!==t.revertReplRelease.__typename)return"Something went wrong reverting your Template"}}var Ee=n(63736),_e=n(98032),Ce=n(48551),Se=n(17847),Te=n(9838),Ie=(0,x.KD)("form");function je(e){if(0===e.length)return{message:"You cannot leave this empty."}}function Re(e){var t,n,r=e.changeType;return r===b.J53.NewFile?(t=x.TV.accentPositiveStronger,n="Added"):r===b.J53.DeletedFile?(t=x.TV.accentNegativeStronger,n="Deleted"):(t=x.TV.foregroundDefault,n="Changed"),(0,l.tZ)(x.xv,{variant:"small",css:[{color:t}],children:n})}function Ne(e){var t=e.pendingChangesState;if(t.loading)return(0,l.tZ)(x.G7,{css:[x.l0.center],children:(0,l.tZ)(A.Z,{})});if(t.error)return(0,l.tZ)(x.E_,{icon:(0,l.tZ)(ye.Z,{}),text:t.error.message||"Could not load modified files - please try again.",colorway:"negative"});if(!t.pendingChanges||0===t.pendingChanges.length)return(0,l.tZ)(x.xv,{multiline:!0,children:"No changes to publish. Come back when you have made changes to your Repl."});var n=t.pendingChanges,r=n.slice(0,15);return(0,l.BX)(x.G7,{css:[{display:"grid",gridTemplateColumns:"1fr 1fr",gap:x.TV.space8}],children:[r.map((function(e){return(0,l.BX)(f.Fragment,{children:[(0,l.BX)(x.G7,{css:[x.l0.rowWithGap(4),x.l0.align.center],children:[(0,l.tZ)(Ee.Z,{size:12,path:e.fileName}),(0,l.tZ)(x.xv,{children:e.fileName})]},e.fileName),(0,l.tZ)(Re,{changeType:e.changeType})]},e.fileName)})),n.length>r.length&&(0,l.BX)(x.xv,{children:["And ",n.length-r.length," other files..."]})]})}function Pe(e){var t=function(e){var t,n,r=e.replId,i=(0,b.fNr)({variables:{replId:r},fetchPolicy:"cache-and-network"}),a=i.data,o=i.loading,c=i.error;if(o)return{loading:o,pendingChanges:null,error:null};if(c)return{loading:!1,pendingChanges:null,error:c};var s="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null;return s?{loading:!1,pendingChanges:(null===(t=s.deployment)||void 0===t||null===(n=t.activeRelease)||void 0===n?void 0:n.pendingChanges)||[],error:c}:{loading:!1,pendingChanges:null,error:new Error("Repl not found")}}({replId:e.replId}),n=f.useMemo((function(){if(!t.pendingChanges)return[];var e=t.pendingChanges.slice().sort((function(e,t){return e.fileName.localeCompare(t.fileName)})).map((function(e){return{file:e,pathDepth:(0,Ce.U$)(e.fileName)}})).sort((function(e,t){return e.pathDepth-t.pathDepth})).map((function(e){return e.file}));return e}),[t.pendingChanges]);return(0,a.Z)((0,i.Z)({},t),{pendingChanges:n})}function De(e){var t=e.repl,n=function(){var e=(0,o.Z)((0,b.IOf)({refetchQueries:["ReplEnvironmentHeader"]}),2),t=e[0];function n(){return(n=(0,r.Z)(s().mark((function e(n){var r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.input,e.next=3,t({variables:{input:r}});case 3:return i=e.sent,e.abrupt("return",{data:i.data,error:ke(i)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{revertTemplateRelease:function(e){return n.apply(this,arguments)},state:e[1]}}(),i=function(){var e=(0,r.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.revertTemplateRelease({input:{replId:t.id,releaseId:r}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.BX)(x.G7,{children:[(0,l.tZ)(x.h4,{level:1,variant:"subheadBig",css:[x.l0.mb(16)],children:"Existing Releases"}),(0,l.tZ)(x.G7,{css:[{display:"grid",gridTemplateColumns:"2fr 3fr 1fr",gap:x.TV.space8}],children:t.releases.items.map((function(e){var n,r;return(0,l.BX)(f.Fragment,{children:[(0,l.tZ)("span",{children:(0,Se.Z)(new Date(e.timeCreated),"do MMM, hh:mm a")}),(0,l.tZ)("span",{children:e.description}),(0,l.tZ)("span",{style:{justifySelf:"end"},children:e.id===(null===(n=t.deployment)||void 0===n||null===(r=n.activeRelease)||void 0===r?void 0:r.id)?(0,l.tZ)("span",{css:[x.l0.p(4),{display:"flex"}],children:"(active)"}):(0,l.tZ)(x.zx,{text:"revert",colorway:"primary",small:!0,onClick:function(t){t.preventDefault(),i(e.id)}})})]},e.id)}))})]})}function Be(e){var t,n,i=e.repl,a=(0,j.H)(),c=(0,o.Z)(f.useState(!1),2),u=c[0],d=c[1],p=(0,o.Z)(f.useState(!1),2),h=p[0],m=p[1],v=Pe({replId:i.id}),g=(0,we.r)(),b=(0,xe.Y)("",je),y=0!==(null===(t=v.pendingChanges)||void 0===t?void 0:t.length),Z=Boolean(b.error||!y||g.loading),w=(0,Te.c)("flag-revert-template-release").enabled&&i.releases.items.length>1,k="";return b.error?k="Please fill out the form":y||(k="No changes to publish in this release"),u?(0,l.tZ)(_e.q,{repl:i,isUpdate:!0}):h?(0,l.tZ)(x.G7,{css:[x.l0.p(16),x.l0.colWithGap(16)],children:(0,l.tZ)(De,{repl:i})}):(0,l.BX)(Ie,{onSubmit:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Z&&!b.validate()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g.createRelease({input:{replId:i.id,description:b.value}});case 5:if(!e.sent.error){e.next=8;break}return e.abrupt("return");case 8:d(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),css:[x.l0.colWithGap(24)],children:[(0,l.tZ)(x.h4,{level:1,variant:"headerDefault",children:"Publish a new release"}),(0,l.BX)(x.G7,{css:[x.l0.colWithGap(8)],children:[(0,l.tZ)(x.h4,{level:2,variant:"subheadDefault",children:"Modified files"}),(0,l.tZ)(Ne,{pendingChangesState:v})]}),!v.loading&&v.pendingChanges.length>0&&(0,l.BX)(x.G7,{css:[x.l0.colWithGap(4)],children:[(0,l.tZ)("label",{htmlFor:a("description"),css:[x.l0.color.foregroundDimmer,{fontSize:x.TV.fontSizeSmall,lineHeight:x.TV.lineHeightSmall}],children:"Description"}),(0,l.tZ)(x.B,{id:a("description"),onChange:function(e){return b.setValue(e.target.value)},css:[x.l0.width("100%"),x.l0.minHeight(64),x.l0.maxHeight(128),{resize:"vertical"}],placeholder:"Explain what has changed about your template"}),b.error&&(0,l.tZ)(x.E_,{icon:(0,l.tZ)(ye.Z,{}),text:null===(n=b.error)||void 0===n?void 0:n.message,colorway:"negative"})]}),(0,l.tZ)(x.G7,{children:g.error&&(0,l.tZ)(x.E_,{icon:(0,l.tZ)(ye.Z,{}),text:g.error,colorway:"negative"})}),(0,l.BX)(x.G7,{css:[x.l0.rowWithGap(12),x.l0.justify.end],children:[w&&(0,l.tZ)(x.zx,{text:"Revert to older",colorway:"negative",onClick:function(){return m(!0)}}),(0,l.tZ)(x.u,{tooltip:k,placement:"bottom",isDisabled:!k,children:(0,l.tZ)(x.zx,{text:"Publish release",type:"submit",colorway:"primary",iconLeft:(0,l.tZ)(Ze.Z,{}),disabled:Z})})]})]})}var Oe,Ae,ze=n(6600),Ue="CyclesBalance",Le="ReplPowerUpCosts",Ge={query:b.BWV};function Xe(e){var t,n,c=e.repl,u=e.showCloseButton,B=e.onUpdateRepl,A=e.setIsEditing,z=(0,v.useRouter)(),U=(0,o.Z)(f.useState(!1),2),G=U[0],X=U[1],Q=(0,o.Z)(f.useState(null),2),Y=Q[0],J=Q[1],ee=(0,o.Z)(f.useState(null),2),te=ee[0],ne=ee[1],re=(0,o.Z)(f.useState(c.isBoosted),2),ie=re[0],ae=re[1],oe=(0,o.Z)(f.useState(c.isRenamed?c.title:""),2),ce=oe[0],se=oe[1],le=(0,o.Z)(f.useState(c.description||""),2),xe=le[0],ye=le[1],Ze=(0,o.Z)(f.useState(c.rawTemplateLabel),2),we=Ze[0],ke=Ze[1],Ee=(0,me.Z)({forceFetch:!1}).cycles,_e=(0,b.iWG)().data,Ce=(0,Z.Z)().showError,Se=c.publishedAs===b.O2h.Template,Te=Boolean(c.publishedAs);f.useEffect((function(){ye(c.description||"")}),[c.description]);var Ie=(0,R.Z)(),je=f.useRef(c),Re=(0,o.Z)((0,b.ap1)({variables:{id:c.id},onCompleted:function(){return z.push("/home","/~")},update:(0,m.t)({id:c.id}),onError:function(e){return Ce((0,g.Z)(e.message))}}),1)[0],Ne=(0,o.Z)((0,b.vib)({onError:function(e){return Ce((0,g.Z)(e.message))},onCompleted:function(e){var t=e.updateRepl.repl,n=je.current,r={};n.description!==t.description&&(r.description=t.description),n.title!==t.title&&(r.title=t.title),n.url!==t.url&&(r.url=t.url),n.isRenamed!==t.isRenamed&&(r.isRenamed=!!t.isRenamed),je.current=c,Object.keys(r).length>0&&(B(r),A(!1))}}),2),Pe=Ne[0],De=Ne[1].loading,Xe=(0,o.Z)((0,D.Z)(),2),Fe=Xe[0],Me=Xe[1].loading,We=(0,o.Z)((0,b.prL)({onCompleted:function(e){"UserError"===e.setAlwaysOn.__typename&&Ce(e.setAlwaysOn.message)},onError:function(e){return Ce((0,g.Z)(e.message))},refetchQueries:[Ue,Le,Ge]}),2),He=We[0],Ve=We[1].loading,qe=(0,o.Z)((0,b.BjH)({variables:{replId:c.id},onCompleted:function(e){var t=e.boostRepl;"UserError"!==t.__typename?($(c.id).catch((function(e){p.Tb(e),Ie.current&&Ce("Something went wrong when boosting your repl. Please refresh or try again.")})),Ie.current&&ae(!0)):Ce(t.message)},onError:function(e){p.Tb(e),Ce((0,g.Z)(e.message))},refetchQueries:[Ue,Le,Ge]}),2),Ke=qe[0],Qe=qe[1].loading,Ye=c.currentUserPermissions.publish,Je=!(null===c||void 0===c?void 0:c.publishedAs),$e=(null===c||void 0===c?void 0:c.publishedAs)===b.O2h.RegularRepl,et=(0,o.Z)((0,b.gFT)({variables:{input:{replId:c.id}},onError:function(e){p.Tb(e),Ce((0,g.Z)(e.message))}}),2),tt=et[0],nt=et[1],rt=(0,o.Z)((0,b.cry)({variables:{replId:c.id},onCompleted:function(e){var t=e.unboostRepl;"UserError"!==t.__typename?($(c.id).catch((function(e){p.Tb(e),Ie.current&&Ce("Something went wrong when unboosting your Repl. Please refresh or try again.")})),Ie.current&&ae(!1)):Ce(t.message)},onError:function(e){p.Tb(e),Ce((0,g.Z)(e.message))},refetchQueries:[Le,Ge]}),2),it=rt[0],at=rt[1].loading,ot=(0,b.U50)({variables:{replId:c.id}}),ct=ot.data,st=ot.loading,lt=ot.error,ut=f.useMemo((function(){return!(!ce||ce===c.title)||(we!==c.rawTemplateLabel||!(""===xe&&!c.description)&&xe!==c.description)}),[c,ce,xe,we]),dt=f.useCallback((function(){if(ut){var e={id:c.id,title:ce||c.title,description:xe,templateLabel:c.currentUserPermissions.changeTemplateLabel?we:void 0};Pe({variables:{input:e}})}}),[ut,Pe,c,ce,xe,we]),ft=G||null!==Y||Me,pt=(0,E.Z)((function(){ft||(ut?dt():A(!1))}),[ft,ut,dt]),ht=f.useContext(W.G).usesDigitalGoodsService,mt=function(e){switch(e){case"boost":return"Repl"===(null===ct||void 0===ct?void 0:ct.repl.__typename)&&"PowerUpCostsType"===ct.repl.powerUpCosts.__typename?ct.repl.powerUpCosts.boost.explanation:null;case"always-on":return"Repl"===(null===ct||void 0===ct?void 0:ct.repl.__typename)&&"PowerUpCostsType"===ct.repl.powerUpCosts.__typename?ct.repl.powerUpCosts.alwaysOn.explanation:null;case"private":var t,n,r;return"UserPowerUpCostsType"===(null===ct||void 0===ct||null===(t=ct.currentUser)||void 0===t?void 0:t.powerUpCosts.__typename)?null===(n=ct.currentUser.powerUpCosts)||void 0===n||null===(r=n.private)||void 0===r?void 0:r.explanation:null;default:(0,he.Z)(e)}},vt=function(){return Pe({variables:{input:{id:c.id,isPrivate:!c.isPrivate}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,a.Z)((0,i.Z)({},c),{isPrivate:!c.isPrivate})}},refetchQueries:[Ue,Le,Ge]})},gt=function(){if(!Ve){var e=!c.isAlwaysOn;He({variables:{replId:c.id,enabled:e},optimisticResponse:{setAlwaysOn:(0,a.Z)((0,i.Z)({__typename:"Repl"},c),{isAlwaysOn:e})}})}},bt=function(){(0,ve.j)(ve.U3.BOOST_TOGGLED,{enabled:!ie}),ie?it():Ke()},xt=c.isRenamed?"Name your Repl":"Default name: ".concat(c.title),yt=[b.Sy.Submit,b.Sy.PublishTemplate,b.Sy.EditTemplate].includes(c.workspaceCta),Zt=[];c.currentUserPermissions.fork&&Zt.push({value:Oe.Fork,label:"Fork",icon:(0,l.tZ)(P.Z,{})}),c.publishedAs===b.O2h.RegularRepl&&Ye&&Zt.push({value:Oe.Unpublish,label:"Unpublish",icon:(0,l.tZ)(I.Z,{})}),Se&&Ye&&Zt.push({value:Oe.UnpublishTemplate,label:"Unpublish template",icon:(0,l.tZ)(I.Z,{})}),Te&&Ye&&Zt.push({value:Oe.EditPublishSettings,label:"Edit Publish Settings",icon:(0,l.tZ)(O.Z,{})}),c.currentUserPermissions.delete&&Zt.push({isDestructive:!0,value:Oe.Delete,label:"Delete",icon:(0,l.tZ)(w.Z,{})});var wt,kt=c.currentUserPermissions.changePrivacy===b.HA$.SubscriptionRequired,Et=c.currentUserPermissions.changeAlwaysOn===b.fnM.SubscriptionRequired,_t=(0,j.H)();return(0,l.BX)("div",{ref:pt,className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:[(0,l.tZ)("form",{onSubmit:function(e){e.preventDefault(),dt()},className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:(0,l.BX)(x.G7,{css:[x.l0.align.stretch,x.l0.colWithGap(16)],children:[(0,l.BX)(x.G7,{css:[x.l0.colWithGap(8)],children:[(0,l.BX)(x.G7,{css:[x.l0.flex.row,x.l0.align.center,x.l0.justify.spaceBetween],children:[(0,l.BX)(x.G7,{css:[x.l0.rowWithGap(8),x.l0.center],children:[c.currentUserPermissions.changeIconUrl&&Se?(0,l.tZ)(F,{value:c.iconUrl,onChange:function(e){return Pe({variables:{input:{id:c.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,a.Z)((0,i.Z)({},c),{iconUrl:e})}}})}}):null,(0,l.tZ)(x.ZP,(0,a.Z)((0,i.Z)({prefetch:!1},(0,C.j3)(c)),{iconLeft:(0,l.tZ)(_.Z,{}),colorway:"primary",text:"Cover page",target:"_blank"}))]}),(0,l.BX)(x.G7,{css:[x.l0.align.center,x.l0.rowWithGap(8)],children:[Ye&&Je?(0,l.tZ)(x.u,{tooltip:"This Repl is private. You need to make it public in order to publish it!",isDisabled:!(null===c||void 0===c?void 0:c.isPrivate),children:(0,l.tZ)(x.zx,{type:"button",iconLeft:(0,l.tZ)(L.Z,{}),onClick:function(){J(Ae.Publish)},dataCy:"ws-publish-button",text:"Publish",disabled:null===c||void 0===c?void 0:c.isPrivate})}):null,Se?(0,l.tZ)(x.zx,{type:"button",iconLeft:(0,l.tZ)(L.Z,{}),onClick:function(){return J(Ae.UpdatePublishedTemplate)},text:"Update"}):null,$e?(0,l.tZ)(x.zx,{type:"button",iconLeft:(0,l.tZ)(be.Chat,{}),onClick:function(){return J(Ae.UpdatePublishedRepl)},text:"Update"}):null,Zt.length>0&&(0,l.tZ)(x.G7,{children:(0,l.tZ)(N.Z,{label:Se?"Template Actions":"Repl Actions",large:!0,items:Zt,onItemClick:function(e){switch(e.value){case Oe.Fork:return void J(Ae.ForkRepl);case Oe.Unpublish:return void J(Ae.Unpublish);case Oe.UnpublishTemplate:return void J(Ae.UnpublishTemplate);case Oe.Delete:return void J(Ae.DeleteRepl);case Oe.EditPublishSettings:J(Ae.EditPublishSettings)}},onOpenChange:X})}),u?(0,l.tZ)(x.hU,{alt:"Close",tooltipHidden:!0,onClick:function(){dt(),A(!1)},children:(0,l.tZ)(ge.Z,{})}):null]})]}),c.lastPublishedAt&&Ye?(0,l.BX)(x.xv,{variant:"small",color:"dimmest",children:["Last published on"," ",new Date(c.lastPublishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null]}),(0,l.BX)(x.Tg,{background:"default",css:[x.l0.colWithGap(16)],children:[(0,l.tZ)(x.G7,{css:[x.l0.flex.column],children:(0,l.BX)(x.G7,{css:[x.l0.colWithGap(4)],children:[(0,l.BX)(x.G7,{css:[x.l0.flex.row,x.l0.justify.spaceBetween,x.l0.align.end],children:[(0,l.tZ)("label",{htmlFor:_t("name"),className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:(0,l.tZ)(x.xv,{variant:"small",color:"dimmer",children:"Name"})}),(0,l.tZ)(y.Z,{maxLength:60,value:ce,hideLabel:!0})]}),(0,l.tZ)(x.II,{style:{cursor:c.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!c.currentUserPermissions.changeTitle,maxLength:60,placeholder:xt,value:ce,onChange:function(e){return se(e.target.value)},spellCheck:!1,id:_t("name")})]})}),(0,l.tZ)(x.G7,{css:[x.l0.flex.column],children:(0,l.BX)(x.G7,{css:[x.l0.colWithGap(4)],children:[(0,l.BX)(x.G7,{css:[x.l0.flex.row,x.l0.justify.spaceBetween,x.l0.align.end],children:[(0,l.tZ)("label",{htmlFor:_t("description"),className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:(0,l.tZ)(x.xv,{variant:"small",color:"dimmer",children:"Description"})}),(0,l.tZ)(y.Z,{maxLength:M.p,value:xe,hideLabel:!0})]}),(0,l.tZ)(x.B,{onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)},disabled:!c.currentUserPermissions.changeDescription,maxLength:M.p,value:xe,onChange:function(e){return ye(e.target.value)},placeholder:"What does this Repl do?",css:[x.l0.minHeight(96),x.l0.maxHeight(128),{resize:"vertical"}],id:_t("description")})]})})]}),Se&&c.currentUserPermissions.changeTemplateLabel&&(0,l.tZ)(x.Tg,{background:"default",css:[x.l0.colWithGap(4)],children:(0,l.BX)(x.G7,{css:[x.l0.colWithGap(4)],children:[(0,l.tZ)("label",{htmlFor:_t("template"),className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:(0,l.tZ)(x.xv,{color:"dimmer",variant:"small",children:"Template label"})}),(0,l.tZ)(x.II,{value:we,maxLength:60,placeholder:"Template label",spellCheck:!1,onChange:function(e){return ke(e.target.value)},id:_t("template")})]})})]})}),yt?null:(0,l.BX)(x.G7,{css:[x.l0.colWithGap(24),x.l0.p(16),x.l0.pt(0)],children:[Et&&ht?(0,l.BX)(x.G7,{css:[x.l0.textAlign.center,x.l0.p(4)],children:[(0,l.tZ)(x.xv,{color:"dimmer",children:kt?"Get access to Private Repls, Always On, and Boosts.":"Get access to Always On and Boosts."}),(0,l.BX)(x.xv,{color:"dimmer",children:["Go to"," ",(0,l.tZ)("a",{href:"https://replit.com/pricing",target:"_blank",className:d().dynamic([["10783cb8cb49cab0",[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax]]]),children:"replit.com"})," ","to upgrade your account."]})]}):null,0===Ee&&!0!==(null===_e||void 0===_e||null===(t=_e.currentUser)||void 0===t?void 0:t.isHacker)?(0,l.tZ)(x.zx,{iconLeft:(0,l.tZ)(de.Z,{}),type:"button",colorway:"primary",stretch:!0,onClick:function(){(0,ve.j)(ve.U3.UPGRADE_SELECTED,{source:"workspace_info_modal",planID:"cycles"}),J(Ae.BuyCycles)},text:"Power Up this Repl"}):null,c.currentUserPermissions.changePrivacy===b.HA$.Allowed&&(0,l.BX)(x.G7,{css:[x.l0.colWithGap(8)],children:[(0,l.BX)(x.hE,{tag:"fieldset",name:_t("privacy"),value:c.isPrivate.toString(),onChange:function(){if(!De)if(c.isPrivate)vt();else{var e=mt("private");if(null==e||st)Ce("You're too fast for us! Please try again in a moment.");else if(lt)Ce("This action is currently unavailable. Please refresh and try again.");else{if((0,ve.j)(ve.U3.POWER_UP_TOGGLE_REQUESTED,{powerUp:"private",setting:!c.isPrivate,source:"workspace_info_modal",costExplanation:e}),"NEEDS_CYCLES"===e||"SPEND_CYCLES"===e)return ne("private"),void J(Ae.SpendCycles);if("INCLUDED_IN_SUBSCRIPTION"!==e&&"INCLUDED_IN_EXISTING_ORDER"!==e)throw new Error("Unexpected cost explanation for enabling private: ".concat(e));vt()}}},row:!0,primary:!0,stretch:!0,children:[(0,l.tZ)(x.rK,{id:_t("false"),value:"false",text:"Public",icon:(0,l.tZ)(S.Z,{})}),(0,l.tZ)(x.rK,{id:_t("true"),value:"true",text:"Private",icon:(0,l.tZ)(T.Z,{})})]}),(0,l.tZ)(x.xv,{variant:"small",color:"dimmest",children:c.isPrivate?"Only you can see and edit this Repl.":"Anyone can view and fork this Repl."})]}),c.currentUserPermissions.changeAlwaysOn!==b.fnM.Disallowed&&(0,l.tZ)(ue,{isAlwaysOn:c.isAlwaysOn,isBoosted:ie,onAlwaysOnChange:function(){var e=mt("always-on");if(null==e||Ve||st)Ce("You're too fast for us! Please try again in a moment.");else if(lt)Ce("This action is currently unavailable. Please refresh and try again.");else{if((0,ve.j)(ve.U3.POWER_UP_TOGGLE_REQUESTED,{powerUp:"always-on",setting:!c.isAlwaysOn,source:"workspace_info_modal",costExplanation:e}),!c.isAlwaysOn&&"ACTIVATE_EXISTING_ORDER"!==e&&"INCLUDED_IN_SUBSCRIPTION"!==e)return ne("always-on"),void J(Ae.SpendCycles);gt()}},onBoostChange:function(){var e=mt("boost");if(null==e||Qe||at||st)Ce("You're too fast for us! Please try again in a moment.");else if(lt)Ce("This action is currently unavailable. Please refresh and try again.");else{if((0,ve.j)(ve.U3.POWER_UP_TOGGLE_REQUESTED,{powerUp:"boost",setting:!ie,source:"workspace_info_modal",costExplanation:e}),!ie&&"ACTIVATE_EXISTING_ORDER"!==e&&"INCLUDED_IN_SUBSCRIPTION"!==e)return ne("boost"),void J(Ae.SpendCycles);bt()}}})]}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.DeleteRepl,onRequestClose:function(){return J(null)},children:(0,l.tZ)(k.Z,{delete:Re,entityType:"Repl",hideModal:function(){return J(null)}})}),(0,l.tZ)(pe.Z,{context:"workspace_info_modal",isOpen:Y===Ae.SpendCycles,onRequestClose:function(){return J(null)},onRequestBuyMore:function(){return J(Ae.BuyCycles)},onRequestPowerUp:(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=te,e.next=null===e.t0?3:"boost"===e.t0?4:"always-on"===e.t0?6:"private"===e.t0?8:10;break;case 3:return e.abrupt("break",12);case 4:return bt(),e.abrupt("break",12);case 6:return gt(),e.abrupt("break",12);case 8:return vt(),e.abrupt("break",12);case 10:return(0,he.Z)(te),e.abrupt("break",12);case 12:return e.next=14,new Promise((function(e){return setTimeout(e,3e3)}));case 14:J(null);case 15:case"end":return e.stop()}}),e)}))),canSpend:null!=te&&mt(te)!==b.ChQ.NeedsCycles,powerUp:null!==te&&void 0!==te?te:"boost"},Y),(0,l.tZ)(fe.Z,{isOpen:Y===Ae.BuyCycles,onRequestClose:function(){return J(null)},uponPurchaseGoTo:"workspace",context:"workspace_info_modal",replTitle:c.title}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.ForkRepl,onRequestClose:function(){return J(null)},children:(0,l.tZ)(V.Z,{onFork:function(e,t,n,r){Fe({originId:c.id,teamId:e,title:t,description:n,isPrivate:r,forkToPersonal:!e,trackingData:{forkSource:"editReplPopoverMenuItem"}}),(0,ve.j)(ve.U3.REPLS_REPL_SELF_FORKED,{replId:c.id})},initialTitle:c.title,initialDescription:null!==(wt=c.description)&&void 0!==wt?wt:"",initialPrivacy:c.isPrivate,hideModal:function(){return J(null)},teamContext:null===(n=c.user)||void 0===n?void 0:n.username})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.Unpublish,onRequestClose:function(){return J(null)},children:(0,l.tZ)(q.Z,{repl:c,source:"replEnvironment",onDone:function(){J(null)}})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.UnpublishTemplate,onRequestClose:function(){return J(null)},children:(0,l.tZ)(H.Z,{confirmLabel:"Yes, unpublish this Template",isDestructive:!0,title:"Unpublish Template",onCancel:function(){return J(null)},onConfirm:function(){nt.loading||(tt(),J(null))},children:"Your Repl will no longer be discoverable on Templates. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.EditPublishSettings,onRequestClose:function(){return J(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,l.tZ)(K.Z,{source:"replEnvironment",replId:c.id})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.Publish,onRequestClose:function(){return J(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,l.tZ)(K.Z,{source:"replEnvironment",replId:c.id})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.UpdatePublishedTemplate,onRequestClose:function(){return J(null)},children:(0,l.tZ)(Be,{repl:c})}),(0,l.tZ)(x.u_,{isOpen:Y===Ae.UpdatePublishedRepl,onRequestClose:function(){return J(null)},children:(0,l.tZ)(ze.Z,{repl:c,onDone:function(){return J(null)},source:"replEnvironment"})}),(0,l.tZ)(d(),{id:"10783cb8cb49cab0",dynamic:[c.currentUserPermissions.changeDescription?"auto":"not-allowed",h.j.mobileMax],children:"form.__jsx-style-dynamic-selector{padding:var(--space-16)}textarea.__jsx-style-dynamic-selector{min-height:42px;height:200px;resize:none;cursor:".concat(c.currentUserPermissions.changeDescription?"auto":"not-allowed",";font-size:var(--font-size-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.2s border-color;-moz-transition:.2s border-color;-o-transition:.2s border-color;transition:.2s border-color;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}.edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--space-16)}.menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--foreground-default)}.delete-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--accent-negative-default)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4)}.menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4)}.upgrade-button-container.__jsx-style-dynamic-selector{padding:0 var(--space-8)}.upgrade-button-container.__jsx-style-dynamic-selector .sentence-case{text-transform:none}.upgrade-text-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-8);-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-4);margin-right:var(--space-8);width:8px;height:8px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background-color:var(--accent-green-default);-webkit-box-shadow:0 0 12px var(--accent-green-default);-moz-box-shadow:0 0 12px var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default)}@media screen and (max-width:").concat(h.j.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw}}")})]})}!function(e){e.Fork="Fork",e.Delete="Delete",e.Unpublish="Unpublish",e.UnpublishTemplate="UnpublishTemplate",e.EditPublishSettings="EditPublishSettings"}(Oe||(Oe={})),function(e){e.DeleteRepl="DeleteRepl",e.SpendCycles="SpendCycles",e.BuyCycles="BuyCycles",e.ForkRepl="ForkRepl",e.Unpublish="Unpublish",e.UnpublishTemplate="UnpublishTemplate",e.EditPublishSettings="EditPublishSettings",e.Publish="Publish",e.UpdatePublishedTemplate="UpdatePublishedTemplate",e.UpdatePublishedRepl="UpdatePublishedRepl"}(Ae||(Ae={}))},36316:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(26042),i=n(69396),a=n(35944),o=n(60536),c=n.n(o),s=(n(67294),n(41664)),l=n.n(s),u=n(82447),d=n(71471),f=n(63805);function p(e){var t=e.repl,n=(0,f.isMobile)({tablet:!1}),o=t.user?(0,a.tZ)(l(),(0,i.Z)((0,r.Z)({},(0,u.Ru)(t.user)),{prefetch:!1,children:(0,a.tZ)("a",{style:{color:"var(--accent-primary-default)",fontWeight:500,textDecoration:"none"},className:"username",children:t.user.username})})):(0,a.tZ)("span",{className:"username",children:"@anonymous"}),s=n?"":152;return(0,a.BX)("div",{className:"jsx-7e345183c0c8a2d6 workspace-header-info",children:[(0,a.BX)("div",{className:"jsx-7e345183c0c8a2d6 workspace-header-title",children:[!n&&(0,a.BX)(a.HY,{children:[(0,a.tZ)("span",{className:"jsx-7e345183c0c8a2d6 breadcrumb interactive",children:(0,a.tZ)("span",{onClick:function(e){return e.stopPropagation()},className:"jsx-7e345183c0c8a2d6 breadcrumb-content",children:o})}),(0,a.tZ)("span",{className:"jsx-7e345183c0c8a2d6 slash",children:"/"})]}),(0,a.tZ)("span",{style:{justifyContent:"flex-end"},className:"jsx-7e345183c0c8a2d6 breadcrumb repl-title",children:(0,a.tZ)("span",{style:{maxWidth:s,fontWeight:n?500:400},className:"jsx-7e345183c0c8a2d6 breadcrumb-content",children:t.title})})]}),(0,a.tZ)("div",{className:"jsx-7e345183c0c8a2d6 spacer"}),(0,a.tZ)("div",{title:t.templateInfo.label,className:"jsx-7e345183c0c8a2d6 language-icon-container",children:(0,a.tZ)(d.Z,{iconUrl:t.templateInfo.iconUrl,size:16,alt:t.templateInfo.label})}),(0,a.tZ)(c(),{id:"7e345183c0c8a2d6",children:".workspace-header-info.jsx-7e345183c0c8a2d6,.workspace-header-title.jsx-7e345183c0c8a2d6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;overflow:hidden;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:var(--font-size-default)}.workspace-header-info.jsx-7e345183c0c8a2d6{width:100%}.workspace-header-user-link.jsx-7e345183c0c8a2d6{color:var(--accent-primary-default);text-decoration:none}.language-icon-container.jsx-7e345183c0c8a2d6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-4);background-color:var(--background-higher);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);position:relative}.breadcrumb.jsx-7e345183c0c8a2d6{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:2px var(--space-4);width:auto}.breadcrumb.interactive.jsx-7e345183c0c8a2d6:hover{background-color:var(--background-higher)}.breadcrumb-content.jsx-7e345183c0c8a2d6{display:inline-block;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.spacer.jsx-7e345183c0c8a2d6{width:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.username.jsx-7e345183c0c8a2d6,.repl-title.jsx-7e345183c0c8a2d6{white-space:nowrap;color:var(--foreground-default)}.slash.jsx-7e345183c0c8a2d6{color:var(--foreground-dimmest);padding:0 2px}.repl-title.jsx-7e345183c0c8a2d6{overflow:hidden}"})]})}},57082:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(26042),i=n(69396),a=n(35944),o=n(60536),c=n.n(o),s=n(82447),l=n(41664),u=n.n(l),d=n(57263),f=n(28898),p=n(45273);function h(e){var t=e.user;return(0,a.BX)(a.HY,{children:[t?(0,a.tZ)(u(),(0,i.Z)((0,r.Z)({},(0,s.Ru)(t)),{prefetch:!1,children:(0,a.tZ)("a",{onClick:function(e){e.stopPropagation()},className:c().dynamic([["ca13e536dbf528ac",[d.j.tabletMax]]])+" icon",children:(0,a.tZ)(p.Z,{src:t.image,username:t.username,size:32,layout:"intrinsic"})})})):(0,a.tZ)("div",{className:c().dynamic([["ca13e536dbf528ac",[d.j.tabletMax]]])+" icon",children:(0,a.tZ)(f.Z,{size:"inherit"})}),(0,a.tZ)(c(),{id:"ca13e536dbf528ac",dynamic:[d.j.tabletMax],children:".icon.__jsx-style-dynamic-selector{display:none}@media screen and (min-width:".concat(d.j.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block}}")})]})}},32686:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(35944),i=n(67294),a=n(60731),o=n(88075),c=n(64614),s=n(41664),l=n.n(s),u=n(26042),d=n(69396),f=n(99646),p=n(41942),h=n(44897),m=n(15852),v=n(9903);function g(e){var t=e.content,n=i.useCallback((function(e){return(0,r.tZ)(v.Z,(0,d.Z)((0,u.Z)({},e),{asyncHighlighting:!0}))}),[]);return(0,r.tZ)("div",{css:[{whiteSpace:"pre"}],children:(0,r.tZ)(f.D,{remarkPlugins:[p.Ic,h.Z,m.Z],components:{code:n},children:t})})}var b=(0,i.memo)(g),x=n(87514),y=function(e){var t=e.message,n={resolved:"Thread resolved. Re-open it any time in the inbox.",unresolved:"Thread re-opened"},s=i.useMemo((function(){return(0,c.Z)(t.timeCreated)}),[t]);return t.user?(0,r.BX)(a.G7,{children:[(0,r.BX)(a.G7,{css:[a.l0.flex.row,a.l0.align.center,a.l0.rowWithGap(8),a.l0.pb(4)],children:[(0,r.tZ)(l(),{passHref:!0,href:"/@".concat(t.user.username),children:(0,r.tZ)("a",{children:(0,r.tZ)(a.n5,{small:!0,src:t.user.image,username:t.user.username})})}),(0,r.tZ)("p",{children:(0,r.tZ)("small",{css:[a.l0.color.foregroundDimmer],children:s})})]}),"StatusMessageContentType"===t.content.__typename&&"resolved"===t.content.status&&(0,r.tZ)(a.E_,{colorway:"positive",icon:(0,r.tZ)(o.Z,{}),text:n.resolved}),"StatusMessageContentType"===t.content.__typename&&"unresolved"===t.content.status&&(0,r.tZ)(a.E_,{colorway:"primary",icon:(0,r.tZ)(x.Z,{}),text:n.unresolved}),"TextMessageContentType"===t.content.__typename&&(0,r.tZ)(b,{content:t.content.text})]}):null},Z=(0,i.memo)(y)},64614:function(e,t,n){var r=n(93604),i=n(35977);t.Z=function(e){var t=new Date(e),n=new Date;return(0,i.Z)(n,t)<60?"now":(0,r.F)(t,!0)}},96074:function(e,t,n){n.d(t,{Y:function(){return f},r:function(){return p}});var r=n(35944),i=n(67294),a=n(97813),o=n(76945),c=n(63377),s=n(47979),l=n(34881),u=n(31980),d=new Set(["draw.js"]);function f(e,t){var n=(0,s.f6)(),r=(0,a.Z)(),o=i.useCallback((function(e,n){var r,i;null===(r=t.current)||void 0===r||null===(i=r.contentWindow)||void 0===i||i.postMessage({action:"FILE_UPDATE",file:e,content:n},"*")}),[t]);i.useEffect((function(){if(t.current&&n){var r=!0,i=!1,a=void 0;try{for(var c,s=function(){var n=c.value;t.current.onload=function(){e.readFile(n).then((function(e){e.error||o(n,e.content.toString())}))}},l=d[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)s()}catch(u){i=!0,a=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}}),[e,o,t,n]),i.useEffect((function(){if(n&&r&&d.has(r))return e.watchOtFile(r,{onReady:function(e){var t=e.initialContent;return o(r,t.toString())},onChange:function(e){var t=e.latestContent;return o(r,t)}})}),[e,r,o,n])}var p=function(e){var t=e.iframe,n=(0,c.Z)();return i.useEffect((function(){var e="https://".concat(n,".id.repl.co"),t=function(t){if(t.origin===e&&"DOWNLOAD"===t.data.action){var n=document.createElement("a");document.body.appendChild(n),n.setAttribute("style","display: none"),n.href=t.data.url,n.download=t.data.filename,n.click(),document.body.removeChild(n)}};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[n]),(0,r.BX)(r.HY,{children:[(0,r.tZ)(l.J,{alt:"Save image",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_SCREENSHOT"},"*")},children:(0,r.tZ)(o.Z,{})}),(0,r.tZ)(l.J,{alt:"Toggle Record",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_TOGGLE_RECORD"},"*")},children:(0,r.tZ)(u.Z,{})})]})}},34881:function(e,t,n){n.d(t,{J:function(){return G},Z:function(){return F}});var r=n(26042),i=n(10253),a=n(35944),o=n(67294),c=n(64080),s=n(20787),l=n(46702),u=n(67629),d=n(99534),f=n(60536),p=n.n(f),h=n(90317),m=n(60731),v=n(79500),g=n(92876),b=n(48966),x=n.n(b),y=n(92002),Z=n(37424),w=n(88808),k=n(57704);function E(e){var t=e.repl,n=e.existingDomain,r=e.onLink,c=e.onGoBack,s=e.onLinkStarted,l=e.onStateChanged,u=(0,o.useState)(n?"loading":null),d=u[0],f=u[1],p=(0,o.useState)(!1),b=p[0],y=p[1],k=(0,o.useState)(null),E=k[0],C=k[1],S=(0,o.useState)(!1),T=S[0],I=S[1],j=(0,i.Z)((0,h.h3V)(),2),R=j[0],N=j[1],P=(0,o.useRef)(null),D=(0,o.useRef)(null),B=(0,o.useRef)(null),O=function(e){(null===e||void 0===e?void 0:e.current)&&e.current.select()},A=function(e){var t;(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.value)&&(0,v.Z)(e.current.value).catch((function(e){g.$e((function(t){t.setTag("domain-link",!0),t.setExtra("type","copy"),g.Tb(e)}))}))},z=(0,o.useState)(n||""),U=z[0],L=z[1];(0,o.useEffect)((function(){N.data&&"Repl"===N.data.linkReplDomain2.__typename&&r()}),[N.data,r]);var G=function(e){f(e),l()},X=x().isURL(U,{require_valid_protocol:!1})&&U.split(".").length>=2,F=X&&2===U.split(".").length,M=t.hostedUrl.replace(/^https:\/\//,""),W=t.apexProxy,H="replit-verify=".concat(t.id),V=(0,Z.H)();return(0,a.BX)(m.G7,{css:[m.l0.colWithGap(16)],children:[(0,a.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,a.tZ)(m.h4,{level:2,variant:"subheadDefault",children:"New Domain Link"}),(0,a.BX)(m.xv,{multiline:!0,children:["Learn more"," ",(0,a.tZ)("a",{href:"https://docs.replit.com/hosting/hosting-web-pages#custom-domains",target:"_blank",children:"here"}),"."]})]}),(0,a.BX)(m.G7,{css:[m.l0.colWithGap(4)],children:[(0,a.tZ)("label",{htmlFor:V("domain"),children:(0,a.tZ)(m.xv,{color:"dimmer",variant:"small",children:"Step 1: Enter your domain"})}),(0,a.tZ)(m.II,{className:"cname-url",readOnly:"loading"===d,value:U,onChange:function(e){L(e.target.value)},onBlur:function(){!function(){try{var e=new URL("/",U);L(e.hostname)}catch(t){}}()},placeholder:"example.com",id:V("domain")})]}),F&&!T?(0,a.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,a.BX)(m.G7,{css:[m.l0.colWithGap(4)],children:[(0,a.tZ)("label",{htmlFor:V("record"),children:(0,a.BX)(m.xv,{color:"dimmer",variant:"small",children:["Step 2: Add an ",(0,a.tZ)("code",{children:"A"})," Record"]})}),(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.align.center],children:[(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode,maxWidth:"40%"},children:U}),(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode},children:"A"}),(0,a.tZ)(m.II,{readOnly:!0,ref:P,onChange:function(){return null},value:W,onFocus:function(){return O(P)},id:V("record")}),(0,a.tZ)(m.zx,{onClick:function(){return A(P)},text:"Copy"})]})]}),(0,a.tZ)(m.G7,{css:[m.l0.flex.row,m.l0.align.stretch],children:(0,a.tZ)(m.zx,{outlined:!0,onClick:function(){return I(!0)},text:"Use CNAME record instead."})})]}):null,!X||!T&&F?null:(0,a.BX)(m.G7,{css:[m.l0.colWithGap(4)],children:[(0,a.tZ)("label",{htmlFor:V("CNAMERecord"),children:(0,a.BX)(m.xv,{color:"dimmer",variant:"small",children:["Step 2: Add a ",(0,a.tZ)("code",{children:"CNAME"})," Record"]})}),(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.align.center],children:[(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode,maxWidth:"40%"},children:U}),(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode},children:"CNAME"}),(0,a.tZ)(m.II,{readOnly:!0,ref:B,onChange:function(){return null},value:M,onFocus:function(){return O(B)},id:V("CNAMERecord")}),(0,a.tZ)(m.zx,{onClick:function(){return A(B)},text:"Copy"})]}),F?(0,a.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,a.tZ)(m.xv,{variant:"small",multiline:!0,children:'Note: this CNAME record requires that your DNS provider supports CNAMEs for apex domains - for example Cloudflare with "CNAME Flattening".'}),(0,a.tZ)(m.G7,{css:[m.l0.flex.row,m.l0.align.stretch],children:(0,a.tZ)(m.zx,{onClick:function(){return I(!1)},text:"Use A record instead",outlined:!0})})]}):null]}),X?(0,a.BX)(m.G7,{css:[m.l0.colWithGap(4)],children:[F?(0,a.tZ)("label",{htmlFor:V("txtRecord"),children:(0,a.BX)(m.xv,{color:"dimmer",variant:"small",children:["This domain also requires a ",(0,a.tZ)("code",{children:"TXT"})," Record"]})}):(0,a.BX)("label",{children:['If you are using a service like Cloudflare (with "orange cloud") that rewrites domain records, you can add a ',(0,a.tZ)("code",{children:"TXT"})," ","Record for verification purposes."]}),(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.align.center],children:[(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode,maxWidth:"40%"},children:U}),(0,a.tZ)(m.xv,{css:{fontFamily:m.TV.fontFamilyCode},children:"TXT"}),(0,a.tZ)(m.II,{readOnly:!0,ref:D,onChange:function(){return null},value:H,onClick:function(){return O(D)},id:V("txtRecord")}),(0,a.tZ)(m.zx,{onClick:function(){return A(D)},text:"Copy"})]})]}):null,"loading"===d?(0,a.tZ)(m.G7,{css:[m.l0.colWithGap(12),m.l0.pt(16)],children:(0,a.tZ)(_,{replId:t.id,domain:U,onVerified:function(){return G("verified")},onError:function(){return G("error")}})}):null,"verified"===d?(0,a.tZ)(m.G7,{css:[m.l0.colWithGap(12),m.l0.pt(16)],children:(0,a.tZ)(m.xv,{children:"Your domain has been verified."})}):null,"error"===d||E?(0,a.tZ)(m.G7,{css:[m.l0.colWithGap(12),m.l0.pt(16)],children:(0,a.BX)(m.xv,{children:["Creating the domain link failed",E?": "+E:"","."]})}):null,(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(12),m.l0.justify.end],children:[(0,a.tZ)(m.zx,{onClick:c,text:"Close"}),X&&null===d?(0,a.tZ)(m.zx,{disabled:b,onClick:function(){y(!0),C(null),R({variables:{replId:t.id,domain:U}}).then((function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.linkReplDomain2)||null;"Repl"===(null===n||void 0===n?void 0:n.__typename)||"ServiceUnavailable"===(null===n||void 0===n?void 0:n.__typename)?(C(null),G("loading")):("NotFoundError"!==(null===n||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===n||void 0===n?void 0:n.__typename)||C(null===n||void 0===n?void 0:n.message),G("error")),y(!1),s()})).catch((function(e){y(!1),C(e.message)}))},text:"".concat(b?"Linking domain...":"Link domain"),iconLeft:(0,a.tZ)(w.Z,{}),colorway:"primary"}):null]})]})}function _(e){var t,n=e.domain,r=e.replId,c=e.onVerified,s=e.onError,l=(0,h.bxH)({variables:{replId:r,domain:n},pollInterval:1e3}),u=l.data,f=l.stopPolling;if((0,o.useEffect)((function(){var e,t;if(u&&"Repl"===u.repl.__typename){var n=u.repl;if("NotFoundError"!==(null===(e=n.checkDomain2)||void 0===e?void 0:e.__typename)){if("DomainStatus2"===(null===(t=n.checkDomain2)||void 0===t?void 0:t.__typename)){var r=n.checkDomain2,i=r.retry,a=r.verified;a||i?(!a&&i||f(),a&&c()):s()}}else s()}}),[u,f,c,s]),"Repl"===(null===u||void 0===u?void 0:u.repl.__typename)&&u.repl.checkDomain2){var v,g,b,x="DomainStatus2"===u.repl.checkDomain2.__typename?u.repl.checkDomain2:null,y=null;if(null===x||void 0===x?void 0:x.records){var Z=x.records;Z.__typename;y=(0,d.Z)(Z,["__typename"])}var w,k=null;if(!(null===x||void 0===x?void 0:x.status))"ServiceUnavailable"===(null===(w=u.repl.checkDomain2)||void 0===w?void 0:w.__typename)&&(k=u.repl.checkDomain2.message),k||(k="DNS updates can take up to 48 hours to fully synchronize. Feel free to check back later.");return(0,a.BX)(m.G7,{css:[m.l0.colWithGap(16),m.l0.justify.spaceBetween],children:[(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(16),m.l0.align.center],children:[(0,a.tZ)("div",{css:[m.l0.width("20px"),m.l0.height("20px"),{aspectRatio:"1 / 1"},{borderRadius:"100%"},{borderRadius:"100%"},{borderStyle:"solid"},{borderWidth:"3px"},{borderColor:m.TV.accentPrimaryDimmer},{borderTopColor:m.TV.accentPrimaryDefault},{transform:"rotate(0deg)"},{animation:"linear domain-loading 1s infinite"}],className:"jsx-4e6cc6caecb799c9"}),(0,a.tZ)("div",{className:"jsx-4e6cc6caecb799c9",children:k})]}),y||"DomainStatus2"===(null===(v=u.repl.checkDomain2)||void 0===v?void 0:v.__typename)&&(null===(g=u.repl.checkDomain2)||void 0===g?void 0:g.retry)||"ServiceUnavailable"===(null===(b=u.repl.checkDomain2)||void 0===b?void 0:b.__typename)?(0,a.BX)(m.G7,{children:[(0,a.tZ)("br",{className:"jsx-4e6cc6caecb799c9"}),y?(0,a.BX)(m.G7,{children:["Currently, your domain\u2019s records show:",(0,a.tZ)("pre",{css:[m.l0.overflow("scroll")],className:"jsx-4e6cc6caecb799c9",children:Object.entries(y).map((function(e){var t=(0,i.Z)(e,2),r=t[0],o=t[1];return null===o||void 0===o?void 0:o.map((function(e){return(0,a.BX)("div",{className:"jsx-4e6cc6caecb799c9",children:[n," ",r," ",e]},"{domain}-{dnsType}")}))}))})]}):(0,a.tZ)(m.xv,{multiline:!0,children:"Currently, your domain is either not returning any records, or something is getting in the way of our verification process."})]}):null,(0,a.tZ)(p(),{id:"4e6cc6caecb799c9",children:"@-webkit-keyframes domain-loading{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes domain-loading{from{-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes domain-loading{from{-o-transform:rotate(0deg);transform:rotate(0deg)}to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes domain-loading{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}return"Repl"===(null===u||void 0===u?void 0:u.repl.__typename)&&"NotFoundError"===(null===(t=u.repl.checkDomain2)||void 0===t?void 0:t.__typename)?(0,a.tZ)(a.HY,{children:"We ran into an internal error while checking the domain. Please try again later."}):null}function C(e){var t=e.replId,n=e.domain,r=e.onUnlink,c=e.onGoBack,s=(0,i.Z)((0,h.pCu)({variables:{input:{id:t,removeDomain:n}}}),2),l=s[0],u=s[1];return(0,o.useEffect)((function(){u.data&&u.data.updateRepl.repl&&r()}),[u.data,r]),(0,a.BX)(m.G7,{css:[m.l0.colWithGap(16)],children:[(0,a.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,a.tZ)(m.h4,{level:3,variant:"subheadDefault",children:"Domain Unlinking"}),(0,a.BX)(m.xv,{multiline:!0,children:["Are you sure you want to unlink"," ",(0,a.tZ)("a",{target:"_blank",rel:"noopener",href:"https://"+n,children:n}),"?"]})]}),(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(12),m.l0.justify.end],children:[(0,a.tZ)(m.zx,{onClick:c,text:"Cancel"}),(0,a.tZ)(m.zx,{onClick:function(){u.loading||l()},text:u.loading?"Unlinking domain...":"Yes, unlink this domain",colorway:"negative",iconLeft:(0,a.tZ)(k.Z,{}),disabled:u.loading})]})]})}function S(e){var t=e.replId,n=e.onUnlink,r=e.onLink,i=(0,h.KG0)({variables:{replId:t}}),c=i.data,s=i.loading,l=i.refetch,u=(0,o.useState)("listing"),d=u[0],f=u[1],p=(0,o.useState)(null),v=p[0],g=p[1],b=null;if(s)b=(0,a.tZ)(a.HY,{children:"loading..."});else if(c&&"Repl"===c.repl.__typename){var x=c.repl;"listing"===d?b=(0,a.BX)(m.G7,{css:[m.l0.colWithGap(16)],children:[x.domains&&(0===x.domains.length?(0,a.tZ)(m.xv,{children:"No domains are currently linked."}):(0,a.BX)(m.G7,{children:[(0,a.tZ)(m.h4,{level:3,variant:"subheadDefault",children:"Currently Linked Domains"}),(0,a.tZ)(m.G7,{css:[m.l0.colWithGap(8)],children:x.domains.map((function(e){return e?(0,a.tZ)(m.G7,{children:(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(12),m.l0.justify.spaceBetween,m.l0.align.center],children:[(0,a.BX)(m.xv,{children:[e.domain,": ",e.state,"..."]}),(0,a.BX)(m.G7,{css:[m.l0.rowWithGap(12),m.l0.justify.end,m.l0.align.center],children:[(0,a.tZ)(m.zx,{text:"Unlink",onClick:function(){g(e.domain),f("unlinking")}}),"verified"!==e.state?(0,a.tZ)(m.zx,{text:"Check status",onClick:function(){g(e.domain),f("linking")}}):null]})]})},e.domain):null}))})]})),(0,a.tZ)(m.zx,{text:"Create Domain Link",onClick:function(){return f("linking")},iconLeft:(0,a.tZ)(y.Z,{})})]}):"linking"===d?b=(0,a.tZ)(E,{repl:x,existingDomain:v,onLink:r,onGoBack:function(){f("listing"),g(null)},onLinkStarted:l,onStateChanged:l}):"unlinking"===d&&null!==v&&(b=(0,a.tZ)(C,{replId:x.id,domain:v,onUnlink:function(){l(),n()},onGoBack:function(){f("listing"),g(null)}}))}else c&&"ReplRedirect"===c.repl.__typename?b=(0,a.BX)("div",{children:["This repl has moved to"," ",(0,a.tZ)("a",{href:c.repl.replUrl,children:c.repl.replUrl})]}):c&&"SubscriptionExpiredError"===c.repl.__typename&&(b=(0,a.tZ)("div",{children:"Subscription expired"}));return(0,a.BX)(m.G7,{css:[m.l0.colWithGap(24)],children:[(0,a.tZ)(m.h4,{level:1,variant:"headerDefault",children:"Domain Linking"}),b]})}var T=n(29163),I=n(69346),j=n(81255),R=n(96074),N=n(18374),P=n(70804),D=n(40963),B=n(70917),O=n(49108),A=n(9911),z=n(2045);var U={id:"DevToolsIntro",title:"Try our new devtools",content:function(){return(0,a.BX)(I.Z,{css:j.l0.m(2),children:["No need to reach for your browser\u2019s console. You can now:",(0,a.BX)(I.Z,{tag:"ul",css:[j.l0.px(16),j.l0.py(8),{listStyle:"disc",lineHeight:1.7}],children:[(0,a.tZ)("li",{children:"Explore the DOM tree"}),(0,a.tZ)("li",{children:"View console logs"}),(0,a.tZ)("li",{children:"Run JavaScript"}),(0,a.tZ)("li",{children:"Inspect localStorage"}),(0,a.tZ)("li",{children:"and more!"})]}),"\u2026directly from our brand new devtools. Press this button to toggle it."]})}};function L(e){var t=e.targetElement,n=function(e){var t=(0,h.PpL)({variables:{tours:e}}).data;return o.useMemo((function(){var n,r,i;return null===(i=null===t||void 0===t||null===(n=t.currentUser)||void 0===n||null===(r=n.toursSeen)||void 0===r?void 0:r.find((function(t){return t.id===e})))||void 0===i?void 0:i.seen}),[t,e])}("workspace-desktop-tour"),r=(0,O.Z)("workspace","devtools-intro"),i=r.shouldDisplay,c=r.register,s=r.dismiss;return o.useEffect((function(){c()}),[c]),!0===n&&t&&i?(0,a.BX)(a.HY,{children:[(0,a.tZ)(A.w,{targetElement:t}),(0,a.tZ)(z.k,{placement:"bottom-start",targetElement:t,activeStep:U,currentStepIndex:0,done:s,goto:function(){},totalSteps:1,disableAnimation:!0})]}):null}var G=o.forwardRef((function(e,t){return(0,a.tZ)(T.Z,(0,r.Z)({ref:t,className:e.className,css:[{color:"var(--foreground-dimmest)",":hover":{color:"var(--foreground-default)"}},e.css]},e))})),X=(0,B.F4)("from{transform:rotate(0deg);}to{transform:rotate(359deg);}");function F(e){var t=e.refreshing,n=e.devToolsBadge,r=e.url,d=e.onToggleDevtools,f=o.useRef(null),p=(0,i.Z)(o.useState(!1),2),h=p[0],m=p[1];return(0,a.BX)(I.Z,{css:[j.l0.rowWithGap(8),j.l0.p(8),j.l0.align.center],children:[(0,a.tZ)(G,{alt:t?"Refreshing...":"Refresh",onClick:e.onRefresh,css:t&&{animation:"".concat(X," infinite 0.5s")},children:(0,a.tZ)(s.Z,{})}),(0,a.tZ)(D.ZP,{css:[j.l0.px(4),j.l0.py(2),j.l0.flex.growAndShrink(1),j.l0.fontSize(12)],value:r,type:"text",onFocus:function(t){e.trackUrlSelect(),t.currentTarget.select()},readOnly:!0}),(0,a.BX)(I.Z,{css:[j.l0.rowWithGap(4)],children:[e.canEditDomain&&(0,a.BX)(P.Z,{showArrow:!0,maxWidth:520,isOpen:h,onClickOutside:function(){return m(!1)},growToMaxWidth:!0,children:[(0,a.tZ)(G,{alt:"Custom domain",onClick:function(){return m(!h)},children:(0,a.tZ)(c.Z,{})}),(0,a.tZ)(S,{onLink:function(){return m(!1)},onUnlink:function(){return m(!1)},replId:e.replId})]}),d&&(0,a.tZ)(G,{alt:"Toggle developer tools",ref:f,onClick:d,css:{position:"relative"},suffix:!!n&&(0,a.tZ)("span",{css:{position:"absolute",color:j.TV.accentNegativeStrongest,borderRadius:j.TV.borderRadiusRound,padding:"".concat(j.TV.space2," ").concat(j.TV.space4),backgroundColor:j.TV.accentNegativeDimmer,top:-5,right:-3,fontSize:9},children:n}),children:(0,a.tZ)(N.Z,{})}),(0,a.tZ)("a",{href:r,css:{color:"inherit"},target:"_blank",children:(0,a.tZ)(G,{alt:"Open in a new tab",children:(0,a.tZ)(l.Z,{})})}),e.isKaboomDraw&&e.iframe&&(0,a.tZ)(R.r,{iframe:e.iframe}),e.closeCallback&&(0,a.tZ)(G,{alt:"Close web view",onClick:e.closeCallback,children:(0,a.tZ)(u.Z,{})})]}),d&&e.isVisible?(0,a.tZ)(L,{targetElement:f.current}):null]})}},78141:function(e,t,n){var r=n(26042),i=n(69396),a=n(35944),o=n(67294),c=n(92876),s=n(90317),l=n(63377),u=n(54523),d=n(69346),f=n(81255),p=n(47979),h=n(34881),m=n(96074),v=n(86292),g=n(39571),b=n(43804),x=n(23329),y=n(83241),Z=function(e,t){var n=e.fs,Z=e.session,w=e.trackUrlSelect,k=e.onClose,E=e.isVisible,_=e.className,C=(0,l.Z)(),S=(0,s.I5$)({variables:{id:C}}).data,T="Repl"===(null===S||void 0===S?void 0:S.repl.__typename)?S.repl:null,I=(0,o.useContext)(u.F),j=(0,o.useRef)(null),R=(0,o.useState)(!1),N=R[0],P=R[1],D=(0,o.useState)(0),B=D[0],O=D[1],A=(0,p.f6)();(0,m.Y)(n,j);var z="html"===(null===T||void 0===T?void 0:T.lang.id)||"html_beta"===(null===T||void 0===T?void 0:T.lang.id);(0,o.useEffect)((function(){var e=function(e){var t;if((new URL(e.origin).hostname.endsWith(".id.repl.co")||new URL(e.origin).hostname.endsWith(".id.firewalledreplit.co"))&&"object"===typeof e.data&&(null===(t=e.data)||void 0===t?void 0:t.type))switch(e.data.type){case"event":var n=e.data,a=n.event,o=n.payload;return void("error"===a?c.Tb(o):(0,v.j)(a,(0,i.Z)((0,r.Z)({},o),{replId:C,isHTML:z})));case"show-badge":return void O(e.data.count);case"ready":var s,l;if(e.data.wasShown)null===(s=j.current)||void 0===s||null===(l=s.contentWindow)||void 0===l||l.postMessage({type:"toggleDevtools",source:"automatic"},"*");return;case"open-file":var u=(0,g.om)(e.data.fileName)||e.data.fileName;u&&Z.updateDeeplink({path:u,line:e.data.lineNumber,col:e.data.columnNumber})}};if(j.current)return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[C,z,j.current,Z]);var U=function(){O(0),P(!0),n.flush().then((function(){j.current&&(j.current.src+="")})).finally((function(){P(!1)}))};(0,o.useImperativeHandle)(t,(function(){return{refresh:U}}));var L=(0,x.Z)(b.H.Output);return T?(0,a.BX)(d.Z,{className:_,css:[f.l0.backgroundColor.backgroundDefault,f.l0.height("100%"),f.l0.borderRadius(4),{overflow:"hidden"}],innerRef:z?L:function(){},children:[(0,a.tZ)(h.Z,{canEditDomain:T.currentUserPermissions.linkDomain,anon:T.devUrl.includes("--five-nine.repl.co"),url:T.config.domain?"https://".concat(T.config.domain):T.prodUrl,trackUrlSelect:function(){w&&w(T.devUrl)},replId:C,refreshing:N,onRefresh:U,isKaboomDraw:A,iframe:j,closeCallback:k,isVisible:E,devToolsBadge:B,onToggleDevtools:function(){var e,t;O(0),null===(e=j.current)||void 0===e||null===(t=e.contentWindow)||void 0===t||t.postMessage({type:"toggleDevtools",source:"manual"},"*")}}),I?(0,a.tZ)(u.Y,{}):(0,a.tZ)("iframe",(0,r.Z)({title:"webview","data-cy":"ws-webview",ref:j,src:T.devUrl,css:[f.l0.flex.growAndShrink(1),{border:"none",display:"block",backgroundColor:f.TV.white}]},y.Z))]}):null};t.Z=(0,o.forwardRef)(Z)},31385:function(e,t,n){n.d(t,{b:function(){return r}});var r="workspace-root"},33670:function(e,t,n){var r=n(47568),i=n(34051),a=n.n(i),o=n(67294),c=n(59916),s=n(35424),l=n.n(s),u=n(93058),d=n(5783),f=n(66223),p=n(90317),h="Couldn't fetch the template .replit. Please try again.";t.Z=function(){var e=(0,u.Z)().showError,t=(0,p.wlL)({fetchPolicy:"no-cache",skip:!0}).refetch,n=(0,p.why)({fetchPolicy:"no-cache",skip:!0}).refetch,i=o.useCallback(function(){var i=(0,r.Z)(a().mark((function r(i){var o,s,u,p,m,v,g,b,x,y,Z,w;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=i.replId,s=i.replUrl,!o){r.next=8;break}return r.next=5,t({replId:o});case 5:case 11:u=r.sent,r.next=15;break;case 8:if(!s){r.next=14;break}return r.next=11,n({rootOriginReplUrl:s});case 14:throw new Error("how did we even get here?");case 15:if(p=u.data,m=u.error,p&&!m){r.next=19;break}return e(h),r.abrupt("return",null);case 19:if(v=p.repl,g=p.currentUser,"Repl"===(null===v||void 0===v?void 0:v.__typename)&&"CurrentUser"===(null===g||void 0===g?void 0:g.__typename)){r.next=23;break}return e(h),r.abrupt("return",null);case 23:return(b=(0,d.Z)({onUnrecoverableError:function(){e(h)}})).connect({context:{repl:v,currentUser:g,asViewer:!0}}),x=(0,f.Z)({container:b}),r.prev=27,r.next=30,x.readFile(c.l);case 30:"content"in(Z=r.sent)&&(y=Z.content),r.next=39;break;case 34:return r.prev=34,r.t0=r.catch(27),e(h),b.destroy(),r.abrupt("return",null);case 39:if(b.destroy(),y){r.next=43;break}return e(h),r.abrupt("return",null);case 43:r.prev=44,w=l().parse(y.toString()),r.next=52;break;case 48:return r.prev=48,r.t1=r.catch(44),e(h),r.abrupt("return",null);case 52:return r.abrupt("return",w);case 53:case"end":return r.stop()}}),r,null,[[27,34],[44,48]])})));return function(e){return i.apply(this,arguments)}}(),[t,n,e]);return i}},40005:function(e,t,n){n.d(t,{O:function(){return h},u:function(){return m}});var r=n(47568),i=n(10253),a=n(34051),o=n.n(a),c=n(67294),s=n(6625),l=n(99408),u=n(47579),d=n(30345),f=n(59916),p=n(65456),h=function(e){var t=e.split("/");if(1===t.length)return t;for(var n=[],r=0;r<t.length;r++)n.push(t.slice(0,r+1).join("/"));return n},m=function(){var e=(0,l.Z)().fs,t=(0,u.P)(),n=(0,s.Z)(),a=(0,i.Z)(c.useState(null),2),m=a[0],v=a[1];return c.useEffect((function(){var i=function(){var i=(0,r.Z)(o().mark((function r(){var i,a,c,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.listFiles();case 4:if(i=r.sent,n.current){r.next=7;break}return r.abrupt("return");case 7:if(!i.error&&i.files){r.next=10;break}return v([]),r.abrupt("return");case 10:return r.next=12,e.readFile(f.l);case 12:a=r.sent,c=i.files,s=d.uP.concat(d.nh),v(c.filter((function(e){return(a.error===p.Df.NotFound||!t.some((function(t){return h(e).some((function(e){return t.test(e)}))})))&&!s.includes(e)})));case 16:case"end":return r.stop()}}),r)})));return function(){return i.apply(this,arguments)}}();i()}),[t,e,n]),m}},64193:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(10253),i=n(67294),a=n(68944),o=n(83261),c=n(86292),s=n(99382),l=n(72064);function u(e){var t=e.autoFocus,n=e.onShellKey,u=e.container,d=e.createXtermProps,f=(0,r.Z)((0,s.Z)({createXtermProps:d}),2),p=f[0],h=f[1],m=(0,o.Z)({service:"shell",container:u});return i.useEffect((function(){if(m.channel&&p){var e=p.onKey((function(e){var t=e.key,r=e.domEvent;"\r"===t&&(0,c.j)(c.U3.SHELL_COMMAND_EVALED),n&&n(r)})),t=u.client(),r=p.onData((function(e){if(m.channel&&"open"===m.channel.status&&t.connectionState===a.em.CONNECTED){var n=(0,l.I)(e);m.channel.send({input:n})}}));m.channel.onCommand((function(e){e.hint?p.write("\x1b[0m\x1b[33m".concat(e.hint.text,"\x1b[0m\r\n")):e.output&&p.write(e.output)}));var i=function(){m.channel&&"open"===m.channel.status&&t.connectionState===a.em.CONNECTED&&m.channel.send({resizeTerm:p.getSize()})},o=p.onResize(i);return i(),function(){e.dispose(),r.dispose(),o.dispose()}}}),[m.channel,p,n,u]),i.useEffect((function(){t&&p&&p.focus()}),[t,p]),[p,h]}},58967:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(48551),i=n(7787),a=n(77402),o=new Map,c=function(e){var t=o.get(e);if(void 0!==t){var n=t.start,r=t.source,c=window.performance.now(),s=(0,a.V)(e);i.kg.time("time to load file",c-n,{from:r,fileViewerType:s}),o.delete(e)}};function s(e){return{trackTimeToLoadFileStart:function(t){return function(e,t){if((0,r.Mb)(e)){var n=window.performance.now();o.set(e,{start:n,source:t})}}(t,e)},trackTimeToLoadFileEnd:c}}},60573:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(31826),i=n(63805),a=n(86292),o=n(21131),c=n(59916),s=n(25990);function l(){return(0,o.Z)((function(){return(0,r.Z)((function(e){e!==c.l?(0,a.j)(a.U3.WS_TYPED,{fileExt:e,isMobile:(0,i.isMobile)({tablet:!1})}):(0,a.j)(a.U3.VISUAL_DOTREPLIT_EDITOR_USED,{action:s.T.NonFlaggedWsType})}),6e4)}),[])}},27930:function(e,t,n){n.d(t,{Z:function(){return ne}});var r=n(51438),i=n(52951),a=n(14924),o=n(28668),c=n(26042),s=n(25171),l=n(35944),u=n(67294),d=n(92876);var f=function(e,t,n,r){return function(i){return function(a){return function(o){a(o);var c=i.getState();if(c){var s=c.plugins,l=Object.keys(s),u=!0,d=!1,f=void 0;try{for(var p,h=function(){var a=p.value;if(o.pud&&o.pud!==a)return"continue";var s=c.plugins[a];if(s.broken)return"continue";var l=s.type,u=n[l];if(u)try{var d=u(t,a,o);if(d){var f=e(a).dispatch(d);f&&"object"===typeof f&&"function"===typeof f.catch&&f.catch((function(e){i.dispatch({type:"PLUGIN_BROKE",pud:a,message:e.toString()}),r({error:e,pluginType:l,source:"receiver",pud:a})}))}}catch(h){i.dispatch({type:"PLUGIN_BROKE",pud:a,message:h.toString()}),r({error:h,pluginType:l,source:"receiver",pud:a})}},m=l[Symbol.iterator]();!(u=(p=m.next()).done);u=!0)h()}catch(v){d=!0,f=v}finally{try{u||null==m.return||m.return()}finally{if(d)throw f}}}}}}},p=n(69396),h=n(59637),m=n(29815),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;var n=(0,h.Z)(t),r=n[0],i=n.slice(1);return v(e[r],i)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(0===t.length)return n;var r=(0,h.Z)(t),i=r[0],o=r.slice(1);return Array.isArray(e)?(e[i]=g(e[i],o,n),e):(0,p.Z)((0,c.Z)({},e),(0,a.Z)({},i,g(e[i],o,n)))};var b=function(e,t,n){var r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var o in r)if(!i.pud||i.pud===o){var s=r[o];if(!s.broken){var l=t[s.type];if(l)if("PLUGIN_BROKE"!==i.type){var u=void 0;try{u=l(s.state,(0,p.Z)((0,c.Z)({},i),{wid:e}))}catch(d){r=(0,p.Z)((0,c.Z)({},r),(0,a.Z)({},o,(0,p.Z)((0,c.Z)({},s),{broken:!0,errorMessage:d.toString()}))),n({error:d,pluginType:s.type,source:"reducer",pud:o});continue}u!==s.state&&(r=(0,p.Z)((0,c.Z)({},r),(0,a.Z)({},o,(0,p.Z)((0,c.Z)({},s),{state:u}))))}else r=(0,p.Z)((0,c.Z)({},r),(0,a.Z)({},o,(0,p.Z)((0,c.Z)({},s),{broken:!0,errorMessage:i.message})))}}return r},i=function(e,t){switch(t.type){case"UPDATE_LAYOUT":return(0,c.Z)({},e,g(e,t.path.concat(t.property||[]),t.to));case"SET_ACTIVE_TAB":return(0,c.Z)({},e,g(e,t.path.concat("active"),t.tabIndex));case"SET_SPLIT_POSITION":return(0,c.Z)({},e,g(e,t.path.concat("position"),t.position));case"NEW_TAB":if("tabs"!==v(e,t.path.concat("type"))){var r=new Error("trying to add tab to non tab component");return n({error:r,pluginType:"layout",pud:null,source:"reducer"}),e}var i=(0,c.Z)({},e,g(e,t.path.concat("tabs"),(0,m.Z)(v(e,t.path.concat("tabs"))).concat([t.layout])));if(!t.setActiveTab)return i;var o=v(i,t.path.concat("tabs")).findIndex((function(e){return e.pud===t.layout.pud}));return(0,c.Z)({},i,g(i,t.path.concat("active"),o));case"CLOSE_TAB":var s=v(e,t.path.concat("tabs")),l=t.tabIndex||s.findIndex((function(e){return e.pud===t.tabPud}));if(!s[l]){var u=new Error("trying to remove nonexistent tab");return n({error:u,pluginType:"layout",pud:null,source:"reducer"}),e}var d=v(e,t.path.concat("active")),f=d===l?Math.max(d-1,0):d,h=(0,c.Z)({},e,g(e,t.path.concat("active"),f));return(0,c.Z)({},h,g(h,t.path.concat("tabs"),(0,m.Z)(s.slice(0,l).concat(s.slice(l+1)))));case"LOAD_PLUGIN":return(0,p.Z)((0,c.Z)({},e),{pluginTitles:(0,p.Z)((0,c.Z)({},e.pluginTitles),(0,a.Z)({},t.pluginPud,t.title))});default:return e}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{plugins:{},layout:{}},n=arguments.length>1?arguments[1]:void 0,o=r(e.plugins,n);o!==e.plugins&&(e=(0,p.Z)((0,c.Z)({},e),{plugins:o}));var s=i(e.layout,n);switch(s!==e.layout&&(e=(0,p.Z)((0,c.Z)({},e),{layout:s})),n.type){case"OPEN_FILE":return(0,p.Z)((0,c.Z)({},e),{activeFile:n.path});case"MOVE_FILE":return e.activeFile===n.path?(0,p.Z)((0,c.Z)({},e),{activeFile:n.to}):e;case"LOAD_PLUGIN":var l=t[n.pluginType];l||(l=function(e,t){});var u=n.initialState||{},d=l(void 0,{type:"@@INIT",initialState:u});return(0,p.Z)((0,c.Z)({},e),{plugins:(0,p.Z)((0,c.Z)({},e.plugins),(0,a.Z)({},n.pluginPud,{type:n.pluginType,state:d,isClosable:n.isClosable,isDraggable:n.isDraggable}))});case"UNLOAD_PLUGIN":return(0,p.Z)((0,c.Z)({},e),{plugins:Object.keys(e.plugins).reduce((function(t,r){return r!==n.pud?(0,p.Z)((0,c.Z)({},t),(0,a.Z)({},r,e.plugins[r])):t}),{})});default:return e}};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORKSPACE":return t.state;case"CREATE_WORKSPACE":return{layout:t.layout,plugins:r(void 0,t),activeFile:t.activeFile};default:return o(e,t)}}},x=n(4111),y=n(10253),Z=n(78135),w=n(55123),k=function(e){var t={strokeMiterlimit:10,fill:"none",stroke:e.color,strokeWidth:1};return(0,l.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,l.BX)("g",{children:[(0,l.tZ)("line",{style:t,x1:"3",y1:"3",x2:"13",y2:"13"}),(0,l.tZ)("line",{style:t,x1:"13",y1:"3",x2:"3",y2:"13"})]})})};var E=function(e){var t=e.onClick,n=e.onMouseDown,r=e.Icon,i=e.color,a=e.style;return(0,l.tZ)("button",{onClick:t,onMouseDown:n,style:(0,c.Z)({color:"var(--foreground-default)",backgroundColor:"transparent",border:"none",cursor:"pointer",margin:"0",outline:"none",padding:"0"},a),children:(0,l.tZ)(r,{color:i})})},_=function(e){var t=e.color;return(0,l.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8.467 10.583",children:(0,l.tZ)("path",{d:"M4.233.684L2.988 1.93l.374.374.607-.607V3.97H1.697l.607-.607-.374-.374L.684 4.233 1.93 5.48l.374-.374-.607-.607H3.97V6.77l-.607-.607-.374.374 1.245 1.245L5.48 6.537l-.374-.374-.607.607V4.498H6.77l-.607.607.374.374 1.245-1.246-1.245-1.245-.374.374.607.607H4.498V1.697l.607.607.374-.374z",fill:t,"white-space":"normal",overflow:"visible"})})},C={height:"12px",width:"12px",margin:"0 4px"},S=function(e){var t=e.isTabbed,n=e.isClosable,r=e.isDraggable,i=e.HeaderPlugin,a=e.onClose,o=e.onDrag;return(0,l.BX)(u.Fragment,{children:[i,(0,l.BX)("div",{style:{alignItems:"center",display:"flex",height:"100%",marginLeft:"auto"},children:[r&&!t&&(0,l.tZ)(E,{Icon:_,onMouseDown:o,style:C}),n&&!t&&(0,l.tZ)(E,{Icon:k,onClick:a,style:C})]})]})},T=n(86292);var I=1e5,j=32,R={width:"100%",height:"100%"},N=function(e){return e.getBoundingClientRect()},P=function(e,t){var n=t.px,r=t.pc;return{px:e.px+(n||0),pc:e.pc+(r||0)}},D=function(e,t){return{px:e.px*t,pc:e.pc*t}},B={px:0,pc:0},O=function(e){return{px:e,pc:0}},A=function(e){return{px:0,pc:e}},z=function(e){var t=e.px,n=e.pc;return 0===t&&0===n},U=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:B,y:B,w:A(100),h:A(100),p:[]};if("tabs"===r.type){var o=r.active||0;n.push((0,p.Z)((0,c.Z)({},a),{h:O(j),tabs:r.tabs.map((function(e){return e.pud||e.type})),active:o}));for(var s=0;s<r.tabs.length;s++)U(e,t,n,(0,c.Z)({},r.tabs[s]),i,(0,p.Z)((0,c.Z)({},a),{p:(0,m.Z)(a.p).concat(["tabs",s.toString()]),y:P(a.y,O(j)),h:s===o?P(a.h,O(-32)):B,w:s===o?a.w:B}))}if("split"===r.type){var l=void 0===r.position?50:r.position,u=!1;if("undefined"!==typeof r.fixed?u=r.fixed:("undefined"!==typeof r.leftSize||"undefined"!==typeof r.rightSize)&&(u=!0),"undefined"!==typeof r.leftSize&&"undefined"!==typeof r.rightSize)throw new Error("Cannot have both leftSize and rightSize specified");var d=null;if(0===l?d="left":100===l&&(d="right"),r.stacked){var f=!z(a.h)&&!u,h=D(a.h,l/100);r.rightSize?h=P(a.h,O(-r.rightSize)):r.leftSize?h=O(r.leftSize):"left"===d||z(a.h)?h=B:"right"===d&&(h=P(h,O(-8))),U(e,t,n,r.left,i,(0,p.Z)((0,c.Z)({},a),{p:(0,m.Z)(a.p).concat(["left"]),h:h}));var v=P(a.y,D(a.h,l/100));r.rightSize?v=P(a.y,h):r.leftSize?v=P(a.y,O(r.leftSize)):"left"===d?v=a.y:"right"===d&&f&&(v=P(v,O(-8)));var g=D(a.h,(100-l)/100);r.rightSize?g=O(r.rightSize):r.leftSize?g=P(a.h,O(-r.leftSize)):("right"===d||z(a.h))&&(g=B),U(e,t,n,r.right,i,(0,p.Z)((0,c.Z)({},a),{p:(0,m.Z)(a.p).concat(["right"]),y:f?P(v,O(8)):v,h:f?P(g,O(-8)):g})),f&&t.push((0,p.Z)((0,c.Z)({},a),{y:v,snapped:d,h:O(8),stacked:r.stacked}))}else{var b=!z(a.w)&&!u,x=D(a.w,l/100);r.rightSize?x=P(a.w,O(-r.rightSize)):r.leftSize?x=O(r.leftSize):"left"===d||z(a.w)?x=B:"right"===d&&(x=P(x,O(-8))),U(e,t,n,r.left,i,(0,p.Z)((0,c.Z)({},a),{p:(0,m.Z)(a.p).concat(["left"]),w:x}));var y=P(a.x,D(a.w,l/100));"left"===d?y=a.x:r.rightSize?y=P(a.x,x):r.leftSize?y=P(a.x,O(r.leftSize)):"right"===d&&(y=P(y,O(-8)));var Z=D(a.w,(100-l)/100);r.rightSize?Z=O(r.rightSize):r.leftSize?Z=P(a.w,O(-r.leftSize)):("right"===d||z(a.w))&&(Z=B),U(e,t,n,r.right,i,(0,p.Z)((0,c.Z)({},a),{p:(0,m.Z)(a.p).concat(["right"]),x:b?P(y,O(8)):y,w:b?P(Z,O(-8)):Z})),b&&t.push((0,p.Z)((0,c.Z)({},a),{x:y,snapped:d,w:O(8),stacked:r.stacked}))}}if("pane"===r.type){var k=r.header,E=r.pud,_=i[E]||{isDraggable:!1,isClosable:!1},C=w.JU(a.p),S=k||!C&&(_.isClosable||_.isDraggable),T=S?k&&k.height||32:0;e.push({header:S&&{pud:k&&k.pud,p:(0,p.Z)((0,c.Z)({},a),{h:O(T)})},pud:E,p:(0,p.Z)((0,c.Z)({},a),{y:P(a.y,O(T)),h:P(a.h,O(-T))}),isDraggable:_.isDraggable,isClosable:_.isClosable})}},L=function(e){var t,n,r,i=e.stacked,o=e.onMouseDown,s=e.snapped,u=e.style,d=(0,y.Z)(V(),2),f=d[0],h=d[1],m=f?"var(--outline-default)":"var(--outline-dimmest)";s?(n="left"===s?i?"translate(0px, -2px) rotate(135deg)":"translate(-2px, 0px) rotate(45deg)":i?"translate(0px, 2px) rotate(-45deg)":"translate(2px, 0px) rotate(-135deg)",t={width:6,height:6,borderRight:"solid 1px ".concat(m),borderTop:"solid 1px ".concat(m),transition:"0.1s background-color",transform:n}):(r={backgroundColor:m,borderRadius:"var(--border-radius-4)"},(0,a.Z)(r,i?"height":"width",2),(0,a.Z)(r,i?"width":"height",25),(0,a.Z)(r,"transition","0.1s background-color"),t=r);return(0,l.tZ)("div",(0,p.Z)((0,c.Z)({},h),{onMouseDown:o,onTouchStart:o,style:(0,c.Z)({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flex:"1 0 auto",overflow:"hidden",borderRadius:"var(--border-radius-4)",background:"var(--background-root)",cursor:i?"row-resize":"col-resize",zIndex:1},u),children:(0,l.tZ)("div",{style:t})}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(0===t.length)return n;var r=(0,h.Z)(t),i=r[0],o=r.slice(1);return Array.isArray(e)?(e[i]=G(e[i],o,n),e):(0,p.Z)((0,c.Z)({},e),(0,a.Z)({},i,G(e[i],o,n)))},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;var n=(0,h.Z)(t),r=n[0],i=n.slice(1);return X(e[r],i)},F=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),(0,a.Z)((0,x.Z)(e),"state",{protectEvents:!1,newLayout:null,debug:!1,dragging:null,resizing:null,layout:e.props.store.getState().layout,plugins:e.props.store.getState().plugins}),(0,a.Z)((0,x.Z)(e),"getPluginComponent",(function(t,n){var r=e.state.plugins[n],i=e.props,a=i.pluginComponents,o=i.wid,c=null;return c=r?r.broken?(0,l.tZ)(W,{handleError:function(t){return e.handleError({error:t,pluginType:r.type,source:"component",pud:n})},message:r.errorMessage||"Plugin broken with no error :/"}):(c=a[r.type])?(0,l.tZ)(c,{wid:o,pud:n,dimensions:e.getPluginDims(n,{w:t.w,h:t.h}),style:R}):(0,l.tZ)(W,{handleError:function(t){return e.handleError({error:t,pluginType:r.type,source:"component",pud:n})},message:"No plugin component by the name ".concat(n)}):(0,l.tZ)(W,{handleError:function(t){return e.handleError({error:t,pluginType:"none",source:"component",pud:n})},message:"No known plugin by the name ".concat(n)})})),(0,a.Z)((0,x.Z)(e),"onResizerDown",(function(t,n,r){var i=t.target;e.setState({protectEvents:!0,resizing:{stacked:r}}),t.preventDefault(),t.stopPropagation();var a=0,o=function(t,n){if("pane"===t.type){var i=e.nodes[n.join(".")].ref;if(!i)return;a+=r?N(i).height:N(i).width}else if("split"===t.type)t.stacked===r?(o(t.left,(0,m.Z)(n).concat(["left"])),o(t.right,(0,m.Z)(n).concat(["right"]))):o(t.left,(0,m.Z)(n).concat(["left"]));else if("tabs"===t.type){var c=t.active||0;o(t.tabs[c],(0,m.Z)(n).concat(["tabs",c.toString()]))}};o(X(e.state.layout,["tiling"].concat((0,m.Z)(n))),n),a+=8;var c=r?N(i).top:N(i).left,s=X(e.state.layout,["tiling"].concat((0,m.Z)(n),["position"]));"number"!==typeof s&&(s=50);var l=function(t){t.preventDefault(),t.stopPropagation();var i,o=t.touches?t.touches[0]:t,l=(r?o.pageY:o.pageX)-c,u=a*(s/100)+l;i=u>a-32?100:u<32?0:u/a*100,e.setState({newLayout:G(e.state.layout,["tiling"].concat((0,m.Z)(n),["position"]),i)})},u=function(){document.removeEventListener("touchmove",l),document.removeEventListener("mousemove",l),document.removeEventListener("touchend",u),document.removeEventListener("mouseup",u),e.setState({protectEvents:!1,resizing:null}),null!==e.state.newLayout&&(e.props.store.dispatch({type:"SET_SPLIT_POSITION",position:X(e.state.newLayout,["tiling"].concat((0,m.Z)(n),["position"])),path:["tiling"].concat((0,m.Z)(n))}),e.setState({newLayout:null}))};document.addEventListener("touchmove",l),document.addEventListener("mousemove",l),document.addEventListener("touchend",u),document.addEventListener("mouseup",u)})),(0,a.Z)((0,x.Z)(e),"onDrag",(function(t,n){t.stopPropagation(),t.preventDefault();var r=t.pageX,i=t.pageY,a=null,o=[];for(var s in e.nodes){var l=e.nodes[s];if(l.ref){var u=N(l.ref),d=u.top,f=u.left,p=u.width,h=u.height,m={p:l.p,x:f,y:d,w:p,h:h,pud:l.pud};l.pud===n?a=m:o.push(m)}}e.setState({protectEvents:!0});var v=function(t){t.preventDefault(),t.stopPropagation();var s=t.pageX,l=t.pageY,u={target:null,side:"bottom",left:s,top:l},d=!0,f=!1,p=void 0;try{for(var h,m=o[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;if((e.state.plugins[v.pud]||{}).isDraggable&&(s>v.x&&s<v.x+v.w&&l>v.y&&l<v.y+v.h)){var g=s-v.x,b=v.x+v.w-s,x=l-v.y,y=v.y+v.h-l,Z=Math.min(g,b,x,y);u.target=v.pud,Z===g?u.side="left":Z===b?u.side="right":Z===x&&(u.side="top");break}}}catch(E){f=!0,p=E}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}var w=s-r,k=l-i;u.left=a.x+w,u.top=a.y+k,e.setState({dragging:(0,c.Z)({pud:n,width:a.w,height:a.h},u)})},g=function(){e.state.dragging&&e.state.dragging.target&&e.props.store.dispatch(M({pud:n,side:e.state.dragging.side,target:e.state.dragging.target})),e.setState({protectEvents:!1,dragging:null}),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",g)})),(0,a.Z)((0,x.Z)(e),"nodes",{}),(0,a.Z)((0,x.Z)(e),"dimMap",{}),(0,a.Z)((0,x.Z)(e),"getPluginDims",(function(t,n){var r=e.dimMap[t];return r&&r.h.pc===n.h.pc&&r.h.px===n.h.px&&r.w.pc===n.h.pc&&r.w.px===n.w.px?r:(e.dimMap[t]=n,n)})),e}return(0,i.Z)(n,[{key:"cancelContextMenuIntercept",value:function(e){e.shiftKey&&e.altKey&&e.preventDefault()}},{key:"componentDidMount",value:function(){this.isWeMounted=!0,this.subscribe(),document.addEventListener("contextmenu",this.cancelContextMenuIntercept)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("contextmenu",this.cancelContextMenuIntercept),this.isWeMounted=!1}},{key:"subscribe",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var n=t.getState(),r=n.layout,i=n.plugins;e.isWeMounted&&e.setState((function(e){for(var t in e.plugins){if(!i[t])return{layout:r,plugins:i};if(i[t].broken!==e.plugins[t].broken)return{layout:r,plugins:i}}return e.layout===r?null:{layout:r,plugins:i}}))}))}},{key:"shouldComponentUpdate",value:function(e,t){if(this.state!==t)return!0;for(var n in this.props)if(this.props[n]!==e[n])return!0;return!1}},{key:"onMaybeDrag",value:function(e,t){var n=this.state.plugins[t]&&this.state.plugins[t].isDraggable;(e.altKey||e.shiftKey)&&n&&this.onDrag(e,t)}},{key:"closeTabbedPlugin",value:function(e){var t=e.path,n=e.tabIndex,r=e.activeTabIndex;return function(e,i){var a=i().layout,o=w.QK(a,t).tabs,s=o[n].pud;if(e({type:"CLOSE_TAB",path:t,tabIndex:n}),o.length-1===0)e((0,c.Z)({type:"UPDATE_LAYOUT"},w.Od({layout:a,nodePath:t})));else if(n<=r){e({type:"SET_ACTIVE_TAB",tabIndex:Math.max(r-1,0),path:t})}e({type:"PLUGIN_CLOSED",closedPud:s})}}},{key:"closePlugin",value:function(e){var t=e.pud;return function(e,n){var r=n().layout;e((0,c.Z)({type:"UPDATE_LAYOUT"},w.Od({layout:r,pud:t}))),e({type:"PLUGIN_CLOSED",closedPud:t})}}},{key:"getPaneStyles",value:function(e,t){var n=z(t.w)||z(t.h),r=t.p.includes("tabs");return e?{opacity:.75,overflow:"hidden",visibility:n?"hidden":void 0,height:this.state.dragging.height,position:"absolute",left:0,top:0,transform:"translate(".concat(this.state.dragging.left,"px, ").concat(this.state.dragging.top-(t.h.px>0?t.h.px:0),"px)"),width:this.state.dragging.width,zIndex:99999,transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}:{position:"absolute",visibility:n&&!r?"hidden":void 0,display:n&&r?"none":void 0,height:"calc(".concat(t.h.pc,"% + ").concat(t.h.px,"px)"),width:"calc(".concat(t.w.pc,"% + ").concat(t.w.px,"px)"),left:"calc(".concat(t.x.pc,"% + ").concat(t.x.px,"px)"),top:"calc(".concat(t.y.pc,"% + ").concat(t.y.px,"px)"),opacity:"1",transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}}},{key:"render",value:function(){var e=this,t=this.state.newLayout||this.state.layout,n=t.tiling,r=t.floating,i=this.state.plugins,a=[],o=[],s=[];U(a,o,s,n,i);var d="default";return this.state.resizing?d=this.state.resizing.stacked?"row-resize":"col-resize":this.state.dragging&&(d="grabbing"),(0,l.BX)("div",{style:{height:"100%",width:"100%",position:"absolute"},children:[a.map((function(t){var n=t.pud,r=t.p,i=t.header,a=t.isClosable,o=t.isDraggable,s=e.state.plugins[n]||{},d=e.state.plugins[i&&i.pud]||{},f=i&&i.p.h.px,h=i&&i.pud&&(0,l.tZ)(W,{handleError:function(t){return e.props.handleError({error:t,pluginType:d.type,source:"component",pud:n})},message:d.broken?d.errorMessage:void 0,children:(0,l.tZ)(Z.zt,{store:e.props.classicStoreFor(n),children:e.getPluginComponent(i.p,i.pud)})}),m=e.state.dragging&&e.state.dragging.pud===n;return(0,l.BX)(u.Fragment,{children:[i&&(0,l.tZ)("div",{className:"WHO AM I??",style:(0,p.Z)((0,c.Z)({},e.getPaneStyles(m,i.p)),{backgroundColor:"var(--background-default)",color:"var(--foreground-default)",height:"".concat(f,"px"),alignItems:"center",display:"flex",justifyContent:"spaceBetween"}),children:(0,l.tZ)(S,{HeaderPlugin:h,isClosable:a,isDraggable:o,isTabbed:w.JU(r.p),onClose:function(){e.props.store.dispatch(e.closePlugin({pud:n}))},onDrag:function(t){return e.onDrag(t,n)}})}),(0,l.BX)("div",{ref:function(t){return e.nodes[r.p.join(".")]={ref:t,p:r,pud:n}},style:(0,p.Z)((0,c.Z)({},e.getPaneStyles(m,r)),{borderRadius:"var(--border-radius-4)",boxShadow:m?"var(--shadow-2)":"none"}),onMouseDown:function(t){return e.onMaybeDrag(t,n)},children:[e.state.debug?(0,l.BX)("div",{style:{backgroundColor:"hsl(".concat(n.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return e+t})),", 50%, 50%)"),width:"100%",height:"100%",border:"inset 5px"},children:[n,(0,l.BX)("pre",{children:["x: ","calc(".concat(r.x.pc,"% + ").concat(r.x.px,"px)"),(0,l.tZ)("br",{}),"y: ","calc(".concat(r.y.pc,"% + ").concat(r.y.px,"px)"),(0,l.tZ)("br",{}),"w: ","calc(".concat(r.w.pc,"% + ").concat(r.w.px,"px)"),(0,l.tZ)("br",{}),"h: ","calc(".concat(r.h.pc,"% + ").concat(r.h.px,"px)"),(0,l.tZ)("br",{}),"p: ",r.p.join(" ")]})]}):(0,l.tZ)(W,{handleError:function(t){return e.props.handleError({error:t,pluginType:s.type,source:"component",pud:n})},message:s.broken?s.errorMessage:void 0,children:(0,l.tZ)(Z.zt,{store:e.props.classicStoreFor(n),children:e.getPluginComponent(r,n)})}),e.state.dragging&&e.state.dragging.target===n?(0,l.tZ)("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"rgba(127, 127, 127, 0.6)",transition:"transform 0.2s",transformOrigin:"top left",transform:"translate(".concat("right"===e.state.dragging.side?"50%":0,", ").concat("bottom"===e.state.dragging.side?"50%":0,") ").concat("left"===e.state.dragging.side||"right"===e.state.dragging.side?"scaleX(.5)":"scaleY(.5)")}}):null]})]},n)})),this.state.protectEvents&&(0,l.tZ)("div",{style:{zIndex:I,position:"absolute",top:0,bottom:0,left:0,right:0,cursor:d}}),o.map((function(t,n){var r=t.x,i=t.y,a=t.w,o=t.h,c=t.p,s=t.snapped,u=t.stacked;return(0,l.tZ)(L,{onMouseDown:function(t){return e.onResizerDown(t,c,u)},snapped:s,stacked:u,style:{left:"calc(".concat(r.pc,"% + ").concat(r.px,"px)"),top:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),width:"calc(".concat(a.pc,"% + ").concat(a.px,"px)"),height:"calc(".concat(o.pc,"% + ").concat(o.px,"px)")}},n)})),s.map((function(t,n){var r=t.x,i=t.y,a=t.w,o=t.h,c=t.p,s=t.tabs,u=t.active;return(0,l.tZ)(H,{tabsMetadata:s.map((function(t){if("split"===t){var r=X(e.state.layout,["tiling"].concat((0,m.Z)(c),["tabs"]))[n];t=r.left.pud||r.right.pud}return{title:e.state.layout.pluginTitles[t]||"untitled",isClosable:e.state.plugins[t]&&e.state.plugins[t].isClosable}})),active:u,setActive:function(t){return e.props.store.dispatch((function(e,n){var r=n(),i=["tiling"].concat((0,m.Z)(c));"shell"===X(r.layout,i.concat("tabs"))[t].pud&&(0,T.j)(T.U3.SHELL_OPENED),e({type:"SET_ACTIVE_TAB",tabIndex:t,path:i})}))},close:function(t){var n=["tiling"].concat((0,m.Z)(c));e.props.store.dispatch(e.closeTabbedPlugin({path:n,tabIndex:t,activeTabIndex:u}))},style:{position:"absolute",left:"calc(".concat(r.pc,"% + ").concat(r.px,"px)"),top:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),width:"calc(".concat(a.pc,"% + ").concat(a.px,"px)"),height:"calc(".concat(o.pc,"% + ").concat(o.px,"px)")}},n)})),r.map((function(t){if(!e.state.plugins[t])return(0,l.tZ)(W,{handleError:function(n){return e.props.handleError({error:n,pluginType:e.state.plugins[t].type,source:"component",pud:t})},message:"No plugin by the name ".concat(t)},t);var n=e.props.pluginComponents[e.state.plugins[t].type];return n?(0,l.tZ)(W,{handleError:function(n){return e.props.handleError({error:n,pluginType:e.state.plugins[t].type,source:"component",pud:t})},children:(0,l.tZ)(Z.zt,{store:e.props.classicStoreFor(t),children:(0,l.tZ)(n,{wid:e.props.wid,pud:t},t)})},t):(0,l.tZ)(W,{handleError:function(n){return e.props.handleError({error:n,pluginType:e.state.plugins[t].type,source:"component",pud:t})},message:"No component found for plugin by the name ".concat(t)},t)}))]})}}]),n}(u.Component);function M(e){var t=e.pud,n=e.side,r=e.target;return function(e,i){var a=i().layout,o=w.Bp(a,t),s=w.QK(a,o);e((0,c.Z)({type:"UPDATE_LAYOUT"},w.Od({layout:a,pud:t}))),a=i().layout;var l=w.Bp(a,r);if(l){w.JU(l)&&(l=w.Il(l));var u="leftOf";"right"===n?u="rightOf":"top"===n?u="above":"bottom"===n&&(u="below"),e((0,c.Z)({type:"UPDATE_LAYOUT"},w.$T(a,s.pud,u,l,{position:50})))}}}var W=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),(0,a.Z)((0,x.Z)(e),"state",{hasError:!!e.props.message,error:new Error(e.props.message)}),e}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t}),this.props.handleError(e)}},{key:"render",value:function(){return this.state.hasError?(0,l.BX)("div",{style:{background:"red",color:"white",width:"100%",height:"100%",padding:"0",margin:"0",overflow:"hidden"},children:[(0,l.tZ)("h1",{children:"This Plugin Crashed!"}),this.state.info&&(0,l.tZ)("pre",{children:this.state.info.componentStack||JSON.stringify(this.state.info)}),this.state.error&&(0,l.tZ)("pre",{children:this.state.error.toString()})]}):this.props.children||null}}]),n}(u.Component);function H(e){var t=e.active,n=void 0===t?0:t,r=e.setActive,i=void 0===r?function(){}:r,a=e.close,o=void 0===a?function(){}:a,c=e.tabsMetadata,s=e.style;return(0,l.tZ)("div",{style:s,children:(0,l.tZ)("div",{style:{height:j,fontFamily:"'IBM Plex Sans', sansSerif",backgroundColor:"var(--background-root)",display:"flex",alignItems:"flex-end",position:"relative",zIndex:2},children:c.map((function(e,t){return(0,l.tZ)(K,{title:e.title,isClosable:e.isClosable,onClose:function(){return o(t)},onClick:function(){return i(t)},isActive:t===n},t)}))})})}function V(){var e=(0,y.Z)(u.useState(!1),2),t=e[0],n=e[1];return[t,{onMouseEnter:function(){n(!0)},onMouseLeave:function(){n(!1)}}]}function q(e){var t=e.isHovering,n=e.isActive;return(0,c.Z)({height:"100%",boxSizing:"border-box",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",padding:"var(--space-8)",backgroundColor:"var(--background-root)",color:"var(--foreground-dimmer)",fontSize:"var(--font-size-default)",fontFamily:"var(--font-family-default)",borderTopRightRadius:"var(--border-radius-4)",borderTopLeftRadius:"var(--border-radius-4)",cursor:"pointer",transition:"0.2s background-color"},t?{backgroundColor:"var(--background-root)",color:"var(--foreground-default)"}:{},n?{backgroundColor:"var(--background-default)",color:"var(--foreground-default)"}:{})}function K(e){var t,n=e.isActive,r=e.onClick,i=e.title,a=e.isClosable,o=e.onClose,s=(0,y.Z)(V(),2),u=s[0],d=s[1];return(0,l.tZ)("div",(0,p.Z)((0,c.Z)({},d),{style:q({isHovering:u,isActive:n}),onClick:r,children:(0,l.BX)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[(t=i,t?t[0].toUpperCase()+t.slice(1):t),a&&(0,l.tZ)(E,{onClick:function(e){e.stopPropagation(),o()},Icon:k,style:{height:"8px",width:"8px",padding:0,marginLeft:"7px"}})]})}))}var Q=F,Y=n(98562),J=n(7787),$=n(25108),ee=function(e){return function(t){return function(n){return"function"===typeof n?n(e.dispatch,e.getState):t(n)}}},te=["activeFile"],ne=function(){function e(){var t=this;(0,r.Z)(this,e),(0,a.Z)(this,"marshal",(function(){var e=t.store.getState();return JSON.stringify(e)})),(0,a.Z)(this,"unmarshal",(function(e){var n=JSON.parse(e);t.store.dispatch({type:"SET_WORKSPACE",state:n})})),(0,a.Z)(this,"bootstrap",(function(e){t.store.dispatch(function(e){var t=e.wid,n=e.config;return function(e){for(var r in e({wid:t,type:"CREATE_WORKSPACE",language:n.language,layout:n.layout,activeFile:n.activeFile}),n.plugins)e(ie({wid:t,pluginPud:r,pluginType:n.plugins[r].type,title:n.plugins[r].title,initialState:n.plugins[r].state,isClosable:n.plugins[r].isClosable,isDraggable:n.plugins[r].isDraggable}))}}({config:e}))})),(0,a.Z)(this,"register",(function(e,n){t.reducers[e]=n.reducer,t.receivers[e]=n.receiver||n.receiver,t.components[e]=n.Component})),(0,a.Z)(this,"yikesInjectStore",(function(e){t.yikesExtraStore=e})),(0,a.Z)(this,"injectServices",(function(e){t.services=e})),(0,a.Z)(this,"handleError",(function(e){var n=e.error,r=e.pluginType,i=e.source,a=e.pud;if(0===t.errorHandlers.length)return $.error("Plugin with type ",r," errored in ",i," error is: "),void $.error(n);t.errorHandlers.forEach((function(e){return e({error:n,pluginType:r,source:i,pud:a})}))})),(0,a.Z)(this,"registerErrorHandler",(function(e){return t.errorHandlers.push(e),function(){t.errorHandlers=t.errorHandlers.filter((function(t){return t!==e}))}})),window.performance.clearMarks("create-workspace"),window.performance.mark("create-workspace"),this.wid=""+Math.random(),this.reducers={},this.receivers={},this.components={},this.pluginStores={},this.yikesExtraStore={getState:function(){return{}},subscribe:function(){return function(){}},dispatch:function(){}},this.errorHandlers=[];var n=[];this.govalConnectionStarted=null,this.classicStoreFor=function(e){var r={};if(t.pluginStores[e])return t.pluginStores[e];var o=t,s={getState:function(){return{get user(){return r.user=!0,o.yikesExtraStore.getState().user},get banners(){return r.banners=!0,o.yikesExtraStore.getState().banners},get replEnvironment(){return r.replEnvironment=!0,o.yikesExtraStore.getState().replEnvironment},get repls(){throw new Error("Please use repl shared reducer")},get replsByUrl(){throw new Error("Please use repl shared reducer")},get replsByUser(){throw new Error("Please use repl shared reducer")},get files(){throw new Error("Please use files shared reducer")},get messages(){return r.messages=!0,o.yikesExtraStore.getState().messages},get plans(){return r.plans=!0,o.yikesExtraStore.getState().plans},workspace:(0,a.Z)({},t.wid,t.store.getState()),get services(){return o.services}}},subscribe:function(n){var i={},a={},o=te.reduce((function(e,n){return e[n]=t.store.getState()[n],e}),{});return t.store.subscribe((function(){var c=t.store.getState().plugins[e];if(c!==i)return i=c,void n();var s=!1,l=t.yikesExtraStore.getState();for(var u in r)l[u]!==a[u]&&(a[u]=l[u],s=!0);var d=t.store.getState();for(var f in o)d[f]!==o[f]&&(o[f]=d[f],s=!0);s&&n()}))},dispatch:function(r){if(r.type){var a={};r.path&&(a={path:r.path}),d.n_({category:"redux",message:"workspace action",data:(0,c.Z)({type:r?r.type:null},a)})}if(r.wid||"function"===typeof r){var o=ee(t.classicStoreFor(e))(i(u)(l))(r),s=!0,f=!1,p=void 0;try{for(var h,m=n[Symbol.iterator]();!(s=(h=m.next()).done);s=!0){h.value.cb()}}catch(v){f=!0,p=v}finally{try{s||null==m.return||m.return()}finally{if(f)throw p}}return o}return t.yikesExtraStore.dispatch(r)}};return t.pluginStores[e]=s,s};var i=f(this.classicStoreFor,this.wid,this.receivers,this.handleError),o=b(this.wid,this.reducers,this.handleError),s=o(void 0,{type:"@@INIT"}),l=function(e){s=o(s,e)},u={getState:function(){return s},subscribe:function(e){var t=function(){n=n.filter((function(e){return e.unsub!==t}))};return n.push({cb:e,unsub:t}),t},dispatch:function(e){if(e.type){var t={};e.path&&(t={path:e.path}),d.n_({category:"redux",message:"workspace action",data:(0,c.Z)({type:e?e.type:null},t)})}var r=ee(u)(i(u)(l))(e),a=!0,o=!1,s=void 0;try{for(var f,p=n[Symbol.iterator]();!(a=(f=p.next()).done);a=!0){f.value.cb()}}catch(h){o=!0,s=h}finally{try{a||null==p.return||p.return()}finally{if(o)throw s}}return r}};window.store=u,this.store=u}return(0,i.Z)(e,[{key:"component",value:function(){var e=this;return function(){return(0,l.tZ)(Y.Z.Provider,{value:e.wid,children:(0,l.tZ)(re,{store:e.store,classicStoreFor:e.classicStoreFor,wid:e.wid,pluginComponents:e.components,handleError:e.handleError,govalConnectionStarted:e.govalConnectionStarted})})}}}]),e}(),re=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.govalConnectionStarted;if(e){var t=window.performance.now()-e;J.kg.info(T.U3.GOVAL_TIME_TO_CONNECT,{time:t})}this.props.store.dispatch({type:"WORKSPACE_MOUNTED"})}},{key:"componentWillUnmount",value:function(){this.props.store.dispatch({type:"WORKSPACE_WILL_UNMOUNT"})}},{key:"render",value:function(){return(0,l.tZ)("div",{style:{height:"100%",position:"relative",display:"flex"},children:(0,l.tZ)(Q,{wid:this.props.wid,store:this.props.store,classicStoreFor:this.props.classicStoreFor,pluginComponents:this.props.pluginComponents,handleError:this.props.handleError})})}}]),n}(u.Component);function ie(e){var t=e.wid,n=e.pluginPud,r=e.pluginType,i=e.title,a=e.initialState,o=e.isClosable,c=void 0!==o&&o,s=e.isDraggable;return{type:"LOAD_PLUGIN",wid:t,pluginPud:n,pluginType:r,title:i,initialState:a,isClosable:c,isDraggable:void 0!==s&&s}}},74910:function(e,t,n){n.r(t),n.d(t,{Component:function(){return Pt},receiver:function(){return ne},reducer:function(){return ae}});var r=n(47568),i=n(10253),a=n(34051),o=n.n(a),c=n(35944),s=n(60536),l=n.n(s),u=n(67294),d=n(90317),f=n(78135),p=n(94184),h=n.n(p),m=n(30019);var v=n(4178),g=n(43902),b=n(29815),x=n(61374),y=n(15240),Z=n(4111),w=n(51438),k=n(28668),E=n(26042),_=n(25892),C=n(25171),S=n(54098),T=n.n(S),I=n(33918),j="https://api.github.com",R=function(e){(0,k.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;return(0,w.Z)(this,n),(e=t.call(this)).message="GitHub Auth Error",e}return n}((0,_.Z)(Error)),N=function(e){(0,k.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;return(0,w.Z)(this,n),(e=t.call(this)).message="GitHub Repo Already Exists",Error.captureStackTrace&&Error.captureStackTrace((0,Z.Z)(e),n),e.name="GitHubRepoAlreadyExistsError",e}return n}((0,_.Z)(Error));function P(e,t){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(o().mark((function e(t,n){var r,a,c,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.Z)((0,I.JE)(n),2),a=r[0],c=r[1],s={cache:"no-store"},t&&(s.headers={Authorization:"Bearer ".concat(t)}),e.next=5,T()("".concat(j,"/repos/").concat(a,"/").concat(c),s);case 5:return l=e.sent,e.next=8,A(l);case 8:return u=e.sent,e.abrupt("return",(0,E.Z)({},u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(o().mark((function e(t){var n,r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,r=t.owner,i=t.ownerType,a=t.repoData,n){e.next=3;break}throw new Error("Unable to create repository");case 3:if("User"!==i){e.next=10;break}return e.next=7,T()("".concat(j,"/user/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:JSON.stringify(a)});case 7:c=e.sent,e.next=13;break;case 10:return e.next=12,T()("".concat(j,"/orgs/").concat(r,"/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),Accept:"application/vnd.github.nebula-preview+json"},body:JSON.stringify(a)});case 12:c=e.sent;case 13:return e.abrupt("return",A(c));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return e.next=4,t.json();case 4:n=e.sent,r=new Error("Bad GitHub Response"),e.t0=t.status,e.next=401===e.t0||404===e.t0?9:422===e.t0?11:14;break;case 9:return r=new R,e.abrupt("break",14);case 11:return(null===n||void 0===n||null===(i=n.errors)||void 0===i?void 0:i.length)>0&&n.errors[0].message.startsWith("name already exists")&&(r=new N),e.abrupt("break",14);case 14:throw r;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n(58809),L=n(86292),G=n(28743);function X(){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U.l){e.next=2;break}throw new Error("Expected apollo");case 2:return e.next=4,U.l.query({query:d.dJQ});case 4:if(null===(t=e.sent.data)||void 0===t?void 0:t.currentUser){e.next=7;break}throw new Error("Expected current user");case 7:return e.abrupt("return",t.currentUser);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=e.cmd,n=e.args,i=void 0===n?[]:n,a=e.wid,c=e.pud,s=t.format,l=t.parse;return function(){var e=(0,r.Z)(o().mark((function e(n,r){var u,d,f,p,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,v.Z)(r(),a,c,"git"),d=u.gitState,f=u.execer,p=u.isExecInProgress,h=u.execQueue,f){e.next=3;break}throw new Error("Expected execer to be registered");case 3:if(p){e.next=9;break}if(n({type:"SEND_GIT_EXEC_COMMAND",wid:a,pud:c}),m=G.Z.get(f)){e.next=8;break}throw new Error("Expected exec handle to contain exec service");case 8:m.request({args:s.apply(void 0,[d].concat((0,b.Z)(i)))});case 9:if(0!==h.length&&!p){e.next=11;break}return e.abrupt("return",new Promise((function(e,r){n({type:"QUEUE_GIT_EXEC",cmd:t,args:i,parser:void 0!==l?l:function(e){return e},callback:e,wid:a,pud:c})})));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function W(e){var t=e.history,n=void 0!==t&&t,i=e.write,a=void 0!==i&&i,c=e.persist,s=void 0!==c&&c,l=e.prefer,u=void 0===l?null:l,d=e.wid,f=e.pud;return function(){var e=(0,r.Z)(o().mark((function e(t,i){var c,l,p,h,m,g,b,Z,w,k,E,_,C,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e,n){return t(M({cmd:e,wid:d,pud:f,args:n}))},e.next=4,c(x.bb);case 4:if(l=(0,v.Z)(i(),d,f,"git"),p=l.gitState,h=p.isInitialized,m=p.remote,h){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,c(x.GE);case 9:return e.next=11,c(x.LO);case 11:if(!a||!m){e.next=40;break}if(null!==u){e.next=15;break}return e.next=15,c(x.kT);case 15:if(!(0,v.Z)(i(),d,f,"git").gitState.hasConflictsWithFetchedRemote&&null===u){e.next=34;break}if("remote"!==u){e.next=24;break}return e.next=20,c(x.cF);case 20:return e.next=22,c(x.VF);case 22:e.next=32;break;case 24:if("repl"!==u){e.next=31;break}return e.next=27,c(x.Ud);case 27:return e.next=29,c(x.VF);case 29:e.next=32;break;case 31:case 32:e.next=38;break;case 34:return e.next=36,c(x.jW);case 36:return e.next=38,c(x.VF);case 38:e.next=43;break;case 40:if(!n||!m){e.next=43;break}return e.next=43,c(x.jW);case 43:if(!(a||n||s)){e.next=53;break}return g=i().services.fs,t({type:"SET_GIT_LOADING_STATE",wid:d,isLoading:!0}),e.next=48,g.persist();case 48:if(e.sent.success){e.next=52;break}return e.next=52,g.persist();case 52:t({type:"SET_GIT_LOADING_STATE",wid:d,isLoading:!1});case 53:return b=(0,v.Z)(i(),d,f,"git"),Z=b.gitState,w=Z.remote,k=!1,w&&(E=new Promise((function(e){setTimeout((function(){k=!0,e()}),3e4)})),_=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.deepen,!k){e.next=3;break}return e.abrupt("return",Promise.reject());case 3:return e.next=5,c(x.he,[n]);case 5:return e.next=7,c(x.cM);case 7:return e.next=9,c(x.zq);case 9:if(r=(0,v.Z)(i(),d,f,"git"),r.gitState.hasMergeBaseWithFetchedRemote){e.next=13;break}return e.next=13,_({deepen:!0});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Promise.race([_({deepen:!1}),E]).then((function(){var e=(0,v.Z)(i(),d,f,"git").gitState,n=e.hasMergeBaseWithFetchedRemote,r=e.badState,a=e.remote;n||t({type:"UPDATE_GIT_STATE",updates:{badState:r===y.$U.None&&a?y.$U.NoMergeBase:r},wid:d,pud:f})}))),c(x.Pz),c(x.cM),e.next=60,c(x.i7);case 60:return e.next=62,c(x.Hl);case 62:C=(0,v.Z)(i(),d,f,"git"),S=C.gitState.branch,c(x.k6,[S]);case 64:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function H(e){var t=e.wid,n=e.pud,i=e.remote;return function(){var e=(0,r.Z)(o().mark((function e(r,a){var c,s,l,u,d,f,p,h,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e,i){return r(M({cmd:e,args:i,wid:t,pud:n}))},e.next=4,r({type:"START_GIT_CLONE",wid:t});case 4:return s=!!i.match(/^https?:\/\/github\.com/i),l=!!i.match(/^https?:\/\/api\.glitch\.com/i),e.next=8,X();case 8:if(u=e.sent,s)try{(null===(d=u.gitHubInfo)||void 0===d?void 0:d.accessToken)&&(m=u.gitHubInfo,r({type:"UPDATE_GIT_STATE",updates:{remoteToken:m.accessToken,gitHubName:null===(f=m.userInfo)||void 0===f?void 0:f.name,gitHubEmail:null===(p=m.userInfo)||void 0===p?void 0:p.email,gitHubAvatarUrl:null===(h=m.userInfo)||void 0===h?void 0:h.avatarUrl,installations:m.installations},wid:t,pud:n}))}catch(o){}return e.next=12,c(x.D6,[u]);case 12:return e.next=14,c(x.M7,[i]);case 14:return e.next=16,c(x.LO);case 16:return e.next=18,r({type:"START_CLONE_PROGRESS",wid:t,pud:n});case 18:return e.next=20,c(l?x.TE:x.he);case 20:return e.next=22,c(x.Di);case 22:return e.next=24,c(x.xY);case 24:return e.next=26,r({type:"END_CLONE_PROGRESS",wid:t,pud:n});case 26:if(l){e.next=31;break}return e.next=29,r(W({wid:t,pud:n,history:!0}));case 29:e.next=35;break;case 31:return e.next=33,c(x.i7);case 33:return e.next=35,new Promise((function(e){return setTimeout(e,1e3)}));case 35:g=function(){var e=(0,v.Z)(a(),t,n,"git"),i=e.execQueue,o=e.isExecInProgress;0!==i.length||o?setTimeout(g,1e3):r({type:"END_GIT_CLONE",wid:t})},g();case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function V(e,t){return function(){var n=(0,r.Z)(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(n,i){return r(M({cmd:n,args:i,wid:e,pud:t}))},n.next=4,X();case 4:return a=n.sent,n.next=7,i(x.Hl);case 7:return n.next=9,i(x.th,["Initial commit",a]);case 9:return n.next=11,r(W({wid:e,pud:t,write:!0}));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function q(e,t){return function(){var n=(0,r.Z)(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(n,i){return r(M({cmd:n,args:i,wid:e,pud:t}))},n.next=4,X();case 4:return a=n.sent,n.next=7,i(x.GE);case 7:return n.next=9,i(x.th,["Initial commit",a,!0]);case 9:return n.next=11,i(x.Hl);case 11:return n.next=13,r(W({wid:e,pud:t,write:!0}));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function K(e){var t=e.wid,n=e.pud;return function(){var e=(0,r.Z)(o().mark((function e(r,i){var a,c,s,l,u,d,f,p,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(M({cmd:x.LO,wid:t,pud:n}));case 2:if(a=(0,v.Z)(i(),t,n,"git"),c=a.gitState,s=c.remote,l=c.remoteToken,u=!1,!s||!l){e.next=19;break}return e.prev=5,e.next=8,P(l,s);case 8:return d=e.sent,f=d.permissions,p=d.id,h=d.owner,u=f&&f.push,e.next=15,r({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{repoId:p,ownerId:h.id}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(5);case 19:r({type:"GIT_REMOTE_CHECKED",wid:t,canPush:u,remote:s});case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n){return e.apply(this,arguments)}}()}var Q,Y=n(67287);!function(e){e.CHANNEL_OPENED="CHANNEL_OPENED",e.OUTPUT_RECEIVED="OUTPUT_RECEIVED",e.STATE_CHANGED="STATE_CHANGED"}(Q||(Q={}));var J=n(5133),$=n(50055);function ee(e){var t=e.container,n=(0,J.ZP)(),i=null;function a(){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return",i);case 2:return e.abrupt("return",new Promise((function(e){n.once(Q.CHANNEL_OPENED,(function(t){e(t)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s="";return t.openChannel({service:"exec"},(function(e){var t=e.error,r=e.channel;if(!t){if(!r)throw new Error("Expected channel");var a=!1;return r.onCommand((function(e){if(null!=e.output)s+=e.output,n.emit(Q.OUTPUT_RECEIVED,e.output);else if(null!=e.state){if(!a)return void(a=!0);n.emit(Q.STATE_CHANGED,{state:e.state,outputBuffer:s}),e.state===$.api.State.Stopped&&(s="")}})),i=r,n.emit(Q.CHANNEL_OPENED,r),function(){i=null}}})),{request:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.env,r=t.args,e.next=3,a();case 3:return i=e.sent,e.abrupt("return",i.request({exec:{env:n,args:r,blocking:!0}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOutput:function(e){return n.on(Q.OUTPUT_RECEIVED,e),function(){n.off(Q.OUTPUT_RECEIVED,e)}},onStateChanged:function(e){return n.on(Q.STATE_CHANGED,e),function(){n.off(Q.STATE_CHANGED,e)}},getStatus:function(){return i?i.status:"closed"}}}var te=n(5783);function ne(e,t,n){switch(n.type){case"WORKSPACE_MOUNTED":return function(){var n=(0,r.Z)(o().mark((function n(i,a){var c,s,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=function(e){return l.apply(this,arguments)},l=function(){return l=(0,r.Z)(o().mark((function n(r){var s,l,u,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r===te.e.CONNECTED){n.next=2;break}return n.abrupt("return");case 2:if(s=(0,v.Z)(a(),e,t,"git"),l=s.gitState,(u=ee({container:c})).onOutput((function(n){(0,v.Z)(a(),e,t,"git").shouldDisplayCloneLogs&&i((0,Y.yY)({wid:e,message:n,type:"interp",raw:!1}))})),u.onStateChanged((function(n){var r=n.state,o=n.outputBuffer,c=(0,v.Z)(a(),e,t,"git").execQueue;r===$.api.State.Stopped&&0!==c.length&&i({type:"EXIT_GIT_EXEC_COMMAND",output:o,wid:e})})),i({type:"REGISTER_EXECER_SERVICE_HANDLE",execer:G.Z.getHandle(u),wid:e,pud:t}),l.remoteToken){n.next=10;break}return n.next=10,i(K({wid:e,pud:t}));case 10:if(d=l.remote){n.next=13;break}return n.abrupt("return");case 13:return n.next=15,i(M({cmd:x.bb,wid:e,pud:t}));case 15:(0,v.Z)(a(),e,t,"git").gitState.isInitialized||(i((0,Y.yY)({wid:e,message:"cloning into ".concat(d,"...\n"),type:"interp",raw:!1})),(0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"cloned"}),i(H({remote:d,wid:e,pud:t})));case 17:case"end":return n.stop()}}),n)}))),l.apply(this,arguments)},(c=a().services.container).getConnectionState()===te.e.CONNECTED?s(te.e.CONNECTED):c.onConnectionStateChanged(s);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();case"FILE_CLEAN":return function(n,r){var i=(0,v.Z)(r(),e,t,"git"),a=i.gitState,o=i.hasOpened;a.isInitialized&&o&&n(M({cmd:x.i7,wid:e,pud:t}))};case"EXIT_GIT_EXEC_COMMAND":return function(){var i=(0,r.Z)(o().mark((function r(i,a){var c,s,l,u,d,f;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=(0,v.Z)(a(),e,t,"git"),s=c.execQueue[0],l=G.Z.safeGet(s.parser),u=G.Z.safeGet(s.callback),r.next=6,i({type:"DEQUEUE_GIT_EXEC",wid:e,pud:t});case 6:return r.next=8,i({type:"UPDATE_GIT_STATE",updates:(0,E.Z)({},l(c.gitState,n.output)),wid:e,pud:t});case 8:u(),(d=(0,v.Z)(a(),e,t,"git")).execQueue.length>0&&(f=d.execQueue[0],i(M({cmd:f.cmd,args:f.args,wid:e,pud:t})));case 11:case"end":return r.stop()}}),r)})));return function(e,t){return i.apply(this,arguments)}}();case"START_GIT_CLONE":return function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Cloning",wid:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();case"END_GIT_CLONE":return function(){var n=(0,r.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"UNLOCK_WORKSPACE",wid:e}),n.next=3,r(K({wid:e,pud:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();case"GITHUB_REPOSITORY_CREATED":case"CHECK_GIT_REMOTE":return function(){var n=(0,r.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(K({wid:e,pud:t}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();default:return null}}var re=n(69396);var ie,ae=function(e,t){switch(t.type){case"@@INIT":return{gitState:{isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:y.l4.NONE,badState:y.$U.None,remote:t.initialState.gitRemoteUrl||"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},hasOpened:!1,isSidebarVisible:!1,isCloneInProgress:!1,shouldDisplayCloneLogs:!1,isExecInProgress:!1,isLoading:!0,execQueue:[],execer:null};case"REGISTER_EXECER_SERVICE_HANDLE":return(0,re.Z)((0,E.Z)({},e),{execer:t.execer});case"SEND_GIT_EXEC_COMMAND":return(0,re.Z)((0,E.Z)({},e),{isExecInProgress:!0,isLoading:!0});case"EXIT_GIT_EXEC_COMMAND":return(0,re.Z)((0,E.Z)({},e),{isExecInProgress:!1});case"QUEUE_GIT_EXEC":var n=G.Z.getHandle(t.parser),r=G.Z.getHandle(t.callback);return(0,re.Z)((0,E.Z)({},e),{execQueue:e.execQueue.concat({cmd:t.cmd,args:t.args,parser:n,callback:r})});case"DEQUEUE_GIT_EXEC":return(0,re.Z)((0,E.Z)({},e),{execQueue:e.execQueue.slice(1)});case"START_GIT_CLONE":return(0,re.Z)((0,E.Z)({},e),{isCloneInProgress:!0});case"START_CLONE_PROGRESS":return(0,re.Z)((0,E.Z)({},e),{shouldDisplayCloneLogs:!0});case"END_CLONE_PROGRESS":return(0,re.Z)((0,E.Z)({},e),{shouldDisplayCloneLogs:!1});case"END_GIT_CLONE":return(0,re.Z)((0,E.Z)({},e),{isCloneInProgress:!1});case"SET_GIT_LOADING_STATE":return(0,re.Z)((0,E.Z)({},e),{isLoading:t.isLoading});case"UPDATE_GIT_STATE":return(0,re.Z)((0,E.Z)({},e),{gitState:(0,E.Z)({},e.gitState,t.updates),isLoading:(t.updates.badState!==y.$U.None||t.updates.authError!==y.l4.NONE)&&(e.execQueue.length>0||e.isCloneInProgress)});case"SET_GIT_SIDEBAR_VISIBILITY":return(0,re.Z)((0,E.Z)({},e),{isSidebarVisible:t.isSidebarVisible,hasOpened:!0});default:return e}},oe=n(6951),ce=n(97813),se=n(64375),le=n(60731),ue=n(93373),de=function(e,t){var n=(0,I.mJ)(t),r="";switch(e){case y.l4.PUSH:r="push to ".concat(n);break;case y.l4.FETCH:r="fetch from ".concat(n);break;case y.l4.CLONE:r="clone from ".concat(n);break;case y.l4.GITHUB_CREATE:case y.l4.GITHUB_GET_INFO:default:r="create new repositories"}return"Please grant Replit permission to access GitHub on your behalf. As well, confirm that "+(e===y.l4.FETCH?"".concat(n," exists and you have permission to fetch from it."):"you have permission to ".concat(r,"."))},fe=function(e){var t=e.repoId,n=e.ownerId,a=e.wid,s=e.pud,l=e.authError,d=e.onAuth,p=(0,f.I0)(),h=(0,f.v9)((function(e){return(0,v.Z)(e,a,s,"git")})).gitState,m="Connect to GitHub";h.remote&&(m="Unable to connect to this repository");var g=(0,se.v)({suggestedRepoId:t,ownerId:n,onAuth:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!1),d(),p({type:"UPDATE_GIT_STATE",updates:{authError:y.l4.NONE,badState:y.$U.None},wid:a,pud:s});case 3:case"end":return e.stop()}}),e)})))}),b=(0,i.Z)(u.useState(!0),2),x=b[0],Z=b[1];return(0,c.tZ)(le.u_,{onRequestClose:function(){Z(!1),l!==y.l4.FETCH?p({type:"UPDATE_GIT_STATE",updates:{authError:y.l4.NONE},wid:a,pud:s}):p({type:"UPDATE_GIT_STATE",updates:{badState:y.$U.AuthFetchError},wid:a,pud:s})},isOpen:x,children:(0,c.BX)(le.G7,{css:[le.l0.colWithGap(24)],children:[(0,c.tZ)(le.h4,{level:1,variant:"headerDefault",children:m}),(0,c.BX)(le.G7,{css:[le.l0.colWithGap(8)],children:[(0,c.tZ)(le.xv,{multiline:!0,children:de(l,h.remote)}),(0,c.BX)(le.xv,{multiline:!0,children:["See"," ",(0,c.tZ)("a",{href:"https://docs.replit.com/programming-ide/github-auth-errors",target:"_blank",rel:"noreferrer",children:"our docs"})," ","for more help with GitHub authentication errors."]})]}),(0,c.tZ)(le.G7,{css:[le.l0.rowWithGap(12),le.l0.justify.end],children:(0,c.tZ)(le.zx,{colorway:"primary",onClick:g,text:"Connect Replit to your GitHub Account",iconLeft:(0,c.tZ)(ue.Z,{})})})]})})},pe=n(43129),he=n(42839),me=n(62718),ve=n(30992),ge=n(94561),be=n(27206),xe=n(34193),ye=function(e){return e.trim().split(" ").join("-")},Ze=function(e){var t=e.isOpen,n=e.isCreatingBranch,i=e.onClose,a=e.currentBranch,s=e.branches,u=e.successHandler;if(!t)return null;var d=(0,ve.Y)("",(function(e){return e?s.includes(ye(e))?{message:"* this branch name already exists"}:void 0:{message:"* branch names cannot be blank"}})),f=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!d.validate()){e.next=4;break}return e.abrupt("return");case 4:u(ye(d.value));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.tZ)(xe.Z,{onRequestClose:i,isOpen:!0,children:(0,c.BX)("div",{className:"jsx-4a406bdd6aef82a6 container",children:[(0,c.BX)("form",{onSubmit:f,autoComplete:"off",className:"jsx-4a406bdd6aef82a6",children:[(0,c.tZ)("h1",{className:"jsx-4a406bdd6aef82a6",children:"Create a new branch"}),(0,c.tZ)("h2",{className:"jsx-4a406bdd6aef82a6",children:n?"Creating your new branch":"This branch will be created from ".concat(a)}),(0,c.tZ)("div",{className:"jsx-4a406bdd6aef82a6 creation-error",children:d.error&&d.error.message}),(0,c.tZ)("div",{className:"jsx-4a406bdd6aef82a6 section",children:(0,c.tZ)(be.ZP,{value:d.value,type:"text",autoFocus:!0,name:"branch-name",autoComplete:"off",onChange:function(e){d.setValue(e.currentTarget.value)},placeholder:"name your branch (required)",onFocus:function(e){return e.target.select()}})}),(0,c.tZ)(oe.Z,{type:"submit","data-testid":"git-confirm-github-repo",color:"primary",filled:!0,children:n?(0,c.BX)("span",{className:"jsx-4a406bdd6aef82a6",children:["creating",(0,c.tZ)(ge.Z,{style:{fontSize:"20px",padding:"1px"}})]}):"create"})]}),(0,c.tZ)(l(),{id:"4a406bdd6aef82a6",children:".container.jsx-4a406bdd6aef82a6{font-size:1rem;width:510px;padding:60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;height:100%;color:var(--foreground-default)}.container.jsx-4a406bdd6aef82a6 form.jsx-4a406bdd6aef82a6{width:90%}.container.jsx-4a406bdd6aef82a6 h1.jsx-4a406bdd6aef82a6{font-size:23px;margin-bottom:10px;font-weight:normal}.container.jsx-4a406bdd6aef82a6 h2.jsx-4a406bdd6aef82a6{color:var(--foreground-dimmer);font-size:16px;margin-bottom:15px;font-weight:normal}.creation-error.jsx-4a406bdd6aef82a6{min-height:16px;margin:10px;color:var(--accent-negative-default)}.section.jsx-4a406bdd6aef82a6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%}"})]})})},we=n(44781),ke=n(92002),Ee=function(e){var t,n,r=e.checkoutBranch,i=e.gitState,a=e.isLoading,o=e.wid,s=e.isNarrow,d=(0,u.useState)(!1),f=d[0],p=d[1];return(0,u.useEffect)((function(){!a&&f&&p(!1)}),[a]),(0,c.BX)("div",{className:"jsx-3cae6247addd4daa "+(h()("branch-info",{disabled:1===i.branches.length})||""),children:[(0,c.tZ)(l(),{id:"3cae6247addd4daa",children:".branch-info.jsx-3cae6247addd4daa{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--space-8);margin-top:10px}.branch-info-label.jsx-3cae6247addd4daa{color:var(--foreground-default);font-size:14px;margin-bottom:3px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.branch-info-selectWrapper.jsx-3cae6247addd4daa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;position:relative}.branch-info-select.jsx-3cae6247addd4daa{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}"}),(0,c.tZ)("div",{className:"jsx-3cae6247addd4daa branch-info-selectWrapper",children:(0,c.BX)("div",{className:"jsx-3cae6247addd4daa branch-info-select",children:[(0,c.tZ)(me.Z,{}),(0,c.tZ)(pe.ZP,{clearable:!1,className:"branchSelect-".concat(window.btoa(o).substr(0,10)),disabled:1===i.branches.length,onChange:function(e){e&&!Array.isArray(e)&&e.value!==i.branch&&e.value&&r(e.value)},openOnFocus:!0,options:(t=i.branches,n=i.defaultBranch,0===t.length?[]:t.sort((function(e){return e===n?-1:0})).map((function(e){return{value:e,label:e}}))),optionRenderer:function(e){return function(e){var t=e.branch,n=e.defaultBranch,r=e.currentBranch,i=t.value===r;return(0,c.BX)("div",{className:"jsx-2976945c1b5be69e "+(h()("branchOption",{selected:i})||""),children:[(0,c.tZ)(l(),{id:"2976945c1b5be69e",children:".branchOption.jsx-2976945c1b5be69e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.branchOption-checkmark.jsx-2976945c1b5be69e{height:12px;width:12px;margin-right:3px}.branchOption-name.jsx-2976945c1b5be69e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;-moz-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.branchOption-defaultLabel.jsx-2976945c1b5be69e{font-size:10px;color:var(--foreground-default);margin:0 2px}.selected.jsx-2976945c1b5be69e .branchOption-defaultLabel.jsx-2976945c1b5be69e{color:var(--foreground-dimmer)}"}),i&&(0,c.tZ)("div",{className:"jsx-2976945c1b5be69e branchOption-checkmark",children:(0,c.tZ)(he.Checkmark,{})}),(0,c.BX)("div",{className:"jsx-2976945c1b5be69e branchOption-name",children:[(0,c.tZ)("label",{className:"jsx-2976945c1b5be69e",children:t.label}),t.label===n&&(0,c.tZ)("label",{className:"jsx-2976945c1b5be69e branchOption-defaultLabel",children:"default"})]})]})}({branch:e,currentBranch:i.branch,defaultBranch:i.defaultBranch})},placeholder:""!==i.branch||i.commits.length?"loading...":i.defaultBranch,searchable:!0,value:i.branch,valueRenderer:function(){return(0,c.BX)(u.Fragment,{children:[!s&&(0,c.tZ)(we.Z,{foreground:2,children:"branch: "}),i.branch]})}})]})}),(0,c.tZ)(oe.Z,{Icon:ke.Z,onClick:function(){return p(!0)},title:"Create new branch"}),(0,c.tZ)(Ze,{branches:i.branches,currentBranch:i.branch,isCreatingBranch:f&&a,isOpen:f,onClose:function(){return p(!1)},successHandler:function(e){r(e)}})]})},_e=n(61756),Ce=n(1144),Se=n(1879),Te=n(69346),Ie=n(81255),je=n(57704),Re=n(99408),Ne=n(97648),Pe=n(70931),De=function(e){var t=(0,Re.Z)().container,n=(0,Pe.J)(e.remote),r=n?"".concat(n.username,"/").concat(n.repository):e.remote,i=(0,f.I0)();return(0,c.BX)(Te.Z,{css:[Ie.l0.colWithGap(16)],children:[(0,c.BX)(Ce.h,{variant:"headerDefault",level:2,children:["Remove ",r," as a remote?"]}),(0,c.BX)(Ce.x,{multiline:!0,children:["Are you sure you want to remove ",r,"?"]}),(0,c.BX)(Ce.x,{multiline:!0,children:["This can be undone by re-connecting to the repository in the Git sidebar or running ",(0,c.BX)(Ne.Z,{children:["git remote add origin ",e.remote]})," ","in the Shell."]}),(0,c.BX)(Te.Z,{css:[Ie.l0.rowWithGap(12),Ie.l0.justify.end],children:[(0,c.tZ)(_e.zx,{text:"Cancel",onClick:e.hideModal}),(0,c.tZ)(_e.zx,{iconLeft:(0,c.tZ)(je.Z,{}),onClick:function(){var n;(n=t).exec.apply(n,(0,b.Z)(x.rO.format(y.Xe))),i(W({wid:e.wid,pud:e.pud})),e.hideModal()},text:"Yes, remove ".concat(r),colorway:"negative"})]})]})},Be=n(29163),Oe=n(75301),Ae=n(38630);!function(e){e.RemoveRemote="RemoveRemote",e.ConnectExistingRemote="ConnectExistingRemote"}(ie||(ie={}));var ze=function(e){var t=e.branch,n=e.commitsBehind,r=e.isLoading,i=function(){return r?(0,c.tZ)(Ce.x,{children:" checking latest changes... "}):t?null===n?null:n&&1===n?(0,c.BX)(Ce.x,{children:[(0,c.tZ)("span",{className:"emphasized",children:"1"})," commit behind ",t]}):n&&n>1?(0,c.BX)(Ce.x,{children:[(0,c.tZ)("span",{className:"emphasized",children:n})," commits behind"," ",t]}):(0,c.BX)(Ce.x,{children:["up to date with ",t]}):(0,c.tZ)(Ce.x,{children:"could not find a default branch - try adding some commits!"})};return(0,c.BX)("div",{className:"jsx-8a02681411c89cd3 remote-progress",children:[(0,c.tZ)(l(),{id:"8a02681411c89cd3",children:".remote-progress.jsx-8a02681411c89cd3{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-8);max-width:100%}.remote-progress p{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.remote-progress .emphasized{color:var(--foreground-default)}"}),(0,c.tZ)(i,{className:"jsx-8a02681411c89cd3"})]})},Ue=function(e){var t=e.gitState,n=e.isLoading,r=e.pull,a=e.setExistingRepoConnectionIsOpen,o=e.setGitHubCreationModalOpen,s=e.wid,d=e.pud,f=""!==t.remote,p=(0,i.Z)(u.useState(null),2),h=p[0],m=p[1];return(0,c.BX)(Te.Z,{css:[Ie.l0.mx(4),Ie.l0.colWithGap(16)],children:[(0,c.tZ)(l(),{id:"133396714cab6dc2",children:".remote-wrapper-infolink.jsx-133396714cab6dc2{padding:0 3px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.icon-wrapper.jsx-133396714cab6dc2{height:var(--space-16);width:var(--space-16);margin-right:var(--space-4);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:inherit}.remote-info-progress.jsx-133396714cab6dc2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}"}),f?(0,c.BX)(Te.Z,{css:[Ie.l0.flex.row,Ie.l0.align.center,Ie.l0.width("100%")],children:[(0,c.tZ)("div",{title:"Repository origin",className:"jsx-133396714cab6dc2 icon-wrapper",children:(0,c.tZ)(ue.Z,{})}),(0,c.tZ)("a",{href:t.remote,target:"_blank",rel:"noreferrer noopener",className:"jsx-133396714cab6dc2 remote-wrapper-infolink",children:(0,I.mJ)(t.remote)}),(0,c.tZ)(Be.Z,{alt:"Remove remote",colorway:"negative",onClick:function(){return m(ie.RemoveRemote)},children:(0,c.tZ)(je.Z,{})})]}):(0,c.BX)(Te.Z,{css:[Ie.l0.rowWithGap(8),Ie.l0.align.center,Ie.l0.maxWidth("100%"),Ie.l0.width("100%")],children:[(0,c.tZ)(_e.ZP,{stretch:!0,onClick:function(){o(!0)},iconLeft:(0,c.tZ)(ue.Z,{}),text:t.remoteToken?"New repo":"Connect to GitHub",css:[Ie.l0.flex.grow(1)]}),t.remoteToken?(0,c.tZ)(_e.ZP,{stretch:!0,text:"Existing repo",onClick:function(){return a(!0)},iconLeft:(0,c.tZ)(Oe.Z,{}),css:[Ie.l0.flex.grow(1)]}):null]}),f&&(0,c.BX)(Te.Z,{css:[Ie.l0.flex.row,Ie.l0.flex.wrap,Ie.l0.justify.spaceBetween],children:[(0,c.tZ)(ze,{branch:t.branch,commitsBehind:t.commitsBehind,isLoading:n}),!!t.commitsBehind&&t.commitsBehind>0&&(0,c.tZ)(_e.ZP,{colorway:"warning",onClick:r,text:"Pull",iconRight:(0,c.tZ)(Ae.Z,{})})]}),(0,c.tZ)(Se.Z,{isOpen:h===ie.RemoveRemote,onRequestClose:function(){return m(null)},maxWidth:512,children:(0,c.tZ)(De,{remote:t.remote,hideModal:function(){return m(null)},wid:s,pud:d})})]})},Le=n(61927),Ge=n(94158),Xe=n(9517),Fe=n(66060),Me=n(75444),We=n(37552);function He(e){var t=e.gitCommit,n=e.gitPush,r=e.gitAddAll,i=e.hasRemote,a=e.hasChangedFiles,o=e.hasStagedFiles,s=[];return o||s.push("commit"),i||s.push("push"),(0,c.BX)(Te.Z,{css:[Ie.l0.flex.row,Ie.l0.rowWithGap(2),Ie.l0.pr(2)],children:[(0,c.tZ)(_e.ZP,{css:[Ie.l0.flex.growAndShrink(1)],disabled:!a,iconRight:(0,c.tZ)(Xe.Z,{}),onClick:function(){r(),t(),n()},text:"Commit All"+(i?" & Push":""),outlined:!0}),(0,c.BX)(We.ZE,{onAction:function(e){switch(e){case"commit":t();break;case"push":n()}},disabledKeys:s,children:[(0,c.tZ)(We.ck,{children:(0,c.BX)(Fe.ZP,{tooltip:"You must stage some files using the plus icon beside a file before you can commit",placement:"right",isDisabled:o,children:[(0,c.tZ)(Ce.x,{variant:"subheadDefault",css:o?[]:[Ie.l0.color.foregroundDimmest],children:"Commit"}),(0,c.tZ)(Ce.x,{variant:"text",css:o?[]:[Ie.l0.color.foregroundDimmest],children:"Locally save your staged changes"})]})},"commit"),(0,c.tZ)(We.ck,{children:(0,c.BX)(Fe.ZP,{tooltip:"Push is only available if you have a GitHub repository connected",placement:"right",isDisabled:i,children:[(0,c.tZ)(Ce.x,{variant:"subheadDefault",css:i?[]:[Ie.l0.color.foregroundDimmest],children:"Push"}),(0,c.tZ)(Ce.x,{variant:"text",css:i?[]:[Ie.l0.color.foregroundDimmest],children:"Update remote repo with newest commits"})]})},"push")]})]})}var Ve=function(e){switch(e.change){case y.pD.UNTRACKED:return"new";case y.pD.MODIFIED:return"modified";case y.pD.MOVED:return"renamed";case y.pD.DELETED:return"deleted";default:return""}},qe=function(e){var t,n,i=e.file,a=e.active,s=e.handleChangedFileClick,u=e.isStaged,d=e.gitRestore,f=e.gitAdd,p=!1;if(i.targetPath.endsWith("/")){p=!0;var h=i.targetPath.substr(0,i.targetPath.length-1).split("/");t=h[h.length-1]+"/",n=h.slice(0,h.length-1).join("/")}else{var m=i.targetPath.split("/");t=m[m.length-1],n=m.slice(0,m.length-1).join("/")}var v=Ve(i),g=v.substr(0,1).toUpperCase(),b=["changedFileItem"];return a&&b.push("active"),p||i.change===y.pD.DELETED||b.push("showable"),(0,c.BX)("div",{onClick:function(){p||i.change===y.pD.DELETED||s(i.targetPath)},className:"jsx-efd6f34434320e10 "+(b.join(" ")||""),children:[(0,c.tZ)(l(),{id:"efd6f34434320e10",children:".changedFileItem.jsx-efd6f34434320e10{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--background-highest);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:5px;padding:6px 12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.showable.changedFileItem.jsx-efd6f34434320e10{cursor:pointer}.changedFileItem.jsx-efd6f34434320e10:hover{background-color:var(--accent-primary-dimmer)}.changedFileItem.jsx-efd6f34434320e10:hover .changeModeBadge.jsx-efd6f34434320e10 .letter.jsx-efd6f34434320e10{display:none}.changedFileItem.jsx-efd6f34434320e10:hover .changeModeBadge.jsx-efd6f34434320e10 .word.jsx-efd6f34434320e10{display:block}.changedFileItem.active.jsx-efd6f34434320e10{background-color:var(--accent-primary-default);border-color:transparent;color:var(--white)}.showable.jsx-efd6f34434320e10 .fileName.jsx-efd6f34434320e10:hover{text-decoration:underline}.fileName.jsx-efd6f34434320e10,.dirs.jsx-efd6f34434320e10,.changeMode.jsx-efd6f34434320e10{display:block;white-space:nowrap}.changeMode.jsx-efd6f34434320e10{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.fileName.jsx-efd6f34434320e10{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;max-width:60%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.changeMode.jsx-efd6f34434320e10{margin-left:8px}.dirs.jsx-efd6f34434320e10{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;margin-right:auto;opacity:.7;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.changeModeBadge.jsx-efd6f34434320e10{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#999;-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;color:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:24px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:24px;padding:2px 4px;-webkit-transition:width.1s;-moz-transition:width.1s;-o-transition:width.1s;transition:width.1s}.changeModeBadge.jsx-efd6f34434320e10 .word.jsx-efd6f34434320e10{display:none}.changedFileItem.active.jsx-efd6f34434320e10 .changeModeBadge.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .new.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .modified.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .deleted.jsx-efd6f34434320e10{background-color:var(--background-default);color:var(--foreground-dimmer);border:transparent}.new.jsx-efd6f34434320e10{background:var(--accent-positive-dimmest);border:1px solid var(--accent-positive-default);color:var(--accent-positive-default)}.modified.jsx-efd6f34434320e10{background:var(--accent-orange-dimmest);border:1px solid var(--accent-orange-default);color:var(--accent-orange-default)}.deleted.jsx-efd6f34434320e10{background:var(--accent-negative-dimmest);border:1px solid var(--accent-negative-default);color:var(--accent-negative-stronger)}.deleted.jsx-efd6f34434320e10:hover{cursor:not-allowed}.changedFileItem.jsx-efd6f34434320e10:hover .new.jsx-efd6f34434320e10{background:var(--accent-positive-default);color:var(--foreground-default)}.changedFileItem.jsx-efd6f34434320e10:hover .modified.jsx-efd6f34434320e10{background:var(--accent-orange-default);color:var(--foreground-default)}.changedFileItem.jsx-efd6f34434320e10:hover .deleted.jsx-efd6f34434320e10{background:var(--accent-negative-default);color:var(--foreground-default)}.renamed.jsx-efd6f34434320e10{background:var(--accent-primary-dimmer)}"}),(0,c.tZ)(Be.Z,{css:[Ie.l0.mr(4)],alt:u?"Unstage":"Stage",onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u?d(i.targetPath,!0):f(i.targetPath);case 1:case"end":return e.stop()}}),e)}))),children:u?(0,c.tZ)(Ge.Z,{}):(0,c.tZ)(ke.Z,{})}),u?null:(0,c.tZ)(Be.Z,{css:[Ie.l0.mr(4)],alt:"Restore",onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(i.targetPath,!1);case 1:case"end":return e.stop()}}),e)}))),children:(0,c.tZ)(Me.Z,{})}),(0,c.tZ)("div",{title:t,className:"jsx-efd6f34434320e10 fileName",children:t}),(0,c.tZ)("div",{title:n,className:"jsx-efd6f34434320e10 dirs",children:n}),(0,c.tZ)("div",{className:"jsx-efd6f34434320e10 changeMode",children:(0,c.BX)("div",{className:"jsx-efd6f34434320e10 "+("changeModeBadge "+v||0),children:[(0,c.tZ)("div",{className:"jsx-efd6f34434320e10 letter",children:g}),(0,c.tZ)("div",{className:"jsx-efd6f34434320e10 word",children:g+v.substr(1)})]})})]})},Ke=function(e){var t=e.changedFiles;if(0===t.length)return null;var n="changed files or folders";if(1===t.length){var r=Ve(t[0])||"changed";n="".concat(r," file or folder")}return(0,c.BX)("div",{className:"jsx-4750d0de294a2262 changed-file-message",children:[(0,c.tZ)(l(),{id:"4750d0de294a2262",children:".changed-file-message.jsx-4750d0de294a2262{}.emphasized.jsx-4750d0de294a2262{color:var(--foreground-default)}p.jsx-4750d0de294a2262{color:var(--foreground-dimmer);margin-bottom:10px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"}),(0,c.BX)("p",{className:"jsx-4750d0de294a2262",children:[(0,c.BX)("span",{className:"jsx-4750d0de294a2262 emphasized",children:[" ",t.length," "]})," ",n]})]})},Qe=function(e){var t=e.stagedFiles;if(0===t.length)return null;var n="staged files or folders";return 1===t.length&&(n="staged file or folder"),(0,c.BX)("div",{className:"jsx-c300b29256d72a99 staged-file-message",children:[(0,c.tZ)(l(),{id:"c300b29256d72a99",children:".staged-file-message.jsx-c300b29256d72a99{}.emphasized.jsx-c300b29256d72a99{color:var(--foreground-default)}p.jsx-c300b29256d72a99{color:var(--foreground-dimmer);margin-bottom:10px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"}),(0,c.BX)("p",{className:"jsx-c300b29256d72a99",children:[(0,c.BX)("span",{className:"jsx-c300b29256d72a99 emphasized",children:[" ",t.length," "]})," ",n]})]})},Ye=function(e){var t=e.branch,n=e.commitsAhead,r="commit ahead of";return n&&n>1&&(r="commits ahead of"),(0,c.BX)("div",{className:"jsx-1ae57524add93237",children:[(0,c.tZ)(l(),{id:"1ae57524add93237",children:".emphasized.jsx-1ae57524add93237{color:var(--foreground-default)}p.jsx-1ae57524add93237{color:var(--foreground-dimmer);margin-bottom:15px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"}),(0,c.BX)("p",{className:"jsx-1ae57524add93237",children:[(0,c.BX)("span",{className:"jsx-1ae57524add93237 emphasized",children:[" ",n," "]})," ",r," ",t]})]})},Je=function(e){var t=e.disabled,n=e.onClick;return(0,c.tZ)(_e.ZP,{disabled:t,onClick:n,text:"Push",iconRight:(0,c.tZ)(Xe.Z,{}),outlined:!0})},$e=function(e){var t=e.activeFile,n=e.branch,r=e.changedFiles,i=e.commits,a=e.commitsAhead,o=e.commitsBehind,s=e.isLoading,d=e.remote,f=e.gitCommit,p=e.gitPush,h=e.gitAddAll,m=e.gitRestore,v=e.gitAdd,g=function(){var e=y.trim();""!==e?(f(e),Z(""),E(!1)):E(!0)},b=function(e){T.openFile(e)},x=(0,u.useState)(""),y=x[0],Z=x[1],w=(0,u.useState)(!1),k=w[0],E=w[1],_=(0,u.useState)(!1),C=_[0],S=_[1],T=(0,Re.Z)().session,I=r.filter((function(e){return e.isStaged})),j=r.filter((function(e){return!e.isStaged})),R=I.slice(0,C?I.length:3),N=j.slice(0,C?j.length:Math.max(3-R.length,0)),P=r.length>0,D=null!==a,B=null!==o,O=!!a&&a>0,A=!!o&&o>0;return s&&!P?(0,c.tZ)(Te.Z,{css:[Ie.l0.center,Ie.l0.mr(16),Ie.l0.mt(12),Ie.l0.overflow("hidden"),Ie.l0.backgroundColor.backgroundRoot,Ie.l0.borderRadius(2),Ie.l0.width("100%")],children:(0,c.BX)(Te.Z,{css:[Ie.l0.borderRadius(2),Ie.l0.color.foregroundDefault,Ie.l0.p(8),Ie.l0.textAlign.center,Ie.l0.width("100%"),Ie.l0.flex.row,Ie.l0.display.block],children:["loading",(0,c.tZ)(ge.Z,{style:{fontSize:"20px",padding:"1px"}})]})}):P||O||A||!D||!B?(0,c.BX)(Te.Z,{css:[Ie.l0.backgroundColor.backgroundDefault,Ie.l0.color.foregroundDefault,Ie.l0.mt(32),Ie.l0.width("100%"),{boxSizing:"border-box"}],children:[(0,c.tZ)(l(),{id:"7357fe5482a4d361",children:"textarea.jsx-7357fe5482a4d361{background-color:transparent;border:1px solid var(--foreground-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;color:var(--foreground-default);font-size:1em;margin-bottom:10px;padding:8px 12px;overflow-y:auto;width:100%;resize:vertical;max-height:100px}textarea.jsx-7357fe5482a4d361:hover{background-color:var(--background-root)}textarea.jsx-7357fe5482a4d361:focus{border-color:var(--accent-primary-default);background-color:var(--background-root);outline:0 none}textarea.jsx-7357fe5482a4d361::-webkit-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}textarea.jsx-7357fe5482a4d361:-moz-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}textarea.jsx-7357fe5482a4d361::-moz-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}textarea.jsx-7357fe5482a4d361:-ms-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}textarea.jsx-7357fe5482a4d361::-ms-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}textarea.jsx-7357fe5482a4d361::placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea[disabled].jsx-7357fe5482a4d361{border-color:var(--foreground-dimmest);cursor:not-allowed;opacity:.5}textarea.invalid.jsx-7357fe5482a4d361{border:1px solid var(--accent-negative-default)}"}),O&&D&&(0,c.tZ)(Ye,{branch:n,commitsAhead:a}),!P&&(O||!D)&&(0,c.tZ)(Te.Z,{css:[Ie.l0.mb(16),Ie.l0.position.relative],children:(0,c.tZ)(Fe.ZP,{placement:"right",tooltip:"You do not have a remote repository to push to. Connect a remote github repository to push.",isDisabled:Boolean(d),children:(0,c.tZ)(Je,{disabled:!d,onClick:p})})}),P&&(0,c.BX)(Te.Z,{css:[Ie.l0.justify.center,Ie.l0.mb(16),Ie.l0.flex.grow(1),Ie.l0.flex.shrink(0)],children:[(0,c.tZ)("textarea",{required:!0,name:"commitAuthorInput",disabled:0===r.length,placeholder:i.length>0?"What did you change?":"What did you add?",value:y,onChange:function(e){Z(e.target.value),E(""===e.target.value)},onKeyDown:function(e){(0,Le.b)(e),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&g()},className:"jsx-7357fe5482a4d361 "+((k?"invalid":"")||"")}),(0,c.tZ)(He,{gitAddAll:h,gitCommit:g,gitPush:p,hasRemote:Boolean(d),hasChangedFiles:r.length>0,hasStagedFiles:I.length>0})]}),(0,c.tZ)(Qe,{stagedFiles:I}),(0,c.tZ)(Te.Z,{css:[Ie.l0.align.center],children:R.map((function(e){return(0,c.tZ)(qe,{file:e,handleChangedFileClick:b,active:Boolean(t)&&t.endsWith(e.targetPath),isStaged:e.isStaged,gitRestore:m,gitAdd:v},e.targetPath)}))}),(0,c.tZ)(Ke,{changedFiles:j}),(0,c.BX)(Te.Z,{css:[Ie.l0.align.center],children:[N.map((function(e){return(0,c.tZ)(qe,{file:e,handleChangedFileClick:b,active:Boolean(t)&&t.endsWith(e.targetPath),isStaged:e.isStaged,gitRestore:m,gitAdd:v},e.targetPath)})),r.length>3&&(0,c.tZ)(_e.ZP,{css:[Ie.l0.backgroundColor.backgroundDefault,Ie.l0.color.foregroundDefault,Ie.l0.cursor.pointer,{textDecoration:"underline"},Ie.l0.width("100%")],onClick:function(){return S(!C)},text:C?"show fewer":"show all"})]})]}):(0,c.tZ)(Te.Z,{css:[Ie.l0.center,Ie.l0.mt(32),Ie.l0.backgroundColor.backgroundRoot,Ie.l0.borderRadius(2),Ie.l0.overflow("hidden")],children:(0,c.tZ)(Ce.x,{css:[Ie.l0.color.foregroundDimmer,Ie.l0.p(16),Ie.l0.textAlign.center,Ie.l0.width("100%")],children:"Your file changes will appear here."})})},et=n(7055),tt=n(30791),nt=function(e){var t=e.children;return(0,c.BX)("div",{"data-testid":"git-commit-item",className:"jsx-f3445e89aaa242b3 commit-item",children:[(0,c.tZ)(l(),{id:"f3445e89aaa242b3",children:'.commit-item.jsx-f3445e89aaa242b3{display:block;position:relative;-webkit-transition:.1s all;-moz-transition:.1s all;-o-transition:.1s all;transition:.1s all}.commit-item.jsx-f3445e89aaa242b3:first-child .git-graph-shape.jsx-f3445e89aaa242b3::before{background:-webkit-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:-moz-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:-o-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:linear-gradient(to bottom,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%)}.commit-item.jsx-f3445e89aaa242b3:last-child .git-graph-shape.jsx-f3445e89aaa242b3::before{height:20px}.git-graph-shape.jsx-f3445e89aaa242b3{position:absolute;top:0;bottom:0;left:0;background-color:transparent}.git-graph-shape.jsx-f3445e89aaa242b3::before{content:"";display:block;position:absolute;top:0;bottom:0;height:-webkit-calc(100% + 10px);height:-moz-calc(100% + 10px);height:calc(100% + 10px);width:1px;left:6px;background:var(--foreground-dimmer)}.git-graph-shape.jsx-f3445e89aaa242b3::after{content:"";display:block;width:11px;height:11px;border:1px solid var(--foreground-dimmer);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:var(--background-default);position:absolute;top:20px;left:0;-webkit-transition:.1s all;-moz-transition:.1s all;-o-transition:.1s all;transition:.1s all}.commit-item.jsx-f3445e89aaa242b3:hover .git-graph-shape.jsx-f3445e89aaa242b3::after{background-color:var(--foreground-default);border-color:1px solid var(--foreground-default)}'}),(0,c.tZ)("div",{className:"jsx-f3445e89aaa242b3 git-graph-shape"}),t]})},rt=function(e){var t=e.commit,n=e.handleRevertToCommit,r=e.displayTimeSinceUnix,i=e.gitHubLink,a=e.isLoggedIn;return(0,c.BX)(nt,{children:[(0,c.tZ)(l(),{id:"4be3def555d01168",children:'.wrapper.jsx-4be3def555d01168{border:1px solid var(--foreground-dimmer);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;padding:10px 8px;margin:0 0 10px 24px;color:var(--foreground-dimmer)}.wrapper.jsx-4be3def555d01168:hover{background-color:var(--background-root);border:1px solid var(--foreground-dimmer);color:var(--foreground-default)}.commit-hash.jsx-4be3def555d01168{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-family:"Menlo","Monaco",monospace;margin-bottom:6px;font-size:14px}.author.jsx-4be3def555d01168{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-default)}.author-name.jsx-4be3def555d01168,.author-email.jsx-4be3def555d01168{-webkit-box-flex:0;-webkit-flex-grow:0;-moz-box-flex:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.author-email.jsx-4be3def555d01168{max-width:150px;margin-bottom:6px;font-size:12px;color:var(--foreground-dimmer)}.commit-hash.jsx-4be3def555d01168{color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px}button.jsx-4be3def555d01168,.github-link.jsx-4be3def555d01168{visibility:hidden}.wrapper.jsx-4be3def555d01168:hover button.jsx-4be3def555d01168,.wrapper.jsx-4be3def555d01168:hover .github-link.jsx-4be3def555d01168{visibility:visible;background:transparent;color:var(--foreground-default)}button.jsx-4be3def555d01168{cursor:pointer;padding:6px;border:1px solid transparent;-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px}.github-link.jsx-4be3def555d01168{display:inline-block;height:16px;width:16px;margin-left:6px;background-color:var(--foreground-default)}'}),(0,c.BX)("div",{className:"jsx-4be3def555d01168 wrapper",children:[(0,c.tZ)(it,{message:t.message}),(0,c.tZ)("div",{className:"jsx-4be3def555d01168 author",children:(0,c.BX)("div",{title:"commit.authorName",className:"jsx-4be3def555d01168 author-name",children:[t.authorName," \u2022"," ",(0,et.Z)(t.authorDate,r,{addSuffix:!0})]})}),(0,c.tZ)("div",{title:t.authorEmail,className:"jsx-4be3def555d01168 author-email",children:t.authorEmail}),(0,c.BX)("div",{title:t.hash,className:"jsx-4be3def555d01168 commit-hash",children:[t.hash.substr(0,9),null!==i&&(0,c.tZ)("a",{href:i,target:"_blank",rel:"noopener noreferer",title:"see on GitHub",className:"jsx-4be3def555d01168 github-link",children:(0,c.tZ)(he.GitHub,{})})]}),a&&(0,c.tZ)(oe.Z,{filled:!1,border:!1,color:"orange",size:"small",onClick:function(){return n(t)},children:"revert to here"})]})]})},it=function(e){var t=e.message.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return(0,c.tZ)("p",{children:e.replace(/:[\w\-+]+:/g,(function(e){return tt.$M[e.slice(1,-1)]||e}))},e)})),n=(0,u.useState)(!1),r=n[0],i=n[1];return(0,c.BX)("div",{className:"jsx-1b7183bd6a42b782 commit-message",children:[(0,c.tZ)(l(),{id:"1b7183bd6a42b782",children:".commit-message.jsx-1b7183bd6a42b782{margin-bottom:10px}.commit-message p{color:var(--foreground-default);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;padding:2px}.more-link.jsx-1b7183bd6a42b782{font-size:14px}"}),r?t:t[0],r&&(0,c.tZ)("a",{href:"#",onClick:function(){return i(!1)},className:"jsx-1b7183bd6a42b782 more-link",children:"see less"},"more"),!r&&t.length>1&&(0,c.tZ)("a",{href:"#",onClick:function(){return i(!0)},className:"jsx-1b7183bd6a42b782 more-link",children:"see more"},"more")]})},at=function(e){var t=e.gitState,n=e.handleRevertToCommit,r=e.fetchMoreCommits,i=e.isLoggedIn,a=t.commits[t.commits.length-1],o=a&&""!==a.parentHash?(0,c.tZ)(nt,{children:(0,c.tZ)(oe.Z,{onClick:r,style:{margin:"8px 6px 12px 24px"},children:"load more commits"})},"loadmore"):null,s=(0,u.useState)(Date.now()),d=s[0],f=s[1];(0,u.useEffect)((function(){f(Date.now())}),[t.commits]);var p=t.commitsAhead||0;return(0,c.BX)(c.HY,{children:[t.commits.length>0&&(0,c.BX)("h2",{className:"jsx-db561386c1307398",children:[(0,c.tZ)(l(),{id:"db561386c1307398",children:"h2.jsx-db561386c1307398{color:var(--foreground-default);font-size:18px;font-weight:unset;overflow:hidden;margin:30px 0 10px 0;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;position:relative}"}),"Previous Commits"]}),(0,c.BX)("div",{className:"jsx-2305a354cfb82682 commit-list-section",children:[(0,c.tZ)(l(),{id:"2305a354cfb82682",children:".commit-list-section.jsx-2305a354cfb82682{height:100%}.commit-list-wrapper.jsx-2305a354cfb82682{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.commit-list.jsx-2305a354cfb82682{width:100%;margin-top:10px}"}),(0,c.tZ)("div",{className:"jsx-2305a354cfb82682 commit-list-wrapper",children:t.commits.length>0&&(0,c.BX)("ul",{className:"jsx-2305a354cfb82682 commit-list",children:[t.commits.map((function(e,r){return(0,c.tZ)(rt,{handleRevertToCommit:n,commit:e,displayTimeSinceUnix:d,gitHubLink:""!==t.remote&&r>=p?(0,I.cW)(t.remote,e.hash):null,isLoggedIn:i},e.hash)})),o]})})]})]})};function ot(e){var t=e.wid,n=e.pud,r=e.gitState,a=(0,f.I0)(),o=function(){a({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{hasConflictsWithFetchedRemote:!1}})},s=(0,i.Z)(u.useState(null),2),d=s[0],p=s[1],h=(0,i.Z)(u.useState(!0),2),m=h[0],v=h[1],g="Confirm",b=["conflictChoices"];return"repl"===d?(b.push("chosen-repl"),g="Confirm keep Replit"):"remote"===d&&(b.push("chosen-remote"),g="Confirm overwrite from GitHub"),m||b.push("invalid"),(0,c.BX)(xe.Z,{isOpen:!0,onRequestClose:o,children:[(0,c.tZ)(l(),{id:"5da074ca0af64a21",children:".conflictChoices.jsx-5da074ca0af64a21{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.conflictPreference.jsx-5da074ca0af64a21{width:48%;border:1px solid var(--foreground-default);cursor:pointer;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;overflow:hidden;-webkit-transition:-webkit-transform.2s;-moz-transition:-moz-transform.2s;-o-transition:-o-transform.2s;transition:-webkit-transform.2s;transition:-moz-transform.2s;transition:-o-transform.2s;transition:transform.2s}.conflictPreference.jsx-5da074ca0af64a21:hover{-webkit-transform:translate(0,-3px);-moz-transform:translate(0,-3px);-ms-transform:translate(0,-3px);-o-transform:translate(0,-3px);transform:translate(0,-3px)}.conflictPreference.jsx-5da074ca0af64a21 .header.jsx-5da074ca0af64a21{padding:8px 12px;font-weight:bold;background:var(--background-root)}.conflictPreference.jsx-5da074ca0af64a21 .body.jsx-5da074ca0af64a21{padding:8px 12px;line-height:1.4em}.chosen-repl.jsx-5da074ca0af64a21 .replPreference.jsx-5da074ca0af64a21 .header.jsx-5da074ca0af64a21,.chosen-remote.jsx-5da074ca0af64a21 .remotePreference.jsx-5da074ca0af64a21 .header.jsx-5da074ca0af64a21{color:var(--background-default);background:var(--foreground-default)}.chosen-repl.jsx-5da074ca0af64a21 .remotePreference.jsx-5da074ca0af64a21,.chosen-remote.jsx-5da074ca0af64a21 .replPreference.jsx-5da074ca0af64a21{border-color:var(--foreground-dimmer)}"}),(0,c.BX)(Te.Z,{css:[Ie.l0.maxWidth(600),Ie.l0.px(16),Ie.l0.py(24),Ie.l0.color.foregroundDefault,Ie.l0.backgroundColor.backgroundDefault],children:[(0,c.tZ)(Ce.x,{css:[Ie.l0.mb(16)],variant:"headerDefault",children:"Conflicting Changes"}),(0,c.BX)(Ce.x,{css:[Ie.l0.mb(24)],multiline:!0,children:["There are changes from the remote (",(0,c.tZ)("a",{href:r.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-5da074ca0af64a21",children:r.remote}),") that have been made since your changes on Replit that conflict with each other. Which version would you like to keep?"]}),(0,c.BX)("div",{className:"jsx-5da074ca0af64a21 "+(b.join(" ")||""),children:[(0,c.BX)("div",{onClick:function(){return p("remote")},className:"jsx-5da074ca0af64a21 remotePreference conflictPreference",children:[(0,c.tZ)("div",{className:"jsx-5da074ca0af64a21 header",children:"Keep version on GitHub"}),(0,c.tZ)("div",{className:"jsx-5da074ca0af64a21 body",children:"Permanently delete any changes in your Repl that are not on GitHub."})]}),(0,c.BX)("div",{onClick:function(){return p("repl")},className:"jsx-5da074ca0af64a21 replPreference conflictPreference",children:[(0,c.tZ)("div",{className:"jsx-5da074ca0af64a21 header",children:"Keep version on Replit"}),(0,c.tZ)("div",{className:"jsx-5da074ca0af64a21 body",children:"Permanently delete any changes in your GitHub repository that are not on Replit"})]})]}),(0,c.BX)(Te.Z,{css:[Ie.l0.mt(24),Ie.l0.flex.row,Ie.l0.justify.end],children:[(0,c.tZ)(oe.Z,{css:[Ie.l0.ml(8)],onClick:o,children:"Cancel"}),(0,c.tZ)(Fe.ZP,{tooltip:"You must choose a preference to continue",placement:"right",isDisabled:Boolean(d),children:(0,c.tZ)(oe.Z,{color:"negative",css:[Ie.l0.ml(8)],disabled:!d,onClick:function(){null!==d?(a(W({write:!0,prefer:d,wid:t,pud:n})),o()):v(!1)},children:g})})]})]})]})}function ct(e){var t=e.actionDescription,n=e.onConfirm,r=e.onCancel,i={marginLeft:8};return(0,c.BX)("div",{className:"jsx-a6b618bf6ea164ac gitRevertConfirmModal",children:[(0,c.tZ)(l(),{id:"a6b618bf6ea164ac",children:".gitRevertConfirmModal.jsx-a6b618bf6ea164ac{max-width:600px;padding:20px 24px;background:var(--background-default);color:var(--foreground-default)}h2.jsx-a6b618bf6ea164ac{margin-bottom:16px}p.jsx-a6b618bf6ea164ac{margin-bottom:24px;line-height:1.4em}.buttonGroup.jsx-a6b618bf6ea164ac{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"}),(0,c.tZ)("h2",{className:"jsx-a6b618bf6ea164ac",children:"Overwrite existing changes?"}),(0,c.BX)("p",{className:"jsx-a6b618bf6ea164ac",children:["You have some changes that are not committed yet. ",t," ","will overwrite any un-committed changes. Overwrite and continue?"]}),(0,c.BX)("div",{className:"jsx-a6b618bf6ea164ac buttonGroup",children:[(0,c.tZ)(oe.Z,{style:i,onClick:r,autoFocus:!0,children:"Cancel"}),(0,c.tZ)(oe.Z,{color:"negative",style:i,onClick:n,children:"Overwrite and continue"})]})]})}var st=function(e){var t=e.wid,n=e.pud,a=e.isLoading,s=e.isNarrow,d=e.currentUser,p=e.refetchUser,h=e.setGitHubCreationModalOpen,m=e.setExistingRepoConnectionModalOpen,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,i=void 0!==r&&r,a=e.write,o=void 0!==a&&a,c=e.persist,s=void 0!==c&&c;Z(W({history:i,write:o,persist:s,wid:t,pud:n}))},b=function(e,r){return Z(M({cmd:e,args:r,wid:t,pud:n}))},Z=(0,f.I0)(),w=(0,ce.Z)(),k=(0,i.Z)((0,v.J)(t,n,"git"),1)[0].gitState,E=k.hasConflictsWithFetchedRemote&&(0,c.tZ)(ot,{wid:t,pud:n,gitState:k}),_=(0,i.Z)(u.useState(null),2),C=_[0],S=_[1],T=null!==C&&(0,c.tZ)(xe.Z,{isOpen:!0,onRequestClose:function(){return S(null)},children:(0,c.tZ)(ct,{actionDescription:"Reverting to this previous version",onConfirm:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(null),b(x.y6),b(x.CU,[C.hash]),g({persist:!0});case 4:case"end":return e.stop()}}),e)}))),onCancel:function(){return S(null)}})}),I=(0,i.Z)(u.useState(null),2),j=I[0],R=I[1],N=null!==j&&(0,c.tZ)(xe.Z,{isOpen:!0,onRequestClose:function(){return R(null)},children:(0,c.tZ)(ct,{actionDescription:"Checking out branch ".concat(j),onConfirm:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(null),b(x.y6),e.next=4,b(x.JE,[j]);case 4:g({persist:!0});case 5:case"end":return e.stop()}}),e)}))),onCancel:function(){return R(null)}})});function P(){return(P=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"reverted"}),!(k.changedFiles.length>0)){e.next=4;break}return S(t),e.abrupt("return");case 4:b(x.CU,[t.hash]),g({persist:!0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==k.branch){e.next=2;break}return e.abrupt("return");case 2:if((0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"checkedOut"}),!(k.changedFiles.length>0&&k.branches.includes(t))){e.next=6;break}return R(t),e.abrupt("return");case 6:return e.next=8,b(x.JE,[t]);case 8:g({persist:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.BX)(c.HY,{children:[d?(0,c.BX)(c.HY,{children:[(0,c.tZ)(Ue,{gitState:k,isLoading:a,pull:function(){(0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"pulled"}),g({history:!0})},setGitHubCreationModalOpen:function(){k.remoteToken&&k.installations.length>0?h(!0):Z({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{authError:y.l4.GITHUB_GET_INFO}})},wid:t,pud:n,setExistingRepoConnectionIsOpen:m}),(0,c.tZ)(Ee,{isLoading:a,gitState:k,wid:t,checkoutBranch:function(e){return D.apply(this,arguments)},isNarrow:s}),(0,c.tZ)($e,{branch:k.branch,changedFiles:k.changedFiles,commits:k.commits,isLoading:a,commitsAhead:k.commitsAhead,commitsBehind:k.commitsBehind,activeFile:w||"",remote:k.remote,gitAddAll:function(){b(x.Hl)},gitCommit:function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"committed"}),e.next=3,b(x.th,[t,d]);case 3:g({persist:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gitPush:function(){g({write:!0})},gitRestore:function(){var e=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(x.sh,[t,n]);case 2:return e.next=4,b(x.i7);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gitAdd:function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(x.N2,[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}):(0,c.BX)("div",{className:"jsx-d687cb3bccb0e01e sign-up",children:[(0,c.tZ)("a",{href:"/signup",className:"jsx-d687cb3bccb0e01e",children:" create an account"}),(0,c.tZ)("div",{className:"jsx-d687cb3bccb0e01e",children:"to use version control with Replit!"})]}),(0,c.tZ)(at,{gitState:k,handleRevertToCommit:function(e){return P.apply(this,arguments)},fetchMoreCommits:function(){k.remote&&b(x.he,[!0]),b(x.cM,[!0])},isLoggedIn:Boolean(d)}),T,N,E,k.authError!==y.l4.NONE&&(k.authError!==y.l4.FETCH||k.remote)&&(0,c.tZ)(fe,{wid:t,pud:n,repoId:k.repoId,ownerId:k.ownerId,authError:k.authError,onAuth:p}),(0,c.tZ)(l(),{id:"d687cb3bccb0e01e",children:".sign-up.jsx-d687cb3bccb0e01e{padding:10px;text-align:center}"})]})},lt=function(e){var t=e.onInit,n=e.onConnect,r=e.isLoggedIn;return(0,c.BX)(le.G7,{css:[le.l0.colWithGap(32),le.l0.justify.spaceBetween,le.l0.align.center,le.l0.justify.center,le.l0.maxWidth(200),le.l0.pt(16),{margin:"0 auto"}],children:[(0,c.BX)(le.G7,{css:[le.l0.colWithGap(16)],children:[(0,c.tZ)(le.G7,{css:[le.l0.flex.column,le.l0.align.center],children:(0,c.BX)(le.xv,{multiline:!0,children:["Track and rollback changes to your Repl."," ",(0,c.tZ)("a",{href:"https://docs.replit.com/programming-ide/git-with-replit",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),window.open(e.target.href,"_blank")},children:"Learn more here."})]})}),(0,c.tZ)(le.G7,{children:r?(0,c.BX)(le.G7,{css:[le.l0.colWithGap(8),{width:"100%"}],children:[(0,c.tZ)(le.zx,{colorway:"primary",onClick:t,text:"Create a Git repo",iconLeft:(0,c.tZ)(ke.Z,{})}),(0,c.tZ)(le.zx,{onClick:n,text:"Existing Git repo?",outlined:!0})]}):(0,c.BX)(le.G7,{children:[(0,c.tZ)("a",{href:"/signup",children:"Create an account"})," to use version control with Replit!"]})})]}),(0,c.tZ)(le.G7,{css:[le.l0.maxWidth(200)],children:(0,c.tZ)("img",{src:"/public/images/gitart.png",alt:"Robot lifting C+ box with git octocat using winch"})})]})},ut=n(25675),dt=n.n(ut),ft=n(61029),pt=function(e){var t=e.wid,n=e.pud,r=e.badState,i=e.remote,a=(0,Re.Z)().container,o=(0,f.I0)(),s=function(){switch(r){case y.$U.NoMergeBase:return(0,c.BX)(Ce.x,{multiline:!0,children:["We couldn\u2019t find commits in common with that GitHub repository. Try"," ",(0,c.tZ)("a",{href:"/github/"+i,target:"_blank",rel:"noreferrer noopener",children:"importing the repo"})," ","into a new Repl instead, or connecting the remote via the Git sidebar again."]});case y.$U.AuthFetchError:return(0,c.BX)(Ce.x,{multiline:!0,children:["We couldn\u2019t find that repository on GitHub. Try connecting your GitHub account in your"," ",(0,c.tZ)("a",{href:"/account",target:"_blank",rel:"noreferrer noopener",children:"Account Settings"}),"."]});case y.$U.IndexFilesCorrupted:return(0,c.tZ)(Ce.x,{multiline:!0,children:"Your Git index files were corrupted. Try resetting your index file to restore your repository."});default:return(0,c.tZ)(Ce.x,{multiline:!0,children:"We ran into an error trying to sync your repository."})}},l=function(){o({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{remote:"",commitsAhead:0,commitsBehind:0,repoId:null,ownerId:null,badState:y.$U.None,authError:y.l4.NONE}})};return(0,c.BX)(Te.Z,{css:[Ie.l0.p(8),Ie.l0.colWithGap(8)],children:[(0,c.tZ)(Ce.x,{variant:"subheadDefault",multiline:!0,children:"There\u2019s something wrong with this repository..."}),(0,c.tZ)(s,{}),r!==y.$U.IndexFilesCorrupted?(0,c.BX)(c.HY,{children:[(0,c.tZ)(Ce.x,{multiline:!0,children:"You can also try disconnecting this repository from GitHub and trying again."}),(0,c.tZ)(_e.zx,{colorway:"negative",text:"Disconnect repo",iconLeft:(0,c.tZ)(ft.Z,{}),css:[Ie.l0.mt(12),Ie.l0.mb(16)],onClick:function(){var e;(e=a).exec.apply(e,(0,b.Z)(x.rO.format(y.Xe))),l()}})]}):(0,c.tZ)(_e.zx,{colorway:"negative",text:"Reset index",iconLeft:(0,c.tZ)(Me.Z,{}),css:[Ie.l0.mt(12),Ie.l0.mb(16)],onClick:function(){a.exec("bash","-c","rm .git/index; git reset HEAD ."),l()}}),(0,c.tZ)(dt(),{src:"/images/gitart.png",alt:"GitHub integration decoration art.",layout:"responsive",width:1694,height:3543,css:[Ie.l0.maxWidth(200)]})]})},ht=n(31385),mt=n(42941),vt=n(82670),gt=n(92876),bt=n(63377),xt=n(33319),yt=n(82893),Zt=n(37424),wt=(0,le.KD)("a"),kt=function(e){var t=e.authToken,n=e.onClose,a=e.onConnect,s=e.pud,l=e.successHandler,p=e.wid,h=(0,Zt.H)(),m=(0,bt.Z)(),g=(0,d.Xah)({variables:{replId:m}}),b=g.data;if(g.loading)return null;if("Repl"!==(null===b||void 0===b?void 0:b.repl.__typename))return(0,c.tZ)(le.u_,{onRequestClose:n,isOpen:!0,children:(0,c.BX)(le.G7,{css:[le.l0.colWithGap(24)],children:[(0,c.tZ)(le.h4,{variant:"headerDefault",level:1,children:"Something went wrong."}),(0,c.tZ)(le.xv,{children:"Please try again later."})]})});var x=b.repl,Z=(0,i.Z)(u.useState(!1),2),w=Z[0],k=Z[1],E=(0,i.Z)(u.useState(x.isPrivate),2),_=E[0],C=E[1],S=(0,i.Z)(u.useState(null),2),T=S[0],I=S[1],j=(0,f.I0)(),P=(0,f.v9)((function(e){return(0,v.Z)(e,p,s,"git")})).gitState,D=(0,ve.Y)(x.isRenamed?x.title:"",(function(e){return e&&e.length>100?{message:"* GitHub repository names cannot exceed 100 characters"}:e?void 0:{message:"* Repository name is required"}})),O=(0,ve.Y)((x.description||"").replace(/(\r\n|\n|\r)/gm," "),(function(e){if(e&&e.length>140)return{message:"* GitHub descriptions cannot exceed 140 characters"}})),A=function(){var e=(0,r.Z)(o().mark((function e(n){var r,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(null),n.preventDefault(),k(!0),r=D.validate(),i=O.validate(),!r&&!i){e.next=8;break}return k(!1),e.abrupt("return");case 8:return a={name:D.value,description:O.value,private:_},P.commits.length||j(q(p,s)),e.prev=10,e.next=13,B({token:t,repoData:a,owner:X.value,ownerType:X.type});case 13:c=e.sent,l(c.html_url),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),(0,vt.Z)(e.t0,R)?j({type:"UPDATE_GIT_STATE",wid:p,pud:s,updates:{authError:y.l4.GITHUB_CREATE}}):(0,vt.Z)(e.t0,N)?I("Another GitHub repository with the same name already exists"):(gt.$e((function(t){t.setTag("source","git"),gt.Tb(e.t0)})),I("Unable to create a GitHub repository"));case 20:k(!1);case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}(),z=!(!D.error&&!O.error),U=P.installations,L=U.find((function(e){return"User"===e.type}))||U[0],G=(0,i.Z)(u.useState({value:L.name,label:L.name,avatar:L.avatarUrl,type:L.type}),2),X=G[0],F=G[1],M=U.map((function(e){return{value:e.name,title:e.name,icon:(0,c.tZ)(le.G7,{css:[le.l0.mr(8)],children:(0,c.tZ)(dt(),{src:e.avatarUrl,alt:"".concat(e.name,"'s profile photo"),layout:"fixed",width:16,height:16,css:[le.l0.borderRadius(8)]})})}}));return(0,c.tZ)(le.u_,{onRequestClose:n,isOpen:!0,children:(0,c.tZ)("form",{onSubmit:A,style:{opacity:w?.6:1},autoComplete:"off",children:(0,c.BX)(le.G7,{css:[le.l0.colWithGap(24)],children:[(0,c.tZ)(le.h4,{variant:"headerDefault",level:1,children:"Create a new GitHub repository"}),(0,c.tZ)(le.xv,{children:(0,c.tZ)(wt,{onClick:function(){n(),a()},children:"Connect an existing repository instead."})}),(0,c.tZ)(le.xv,{multiline:!0,css:{marginTop:-12},children:"You can always edit this information on GitHub."}),(0,c.BX)(le.G7,{css:[le.l0.rowWithGap(8),le.l0.align.center],children:[(0,c.BX)(le.G7,{css:[le.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:h("owner"),children:(0,c.tZ)(le.xv,{color:"dimmer",variant:"small",children:"Owner"})}),(0,c.tZ)(le.Ph,{items:M,initialSelectedItem:M.length?M[0]:void 0,placeholder:"Select a user",disabled:U.length<=1||w,onChange:function(e){F(e)},css:[le.l0.height(48),le.l0.flex.grow(1),{flexBasis:"50%"},le.l0.minWidth(225)],id:h("owner")})]}),(0,c.tZ)("span",{className:"slash",css:[le.l0.fontSize(20),le.l0.mt(16)],children:"/"}),(0,c.BX)(le.G7,{css:[le.l0.colWithGap(4),{flexShrink:1}],children:[(0,c.tZ)("label",{htmlFor:h("name"),children:(0,c.tZ)(le.xv,{color:"dimmer",variant:"small",children:"Title"})}),(0,c.tZ)(le.G7,{css:[le.l0.height(35)],children:(0,c.tZ)(le.II,{name:"title",placeholder:"Name your repo",disabled:w,value:D.value,onChange:function(e){D.setValue(e.currentTarget.value),I(null)},onFocus:function(e){return e.target.select()},onBlur:D.handleBlur,css:[{flexBasis:"50%"},le.l0.minWidth(225)],id:h("name")})}),D.error?(0,c.tZ)(le.xv,{variant:"small",css:[le.l0.color.accentNegativeStronger],multiline:!0,children:D.error.message}):null]})]}),(0,c.BX)(le.G7,{css:[le.l0.colWithGap(8)],children:[(0,c.BX)(le.G7,{css:[le.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:h("description"),children:(0,c.tZ)(le.xv,{color:"dimmer",variant:"small",children:"Repo description (optional)"})}),(0,c.tZ)(le.B,{name:"description",value:O.value,disabled:w,placeholder:O.value||"What does this repo do?",onChange:function(e){O.setValue(e.target.value),I(null)},onBlur:O.handleBlur,css:[le.l0.minHeight(64),le.l0.maxHeight(96),{resize:"vertical"}],id:h("description")})]}),O.error?(0,c.tZ)(le.xv,{variant:"small",css:[le.l0.color.accentNegativeStronger],children:O.error.message}):null]}),(0,c.BX)(le.G7,{css:[le.l0.colWithGap(8)],children:[(0,c.BX)(le.G7,{css:[le.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:h("github-privacy"),children:(0,c.tZ)(le.xv,{color:"dimmer",variant:"small",children:"GitHub privacy"})}),(0,c.BX)(le.hE,{name:h("github-privacy"),value:(!_).toString(),onChange:function(e){return C("true"!==e.target.value)},row:!0,stretch:!0,primary:!0,disabled:w,children:[(0,c.tZ)(le.rK,{id:h("github-repo-creation-modal-true"),value:"true",text:"Public",icon:(0,c.tZ)(xt.Z,{})}),(0,c.tZ)(le.rK,{id:h("github-repo-creation-modal-false"),value:"false",text:"Private",icon:(0,c.tZ)(yt.Z,{})})]})]}),(0,c.tZ)(le.xv,{css:[le.l0.color.foregroundDimmer],children:(_?"You choose who can see this repo":"Anyone can see this repo")+", and you choose who can commit."})]}),(0,c.BX)(le.G7,{css:[le.l0.rowWithGap(12),le.l0.justify.end],children:[(0,c.tZ)(le.zx,{disabled:w,"data-testid":"git-confirm-github-repo",text:"Cancel",onClick:n}),(0,c.tZ)(le.zx,{colorway:"primary",disabled:w||z,type:"submit","data-testid":"git-confirm-github-repo",text:w?"Creating repository...":"Create repository",iconLeft:(0,c.tZ)(ke.Z,{})})]}),T&&(0,c.BX)(le.xv,{multiline:!0,css:[le.l0.color.accentNegativeStronger],children:[T,(0,c.tZ)("br",{}),"Let us know if there is an issue by opening up the sidebar and submitting a ticket via the get help button."]})]})})})},Et=n(86368),_t=n(83971),Ct=n(62187),St=n(88961),Tt=(0,Te.K)("a"),It=function(e){var t=(0,Re.Z)().container,n=(0,_t.Z)(t),a=(0,f.I0)(),s=(0,i.Z)(u.useState(null),2),l=s[0],d=s[1],p=(0,i.Z)(u.useState(!1),2),h=p[0],m=p[1],v=function(){var t=(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return");case 2:m(!0),e.gitState.commits.length||a(q(e.wid,e.pud)),n="https://github.com/".concat(l.nameWithOwner),a(M({cmd:x.M7,args:[n],wid:e.wid,pud:e.pud})),a(W({wid:e.wid,pud:e.pud})),e.hideModal();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=(0,r.Z)(o().mark((function t(){var r,i,c,s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return");case 2:return m(!0),r="https://github.com/".concat(l.nameWithOwner),t.next=6,X();case 6:if(i=t.sent,e.gitState.isInitialized){t.next=10;break}return t.next=10,n({args:x.D6.format(e.gitState,i)});case 10:if(e.gitState.commits.length){t.next=19;break}return t.next=13,n({args:x.M7.format(e.gitState,r)});case 13:return t.next=15,n({args:x.GE.format(e.gitState)});case 15:return t.next=17,n({args:x.th.format(e.gitState,"Initial commit",i,!0)});case 17:return t.next=19,n({args:x.Hl.format(e.gitState)});case 19:return t.next=21,n({args:x.hU.format(e.gitState)});case 21:return t.next=23,n({args:x.M7.format(e.gitState,r)});case 23:return t.next=25,n({args:x.he.format((0,re.Z)((0,E.Z)({},e.gitState),{remote:r}),!1)});case 25:return t.next=27,n({args:x.Di.format((0,re.Z)((0,E.Z)({},e.gitState),{remote:r}))});case 27:if(c=t.sent,x.Di.parse){t.next=30;break}return t.abrupt("return");case 30:return s=x.Di.parse(e.gitState,null===c.error?c.output:"HEAD branch: main"),u=s.defaultBranch,t.next=33,n({args:x.Z$.format(e.gitState,i,u)});case 33:return t.next=35,n({args:x.eg.format(e.gitState)});case 35:a(W({wid:e.wid,pud:e.pud})),e.hideModal();case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.BX)(Te.Z,{css:[Ie.l0.colWithGap(16)],children:[(0,c.tZ)(Ce.h,{variant:"headerDefault",level:2,children:"Connect an existing repository"}),(0,c.tZ)(Ce.x,{children:(0,c.tZ)(Tt,{onClick:function(){e.setGitHubCreationModalOpen(!0),e.hideModal()},children:"Create a new GitHub repository instead."})}),(0,c.tZ)("label",{htmlFor:"git-sidebar-existing-repo-connection",css:{marginBottom:8},children:"Choose a repository to import."}),(0,c.tZ)(Et.Z,{id:"git-sidebar-existing-repo-connection",onRepoSelect:d,onInputValueChange:function(){},isPrivate:!1}),e.gitState.remoteToken?null:(0,c.BX)(Ce.x,{multiline:!0,css:[Ie.l0.color.accentNegativeStronger,{marginTop:-12}],children:[(0,c.tZ)(St.Z,{})," Please connect your GitHub account to connect existing repositories."]}),(0,c.BX)(Ce.x,{multiline:!0,css:{marginTop:-8},children:["This will set ",l?l.nameWithOwner:"this repository"," as the remote",e.fromEmptyState?" and pull in changes.":". Optionally, you can also pull in any changes from the repository, which will reflect this Repl's changes in the case of conflicts."]}),(0,c.BX)(Ce.x,{multiline:!0,children:["This can be undone by removing the repository in the Git sidebar or running ",(0,c.tZ)(Ne.Z,{children:"git remote remove origin"})," in the Shell."]}),(0,c.BX)(Te.Z,{css:[Ie.l0.rowWithGap(12),Ie.l0.justify.end,{flexWrap:"wrap",marginTop:"-8px"}],children:[(0,c.tZ)(_e.zx,{text:"Cancel",onClick:e.hideModal,css:[Ie.l0.mt(8)],disabled:h}),e.fromEmptyState?null:(0,c.tZ)(_e.zx,{iconLeft:(0,c.tZ)(Oe.Z,{}),onClick:v,text:h?"Connecting...":"Connect"+(l?" "+l.nameWithOwner:""),colorway:"primary",outlined:!0,css:[Ie.l0.mt(8)],disabled:h||!l}),(0,c.tZ)(_e.zx,{iconLeft:(0,c.tZ)(Ct.Z,{}),onClick:g,text:h?"Connecting...":"Pull changes"+(l?" from "+l.nameWithOwner:""),colorway:"primary",css:[Ie.l0.mt(8)],disabled:h||!l})]})]})},jt=n(65456),Rt=n(37053),Nt=(0,Rt.Z)(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{wait:1e3});function Pt(e){var t=e.wid,n=e.pud,a=e.style,s=e.dimensions,p=(0,f.I0)(),b=(0,u.useState)(!1),Z=b[0],w=b[1],k=(0,Re.Z)(),E=k.container,_=k.fs,C=(0,i.Z)((0,v.J)(t,n,"git"),1)[0],S=C.gitState,T=C.isLoading,I=C.isCloneInProgress,j=(0,d.X27)(),R=j.data,N=j.loading,P=j.refetch;u.useEffect((function(){var e,r,i,a,o;if("GitHubInfo"===(null===R||void 0===R||null===(e=R.currentUser)||void 0===e||null===(r=e.gitHubInfo)||void 0===r?void 0:r.__typename)){var c=R.currentUser.gitHubInfo;c.accessToken&&p({type:"UPDATE_GIT_STATE",updates:{remoteToken:c.accessToken,gitHubName:null===(i=c.userInfo)||void 0===i?void 0:i.name,gitHubEmail:null===(a=c.userInfo)||void 0===a?void 0:a.email,gitHubAvatarUrl:null===(o=c.userInfo)||void 0===o?void 0:o.avatarUrl,installations:c.installations},wid:t,pud:n})}}),[R]),(0,u.useEffect)((function(){if(s){var e=window.document.getElementById(ht.b);if(!e)throw new Error("Couldn't find workspace root");var t=s.w,n=e.clientWidth*(t.pc/100)+t.px;n<=210&&!Z?w(!0):n>210&&Z&&w(!1)}}),[s,Z]);var D=(0,i.Z)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.useState)(t),r=n[0],i=n[1],a=(0,u.useRef)();return(0,u.useEffect)((function(){return a.current&&clearTimeout(a.current),a.current=setTimeout((function(){i(e)}),250),function(){a.current&&clearTimeout(a.current)}}),[e]),[r||e,i]}(T||N,!0),2),B=D[0],O=D[1];(0,u.useEffect)((function(){return I||N||(O(!0),p(W({history:!1,write:!1,persist:!1,wid:t,pud:n}))),p({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!0,wid:t}),function(){p({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!1,wid:t})}}),[N,E]),_.onStatusChange((function(e){e===jt.kO.Clean&&Nt((function(){p(W({history:!1,write:!1,persist:!1,wid:t,pud:n}))}))}));var A=(0,i.Z)(u.useState(!1),2),z=A[0],U=A[1],G=(0,i.Z)(u.useState(!1),2),F=G[0],H=G[1],q=null;return q=N||B&&!S.isInitialized?(0,c.tZ)(g.Z,{style:{margin:"10px auto",width:"35px",height:"35px"}}):S.remote||S.isInitialized?S.badState!==y.$U.None?(0,c.tZ)(pt,{wid:t,pud:n,badState:S.badState,remote:S.remote}):(0,c.tZ)(st,{wid:t,pud:n,isLoading:B,isNarrow:Z,currentUser:null===R||void 0===R?void 0:R.currentUser,refetchUser:P,setExistingRepoConnectionModalOpen:H,setGitHubCreationModalOpen:U}):(0,c.tZ)(lt,{isLoggedIn:Boolean(null===R||void 0===R?void 0:R.currentUser),onInit:function(){p(function(e,t){return function(){var n=(0,r.Z)(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(n,i){return r(M({cmd:n,args:i,wid:e,pud:t}))},(0,L.j)(L.U3.VERSION_CONTROL_FEATURE_USED,{action:"initialized"}),n.next=5,X();case 5:return a=n.sent,n.next=8,i(x.D6,[a]);case 8:return n.next=10,r(V(e,t));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},onConnect:function(){return H(!0)}}),(0,c.BX)("div",{style:a,className:"jsx-c53b9b484ed45518 gitSidebar",children:[(0,c.tZ)(l(),{id:"c53b9b484ed45518",children:".gitSidebar.jsx-c53b9b484ed45518{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:150px;padding:var(--space-8);background-color:var(--background-default);color:var(--foreground-default);-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4)}.gitSidebar-header.jsx-c53b9b484ed45518{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--space-32);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.git-content-scroll-wrapper.jsx-c53b9b484ed45518{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}.git-content-wrapper.jsx-c53b9b484ed45518{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%}.git-content-wrapper.is-loading.jsx-c53b9b484ed45518{opacity:.5;pointer-events:none}"}),(0,c.tZ)("div",{className:"jsx-c53b9b484ed45518 gitSidebar-header",children:(0,c.tZ)(m.Z,{truncate:!0,level:4,children:"Version control"})}),(0,c.tZ)(mt.Z,{height:1}),(0,c.tZ)("div",{className:"jsx-c53b9b484ed45518 git-content-scroll-wrapper",children:(0,c.tZ)("div",{className:"jsx-c53b9b484ed45518 "+(h()("git-content-wrapper",{"is-loading":B&&S.badState===y.$U.None})||""),children:q})}),(0,c.tZ)(Dt,{}),(0,c.tZ)(Se.Z,{isOpen:F,onRequestClose:function(){return H(!1)},maxWidth:600,children:(0,c.tZ)(It,{gitState:S,hideModal:function(){return H(!1)},setGitHubCreationModalOpen:U,fromEmptyState:!S.remote&&!S.isInitialized,wid:t,pud:n})}),z?(0,c.tZ)(kt,{authToken:S.remoteToken,onClose:function(){return U(!1)},onConnect:function(){return H(!0)},successHandler:function(e){p(function(e){var t=e.remote,n=e.wid,i=e.pud;return function(){var e=(0,r.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t){return r(M({cmd:e,args:t,wid:n,pud:i}))},e.next=4,a(x.M7,[t]);case 4:return e.next=6,a(x.LO);case 6:return e.next=8,a(x.VF);case 8:return e.next=10,r({type:"GITHUB_REPOSITORY_CREATED",wid:n,pud:i});case 10:return e.next=12,r(W({wid:n,pud:i,persist:!0}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({wid:t,pud:n,remote:e})),U(!1)},wid:t,pud:n}):null]})}function Dt(){return(0,c.BX)("div",{className:"jsx-ea99c912d83a4006 gitSidebar-footer",children:[(0,c.tZ)(l(),{id:"ea99c912d83a4006",children:".gitSidebar-footer.jsx-ea99c912d83a4006{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:6px 12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;background-color:var(--background-root);color:var(--foreground-dimmer);font-size:13px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.gitSidebar-footer.jsx-ea99c912d83a4006 .feedbackLink.jsx-ea99c912d83a4006{text-align:right}"}),(0,c.tZ)("a",{href:"https://replit.com/talk/announcements/Feedback-for-git-support-the-new-GitHub-integration/21631",target:"_blank",rel:"noopener",className:"jsx-ea99c912d83a4006 feedbackLink",children:"Send feedback"})]})}},55123:function(e,t,n){n.d(t,{$T:function(){return h},Bp:function(){return s},Il:function(){return b},J9:function(){return x},JU:function(){return y},Jz:function(){return f},Od:function(){return m},PP:function(){return d},QK:function(){return v},cV:function(){return p},e$:function(){return l},i3:function(){return g}});var r=n(26042),i=n(69396),a=n(59637),o=n(29815);function c(e,t){if("split"===e.type){var n=c(e.left,t);if(n)return["left"].concat(n);var r=c(e.right,t);if(r)return["right"].concat(r)}else if("tabs"===e.type)for(var i=0;i<e.tabs.length;i++){var a=c(e.tabs[i],t);if(a)return["tabs",i].concat(a)}else if("pane"===e.type&&e.pud===t)return[];return null}function s(e,t){for(var n=0;n<e.floating.length;n++)if(e.floating[n]===t)return["floating",n];var r=c(e.tiling,t);return r?["tiling"].concat(r):null}function l(e,t){return!!s(e,t)}function u(e,t,n){if("split"===e.type){var r=u(e.left,t,n);if(r)return["left"].concat(r);var i=u(e.right,t,n);if(i)return["right"].concat(i)}else if("tabs"===e.type)for(var a=0;a<e.tabs.length;a++){var o=u(e.tabs[a],t,n);if(o)return["tabs",a].concat(o)}else if("pane"===e.type){if(t[e.pud].type===n)return[];if(e.header&&t[e.header.pud].type===n)return["header"]}return null}function d(e,t,n){var r=u(e.tiling,t,n);return r?["tiling"].concat(r):null}function f(){return["tiling"]}function p(){return["floating"]}function h(e,t,n,a,o){if("inside"===n){if(1!==a.length||"floating"!==a[0])throw new Error("position 'inside' should only be used for the path ['floating']");return o&&o.once&&e.floating.includes(t)?{path:["floating"],to:e.floating}:{path:["floating"],to:e.floating.concat(t)}}var c={type:"split"};if("undefined"!==typeof o?"undefined"!==typeof o.position?c=(0,i.Z)((0,r.Z)({},c),{fixed:!!o.fixed,position:o.position||50}):"undefined"!==typeof o.leftSize?c=(0,i.Z)((0,r.Z)({},c),{leftSize:o.leftSize}):"undefined"!==typeof o.rightSize&&(c=(0,i.Z)((0,r.Z)({},c),{rightSize:o.rightSize})):c=(0,i.Z)((0,r.Z)({},c),{fixed:!1,position:50}),"leftOf"===n)c=(0,i.Z)((0,r.Z)({},c),{stacked:!1,right:v(e,a),left:{type:"pane",pud:t}});else if("rightOf"===n)c=(0,i.Z)((0,r.Z)({},c),{stacked:!1,right:{type:"pane",pud:t},left:v(e,a)});else if("above"===n)c=(0,i.Z)((0,r.Z)({},c),{stacked:!0,left:{type:"pane",pud:t},right:v(e,a)});else{if("below"!==n)throw new Error("unsupported new plugin type");c=(0,i.Z)((0,r.Z)({},c),{stacked:!0,right:{type:"pane",pud:t},left:v(e,a)})}return{path:a.map((function(e){return e.toString()})),to:c}}function m(e,t){var n,r=s(e,t);if(!r)return{path:["tiling"],to:e.tiling};if("floating"===r[0]){var i=e.floating.indexOf(t);return{path:["floating"],to:e.floating.slice(0,i).concat(e.floating.slice(i+1))}}if("split"!==v(e,r.slice(0,-1)).type)throw new Error("remove only supports splits right now");return n="left"===r[r.length-1]?"right":"left",{path:r.slice(0,-1).map((function(e){return e.toString()})),to:v(e,r.slice(0,-1).concat(n))}}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(0===t.length)return e;var n=(0,a.Z)(t),r=n[0],i=n.slice(1);return v(e[r],i)};function g(e,t){return e.length!==t.length&&(e=e.slice(0,t.length),t=t.slice(0,e.length)),e.join()===t.join()?e:0===e.length?null:g(e.slice(0,-1),t.slice(0,-1))}function b(e){return e.slice(0,-1)}function x(e){return(0,o.Z)(e.slice(0,-1)).concat(["left"===e[e.length-1]?"right":"left"])}function y(e){return"tabs"===e.slice(0,-1).pop()}},28743:function(e,t,n){var r=n(51438),i=n(52951),a=new(function(){function e(){(0,r.Z)(this,e),this.map=new WeakMap}return(0,i.Z)(e,[{key:"getHandle",value:function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new Error("Only objects");var t={type:"handle",identity:e.constructor?Object.prototype.toString.call(e.constructor):Object.prototype.toString.call(e)};return this.map.set(t,e),t}},{key:"get",value:function(e){return this.map.get(e)}},{key:"safeGet",value:function(e){if(!e)throw new Error("Expected object handle to be truthy");var t=this.map.get(e);if(!t)throw new Error("Expected object handle to return object");return t}}]),e}());t.Z=a},4178:function(e,t,n){n.d(t,{J:function(){return a},Z:function(){return i}});var r=n(78135);function i(e,t,n,r){var i=e.workspace[t].plugins[n];if(i.type!==r)throw new Error("expected type to be "+r);return i.state}function a(e,t,n,a){var o=(0,r.v9)((function(r){return i(r,e,t,n)}),a),c=(0,r.I0)();return[o,function(n){c({type:"SET_STATE",wid:e,pud:t,state:n})}]}},61374:function(e,t,n){n.d(t,{CU:function(){return L},D6:function(){return g},Di:function(){return A},GE:function(){return G},Hl:function(){return N},JE:function(){return O},LO:function(){return T},M7:function(){return I},N2:function(){return P},Pz:function(){return M},TE:function(){return k},Ud:function(){return C},VF:function(){return y},Z$:function(){return V},bb:function(){return X},cF:function(){return _},cM:function(){return R},eg:function(){return H},hU:function(){return W},he:function(){return Z},i7:function(){return x},jW:function(){return S},k6:function(){return b},kT:function(){return E},lR:function(){return U},rO:function(){return j},sh:function(){return D},th:function(){return B},xY:function(){return z},y6:function(){return F},zq:function(){return w}});var r=n(26042),i=n(69396),a=n(10253),o=n(59637),c=n(15240),s=n(33918),l='[ "git remote get-url origin" ]',u="git symbolic-ref HEAD --short",d="git log -0 2>/dev/null && ".concat(u," || echo 'HEAD'");function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return["bash","-c",t.join("&&")]}function p(e){return"if ! (( $(busybox ps -o comm | grep git) )) ; then rm -rf .git/index.lock; fi ; ".concat(e)}function h(e){var t=e.remote,n=void 0===t?"":t,r=e.remoteToken;if(!r)return n;var i=(0,a.Z)(n.match(/(https:\/\/)(.*)/)||["","",""],3),o=i[1],c=i[2];return"".concat(o).concat(r||"",":x-oauth-basic@").concat(c)}function m(e){return null!==new RegExp(/(^|\n)fatal: Authentication failed/g).exec(e)||null!==new RegExp(/(^|\n)fatal: unable to access/g).exec(e)||null!==new RegExp(/(^|\n)fatal: repository.*not found/g).exec(e)||null!==new RegExp(/(^|\n)fatal: could not read Username/g).exec(e)||null!==new RegExp(/(^|\n)fatal: Could not read from remote repository/g).exec(e)}function v(e){var t=e.split(/ /g);if("1"===t[0]){var n=t[1],r=t.slice(8).join(" "),i=function(e){var t=e.startsWith(".")?e[1]:e[0],n=!e.startsWith(".");switch(t){case"M":case"T":return{changeMode:c.pD.MODIFIED,isStaged:n};case"D":return{changeMode:c.pD.DELETED,isStaged:n};case"A":return{changeMode:c.pD.UNTRACKED,isStaged:n};default:throw new Error("Unknown change type: ".concat(e))}}(n);return{change:i.changeMode,targetPath:r,origPath:r,isStaged:i.isStaged}}if("2"===t[0]){var o=t.slice(9).join(" "),s=(0,a.Z)(o.split("\t"),2),l=s[0],u=s[1];return{change:c.pD.MOVED,targetPath:l,origPath:u,isStaged:!0}}if("?"===t[0]){var d=t.slice(1).join(" ");return{change:c.pD.UNTRACKED,targetPath:d,origPath:null,isStaged:!1}}if("u"===t[0]){var f=t[2];return{change:c.pD.MODIFIED,targetPath:f,origPath:f,isStaged:!1}}throw new Error("Unrecognized git status entry: ".concat(e))}var g={format:function(e,t){return f('[ ! -d ".git" ]',"git init","git checkout -b main",'git config user.name "'.concat(t.username||"Replit user",'"'),'git config user.email "<>"',"touch .git/branches/.keep","touch .git/info/.keep","touch .git/objects/.keep","touch .git/refs/.keep")}},b={format:function(e,t){return["git","rev-list","--left-right","--count","".concat(t,"...origin/").concat(t)]},parse:function(e,t){if(t.startsWith("fatal"))return(0,i.Z)((0,r.Z)({},e),{commitsAhead:null,commitsBehind:null});var n=(0,a.Z)(t.split(/\s+/),2),o=n[0],c=n[1];return(0,i.Z)((0,r.Z)({},e),{commitsAhead:parseInt(o)||0,commitsBehind:parseInt(c)||0})}},x={format:function(e){return["git","status","--branch","--porcelain=v2"]},parse:function(e,t){if(t.startsWith("fatal"))return e;if(t.includes("index file corrupt")||t.includes("error: index file"))return(0,i.Z)((0,r.Z)({},e),{badState:c.$U.IndexFilesCorrupted});if(""===t.trim())return(0,i.Z)((0,r.Z)({},e),{changedFiles:[]});var n=t.split("\n").filter((function(e){return""!==e.trim()})),o=e.branch,s=e.defaultBranch,l=!0,u=[],d=!0,f=!1,p=void 0;try{for(var h,m=n[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var g=h.value;if(g.startsWith("#")){var b=(0,a.Z)(g.split(/\s+/),3),x=(b[0],b[1]),y=b[2];switch(x){case"branch.head":o=y;break;case"branch.oid":l=!y.includes("(initial)")}}else u.push(v(g))}}catch(Z){f=!0,p=Z}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}return l||(s=o,o=""),(0,i.Z)((0,r.Z)({},e),{branch:o,defaultBranch:s,changedFiles:u})}},y={format:function(e){var t=h(e);return f("git push ".concat(t," $(").concat(u,")"))},parse:function(e,t){return m(t)?(0,i.Z)((0,r.Z)({},e),{authError:c.l4.PUSH}):e}},Z={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h(e);return f("git fetch ".concat(n,t?" --progress --deepen=10":" +refs/heads/*:refs/remotes/origin/* --progress --depth=10"))},parse:function(e,t){return m(t)?(0,i.Z)((0,r.Z)({},e),{authError:c.l4.FETCH}):e}},w={format:function(e){return 0===e.commits.length?["echo true"]:f(l,"git merge-base origin/$(".concat(u,") $(").concat(u,")"))},parse:function(e,t){return(0,i.Z)((0,r.Z)({},e),{hasMergeBaseWithFetchedRemote:Boolean(t.length)})}},k={format:function(){return f("git fetch origin --progress")},parse:function(e,t){return m(t)?(0,i.Z)((0,r.Z)({},e),{authError:c.l4.FETCH}):e}},E={format:function(e){if(0===e.commits.length)return["true"];var t=["git merge-tree $(git merge-base origin/$(".concat(u,") $(").concat(u,")) origin/$(").concat(u,") $(").concat(u,")"),"grep '^changed in both'","wc -l"].join(" | ");return f(l,t)},parse:function(e,t){return(0,i.Z)((0,r.Z)({},e),{hasConflictsWithFetchedRemote:0!==e.commits.length&&!isNaN(+t.trim())&&"0"!==t.trim()})}},_={format:function(e){return f("git reset --hard origin/$(".concat(u,")"))}},C={format:function(e){var t=h(e);return["git push ".concat(t," $(").concat(u,") --force")]}},S={format:function(){return f(l,"git merge origin/$(".concat(u,")"))},parse:function(e,t){return null!==new RegExp(/(^|\n)error: Your local changes to the following files would be overwritten by merge/g).exec(t)?(0,i.Z)((0,r.Z)({},e),{hasConflictsWithFetchedRemote:!0}):e}},T={format:function(e){return["git","remote","get-url","origin"]},parse:function(e,t){return t.includes("No such remote")||t.startsWith("fatal")?(0,i.Z)((0,r.Z)({},e),{remote:""}):(0,i.Z)((0,r.Z)({},e),{remote:t.trim()})}},I={format:function(e,t){return e.remote?f("git remote remove origin; git remote add origin ".concat(t)):f("git remote add origin ".concat(t))}},j={format:function(e){return f("git rev-parse 2>/dev/null && for i in $(git remote); do git remote remove $i; done")}},R={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r="HEAD";t&&e.commits.length>0&&(r=e.commits[e.commits.length-1].hash);var i=["%D","%H","%an","%ae","%aI","%cn","%ce","%cI","%P","%B"];return["git","log","--pretty=".concat(i.join("%x00"),"%x00%x00"),"-".concat(n+1),r,"--"]},parse:function(e,t){if(t.startsWith("fatal"))return(0,i.Z)((0,r.Z)({},e),{commits:[]});if(t.startsWith("error: index file"))return(0,i.Z)((0,r.Z)({},e),{badState:c.$U.IndexFilesCorrupted});var n=t.split("\0\0\n").filter((function(e){return""!==e})).map((function(e){return e.split("\0")})),a=!!n[0][0];n.map((function(e){return e.shift()}));var s=!1;0===e.commits.length||a||e.commits[e.commits.length-1].hash!==n[0][0]||(s=!0,n.shift());var l=s?e.commits:[];return l=l.concat(n.map((function(e){var t=(0,o.Z)(e),n=t[0],r=t[1],i=t[2],a=t[3],c=t[4],s=t[5],l=t[6];return{hash:n,parentHash:t[7],message:t.slice(8).join("\n"),authorName:r,authorEmail:i,authorDate:new Date(a.trim()),committerName:c,committerEmail:s,committerDate:new Date(l.trim())}}))),(0,i.Z)((0,r.Z)({},e),{commits:l})}},N={format:function(){return f(p("git add -A"))},parse:function(e,t){if(t.startsWith("fatal"))return(0,i.Z)((0,r.Z)({},e),{hasConflictsWithFetchedRemote:!0});var n=e.changedFiles.map((function(e){return(0,i.Z)((0,r.Z)({},e),{isStaged:!0})}));return(0,i.Z)((0,r.Z)({},e),{changedFiles:n})}},P={format:function(e,t){return f("git add ".concat(t," && echo done: ").concat(t))},parse:function(e,t){if(!t.startsWith("fatal")){var n=t.split(" ")[1].trim(),a=e.changedFiles.map((function(e){return e.targetPath===n?(0,i.Z)((0,r.Z)({},e),{isStaged:!0}):e}));return(0,i.Z)((0,r.Z)({},e),{changedFiles:a})}return e}},D={format:function(e,t,n){return f("git restore ".concat(n?"--staged":""," ").concat(t," && echo done: ").concat(t))},parse:function(e,t){if(!t.startsWith("fatal")){var n=t.split(" ")[1].trim();return(0,i.Z)((0,r.Z)({},e),{changedFiles:e.changedFiles.map((function(e){return e.targetPath===n?(0,i.Z)((0,r.Z)({},e),{isStaged:!1}):e}))})}return e}},B={format:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r=e.gitHubName?e.gitHubName:n.fullName||n.username;var a=e.gitHubEmail||"<>",o='-c user.name="'.concat(r,'" -c user.email="').concat(a,'"'),c=t.replace(/'/g,"'\"'\"'");return f(p("git ".concat(o," commit -m '").concat(c,"'").concat(i?" --allow-empty":"")))}},O={format:function(e,t){return e.branches.includes(t)?["git","checkout",t,"--"]:["git","checkout","-b",t,"--"]}},A={format:function(e){var t=h(e);return f("git remote show ".concat(t," | grep 'HEAD branch'"))},parse:function(e,t){var n=(0,a.Z)(t.split(":"),2),o=(n[0],n[1].trim());return(0,i.Z)((0,r.Z)({},e),{defaultBranch:o})}},z={format:function(e){return f("git checkout ".concat(e.defaultBranch))}},U={format:function(e){return f("git checkout -f ".concat(e.defaultBranch))}},L={format:function(e,t){return f("git revert ".concat(t,"..$(").concat(d,") --no-commit"))}},G={format:function(e){return f(p("git reset $(".concat(d,") --")))}},X={format:function(e){return f("git rev-parse --is-inside-work-tree")},parse:function(e,t){return(0,i.Z)((0,r.Z)({},e),{isInitialized:t.startsWith("true")})}},F={format:function(e){return f("git add -A","git reset --hard $(".concat(d,") --"))}},M={format:function(e){return["git","branch","-a","--no-color"]},parse:function(e,t){if(t.startsWith("fatal"))return e;var n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return e.startsWith("* ")?e.replace(/^\*\s+/,""):e})).map((function(e){return e.trim()})).map(s.iF);return(0,i.Z)((0,r.Z)({},e),{branches:Array.from(new Set(n))})}},W={format:function(e){return f("git stash -u")}},H={format:function(e){return f("git checkout stash -- .")}},V={format:function(e,t,n){var r;r=e.gitHubName?e.gitHubName:t.fullName||t.username;var i=e.gitHubEmail||"<>",a='-c user.name="'.concat(r,'" -c user.email="').concat(i,'"');return f("git ".concat(a," merge -Xtheirs --allow-unrelated-histories --no-edit origin/").concat(n))}}},15240:function(e,t,n){var r,i,a;n.d(t,{$U:function(){return i},Xe:function(){return o},l4:function(){return r},pD:function(){return a}}),function(e){e[e.NONE=0]="NONE",e[e.PUSH=1]="PUSH",e[e.CLONE=2]="CLONE",e[e.FETCH=3]="FETCH",e[e.GITHUB_CREATE=4]="GITHUB_CREATE",e[e.GITHUB_GET_INFO=5]="GITHUB_GET_INFO"}(r||(r={})),function(e){e.None="NONE",e.NoMergeBase="NO_MERGE_BASE",e.AuthFetchError="AUTH_FETCH_ERROR",e.IndexFilesCorrupted="INDEX_FILES_CORRUPTED"}(i||(i={})),function(e){e[e.UNTRACKED=0]="UNTRACKED",e[e.MODIFIED=1]="MODIFIED",e[e.MOVED=2]="MOVED",e[e.DELETED=3]="DELETED"}(a||(a={}));var o={isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:r.NONE,badState:i.None,remote:"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null}},33918:function(e,t,n){n.d(t,{JE:function(){return a},cW:function(){return o},iF:function(){return c},mJ:function(){return i}});var r=n(10253);function i(e){if(!e)return"";var t=(0,r.Z)(a(e),2),n=t[0],i=t[1];return n&&i?"".concat(n,"/").concat(i):e}function a(e){if(!e)return["",""];var t=e.match(/^https:\/\/github\.com\/(.+)\/(.+)/);if(null!==t){var n=(0,r.Z)(t,3);return[n[1],n[2]]}return["",""]}function o(e,t){return"".concat(e,"/commit/").concat(t)}function c(e){return e.startsWith("remotes/origin/HEAD ->")?e.split("/").reverse()[0]:(e.startsWith("remotes/origin/")&&(e=e.replace("remotes/origin/","")),e.includes(" -> ")&&(e=e.split(" -> ")[0]),e.trim())}},9583:function(e,t,n){n.d(t,{YI:function(){return B},kW:function(){return D}});var r,i=n(26042),a=n(69396),o=n(35944),c=n(60536),s=n.n(c),l=(n(67294),n(44781));!function(e){e.TEXT="TEXT",e.MENTION="MENTION",e.LINK="LINK",e.REPL_LINK="REPL_LINK",e.DEEP_LINK="DEEP_LINK",e.CODE="CODE",e.BOLD="BOLD",e.ITALICS="ITALICS",e.STRIKETHROUGH="STRIKETHROUGH",e.QUOTE="QUOTE"}(r||(r={}));var u=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)(l.Z,{size:"small",onClick:n,children:t.content})},d=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)(l.Z,{size:"small",fontWeight:"medium",onClick:n,children:t.content})},f=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)("a",{href:t.url,onClick:n,rel:"noreferrer noopener nofollow",target:"_blank",children:t.content})},p=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)("a",{href:t.url,onClick:n,target:"_blank",children:t.content})},h=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)("a",{href:t.url,onClick:n,children:t.content})},m=function(e){var t=e.fragment,n=e.onClick,r=e.style;return(0,o.tZ)("code",{onClick:n,style:r,children:t.content})},v=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)("b",{onClick:n,children:t.content})},g=function(e){var t=e.fragment,n=e.onClick;return(0,o.tZ)("i",{onClick:n,children:t.content})},b=function(e){var t=e.fragment,n=e.onClick;return(0,o.BX)("span",{onClick:n,className:"jsx-e2f6e2707e7599fa",children:[t.content,(0,o.tZ)(s(),{id:"e2f6e2707e7599fa",children:"span.jsx-e2f6e2707e7599fa{text-decoration:line-through}"})]})},x=function(e){var t=e.fragment,n=e.onClick;return(0,o.BX)("blockquote",{onClick:n,className:"jsx-8741a91fadaf26be",children:[t.content,(0,o.tZ)(s(),{id:"8741a91fadaf26be",children:"blockquote.jsx-8741a91fadaf26be{border-left:2px solid var(--foreground-dimmest);padding-left:6px;color:var(--foreground-dimmest)}"})]})},y=/(@[0-9a-zA-Z_]+)/,Z=/(#[-a-zA-Z0-9@:%._+~#=/]+)/,w=/(https?:\/\/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{2,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*))/,k=/(`.+?`)/,E=/(\*\*.+?\*\*)/,_=/(_.+?_)/,C=/(\*.+?\*)/,S=/(~~.+?~~)/,T=/(^>.+?$\n?)/m,I=/\/@([0-9a-zA-Z_]+)\/(.+)/;function j(e){var t=e.url;return{type:r.LINK,url:t,content:t}}function R(e){var t=e.hash;return{type:r.DEEP_LINK,url:t,content:t}}function N(e,t){if(w.test(e)){var n={};try{n=new window.URL(e)}catch(a){return{content:e,type:r.TEXT}}return["repl.it","replit.com","firewalledreplit.com",document.location.host].includes(n.host)?n.pathname===t.replUrl?R({hash:n.hash}):I.test(n.pathname)?function(e){var t=e.url,n=I.exec(t.pathname);if(!n)throw new Error("Not a Repl URL");return{type:r.REPL_LINK,url:t.href,content:"@".concat(n[1],"/").concat(n[2]).concat(t.hash)}}({url:n}):j({url:e}):j({url:e})}if(Z.test(e))return R({hash:e});if(T.test(e))return function(e){var t=e.text;return{type:r.QUOTE,content:t}}({text:e.slice(1).trim()});if(k.test(e))return function(e){var t=e.code;return{type:r.CODE,content:t}}({code:e.slice(1,-1)});if(E.test(e))return function(e){var t=e.text;return{type:r.BOLD,content:t}}({text:e.slice(2,-2)});if(_.test(e)||C.test(e))return function(e){var t=e.text;return{type:r.ITALICS,content:t}}({text:e.slice(1,-1)});if(S.test(e))return function(e){var t=e.text;return{type:r.STRIKETHROUGH,content:t}}({text:e.slice(2,-2)});if(y.test(e)){var i=e.slice(1);if(!t.users||t.users.includes(i))return function(e){var t=e.username;return{type:r.MENTION,username:t,content:"@".concat(t)}}({username:i})}return{content:e,type:r.TEXT}}var P=new RegExp([k.source,E.source,_.source,C.source,S.source,w.source,y.source,Z.source,T.source].join("|"),"m");function D(e,t){var n=e.split(P),i=[],a=[],o=!0,c=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var d=l.value;if(d){var f=N(d,t);if(f){if(f.type===r.MENTION){if(!f.username)continue;i.push(f.username)}a.push(f)}}}}catch(p){c=!0,s=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}return{tokens:a,mentions:i}}function B(e){var t=e.message,n=e.onMentionClick,c=void 0===n?function(){}:n,s=e.codeStyles,l=void 0===s?{}:s;return(0,o.tZ)(o.HY,{children:t.tokens.map((function(e,t){var n={fragment:e,key:t};return e.type===r.MENTION?(0,o.tZ)(d,(0,a.Z)((0,i.Z)({},n),{onClick:function(){return c(e)}})):e.type===r.LINK?(0,o.tZ)(f,(0,i.Z)({},n)):e.type===r.REPL_LINK?(0,o.tZ)(p,(0,i.Z)({},n)):e.type===r.DEEP_LINK?(0,o.tZ)(h,(0,i.Z)({},n)):e.type===r.CODE?(0,o.tZ)(m,(0,a.Z)((0,i.Z)({},n),{style:l})):e.type===r.BOLD?(0,o.tZ)(v,(0,i.Z)({},n)):e.type===r.ITALICS?(0,o.tZ)(g,(0,i.Z)({},n)):e.type===r.STRIKETHROUGH?(0,o.tZ)(b,(0,i.Z)({},n)):e.type===r.QUOTE?(0,o.tZ)(x,(0,i.Z)({},n)):(0,o.tZ)(u,(0,i.Z)({},n))}))})}},6357:function(e,t,n){var r=n(35944),i=n(60536),a=n.n(i);n(67294);t.Z=function(){return(0,r.BX)("svg",{className:"chat-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31.284 28.805",children:[(0,r.tZ)("defs",{className:"jsx-f2b1ac7d24afe9fe",children:(0,r.tZ)(a(),{id:"f2b1ac7d24afe9fe",children:".chat-icon-svg{width:100%;height:100%}.chat-icon-svg .cls-1{fill:currentColor}"})}),(0,r.tZ)("g",{children:(0,r.tZ)("path",{className:"cls-1",d:"M27.246,1.309H4.233A2.811,2.811,0,0,0,1.422,4.121V20.7a1.686,1.686,0,0,0,1.687,1.687H24.625l5.237,5.11V3.925A2.615,2.615,0,0,0,27.246,1.309ZM24.823,16.461H12.217V14.143H24.823Zm0-5.47H6.247V8.012H24.823Z"})})]})}},42839:function(e,t,n){n.r(t),n.d(t,{AddLib:function(){return c},Alien:function(){return s},Chat:function(){return l.Z},Checkmark:function(){return u},CloudOff:function(){return C},Copy:function(){return d},Debugger:function(){return f},File:function(){return p},GitHub:function(){return h},GitHubPrivate:function(){return v},GitHubPublic:function(){return m},Globe:function(){return g},HistoryIcon:function(){return w},Minimize:function(){return k},Packages:function(){return E},WallArrow:function(){return _}});var r=n(35944),i=n(60536),a=n.n(i),o=n(67294),c=function(e){var t=e.backgroundColor,n=e.foregroundColor,i=e.borderColor;return(0,r.BX)("svg",{className:"add-lib-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20.583 20.25",children:[(0,r.BX)("defs",{className:a().dynamic([["dbc0ebf9a62f5ac7",[t,i,i,n]]]),children:[(0,r.tZ)(a(),{id:"dbc0ebf9a62f5ac7",dynamic:[t,i,i,n],children:".add-lib-icon-svg{height:100%;width:100%}.add-lib-icon-svg .cls-1{fill:none}.add-lib-icon-svg .cls-3{fill:".concat(t,";stroke:").concat(i,";stroke-miterlimit:10;stroke-width:1px}.add-lib-icon-svg:hover .cls-3{fill:").concat(i,"}.add-lib-icon-svg .cls-4{fill:").concat(n,"}.add-lib-icon-svg:hover .cls-4{fill:#fff}")}),(0,r.tZ)("clipPath",{id:"clip-path",className:a().dynamic([["dbc0ebf9a62f5ac7",[t,i,i,n]]]),children:(0,r.tZ)("rect",{x:"-162.211",y:"-650.947",width:"243.472",height:"517.878",className:a().dynamic([["dbc0ebf9a62f5ac7",[t,i,i,n]]])+" cls-1"})})]}),(0,r.tZ)("circle",{className:"cls-3",cx:"10.303",cy:"10.083",r:"9.675"}),(0,r.tZ)("path",{className:"cls-4",d:"M15.858,10.885H11.1V15.89H9.5V10.885H4.763v-1.6H9.5V4.278h1.6V9.283h4.758Z"})]})},s=function(){return(0,r.BX)("svg",{className:"alien-svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13.864 17.047",children:[(0,r.tZ)("defs",{className:"jsx-1f2b026e5d30cdfc",children:(0,r.tZ)(a(),{id:"1f2b026e5d30cdfc",children:".alien-svg-icon{width:100%;height:100%}.alien-svg-icon .cls-1{fill:none}.alien-svg-icon .cls-2{fill:currentColor}"})}),(0,r.BX)("g",{children:[(0,r.tZ)("path",{className:"cls-1",d:"M9.032,12.615h-4.2a.632.632,0,0,0,0,1.263h4.2a.632.632,0,0,0,0-1.263Z"}),(0,r.tZ)("path",{className:"cls-2",d:"M9.459.816A.643.643,0,0,1,9.306.765,7.765,7.765,0,0,0,6.932.406,7.767,7.767,0,0,0,4.557.765.638.638,0,0,1,4.4.816,5.833,5.833,0,0,0,.33,6.44a14.177,14.177,0,0,0,2.03,6.593c1.359,2.293,3.025,3.608,4.571,3.608s3.212-1.315,4.572-3.608A14.175,14.175,0,0,0,13.534,6.44,5.833,5.833,0,0,0,9.459.816ZM2.773,8.574a3.284,3.284,0,0,1-.7-2.372L2.1,5.639l.784-.022a3.066,3.066,0,0,1,2.148.7,3.284,3.284,0,0,1,.7,2.372l-.022.554-.554.026c-.071,0-.149.006-.229.006A3.063,3.063,0,0,1,2.773,8.574Zm6.259,5.3h-4.2a.632.632,0,0,1,0-1.263h4.2a.632.632,0,0,1,0,1.263Zm2.058-5.3a3.065,3.065,0,0,1-2.148.7c-.081,0-.158,0-.23-.006l-.554-.026-.022-.554a3.286,3.286,0,0,1,.7-2.372h0a3.238,3.238,0,0,1,2.377-.694l.554.026.022.554A3.28,3.28,0,0,1,11.09,8.574Z"})]})]})},l=n(6357),u=function(){return(0,r.BX)("svg",{className:"checkmark-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 8",children:[(0,r.tZ)("defs",{className:"jsx-90c1721812b4493d",children:(0,r.tZ)(a(),{id:"90c1721812b4493d",children:".checkmark-icon-svg{width:100%;height:100%}.checkmark-icon-svg .cls-1{fill:none;stroke:currentColor;stroke-miterlimit:10;stroke-width:1.3px}"})}),(0,r.tZ)("polyline",{className:"cls-1",points:"0.7 3.54 3.94 6.57 10.01 0.58"})]})},d=function(){return(0,r.BX)("svg",{className:"copy-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.995 18.629",children:[(0,r.tZ)("defs",{className:"jsx-f0b93a6654f24042",children:(0,r.tZ)(a(),{id:"f0b93a6654f24042",children:".copy-icon-svg{width:100%;height:100%}.copy-icon-svg .cls-1{fill:currentColor}"})}),(0,r.tZ)("g",{children:(0,r.tZ)("path",{className:"cls-1",d:"M14.6,10.59q0,3.128,0,6.256c0,.175,0,.176-.181.176H5.054c-.2,0-.2,0-.2-.2q0-1.09,0-2.18c0-.162,0-.162-.17-.162H1.576c-.18,0-.181,0-.181-.174q0-4.286,0-8.572a.314.314,0,0,1,.086-.2Q3.44,3.615,5.406,1.706a.333.333,0,0,1,.21-.084c1.794,0,3.587,0,5.381-.006.12,0,.149.042.148.153,0,.739,0,1.478,0,2.217,0,.172,0,.172.172.172h3.122c.167,0,.166,0,.166.163q0,3.134,0,6.268Zm-.865,0q0-2.707,0-5.413c0-.17,0-.171-.17-.171H9.746c-.174,0-.174,0-.174.166q0,1.7,0,3.407c0,.175,0,.175-.184.175H5.91c-.189,0-.189,0-.189.183q0,3.53,0,7.061c0,.178,0,.179.181.179h7.653c.182,0,.182,0,.182-.173Q13.736,13.294,13.736,10.588ZM2.261,9.921h0c0,1.189,0,2.378,0,3.567,0,.121.037.152.157.151.753-.005,1.506,0,2.259,0,.181,0,.182,0,.182-.172q0-2.576,0-5.152a.332.332,0,0,1,.108-.261q1.952-1.9,3.9-3.8a.288.288,0,0,1,.223-.088c.343,0,.685,0,1.028,0,.124,0,.171-.03.169-.159-.007-.458,0-.916,0-1.375,0-.162,0-.163-.172-.163-1.277,0-2.555,0-3.832,0-.126,0-.167.032-.167.16,0,1.135,0,2.271,0,3.406,0,.18,0,.18-.181.18l-3.49,0c-.174,0-.175,0-.175.167Q2.261,8.15,2.261,9.921ZM6.413,7.9a.784.784,0,0,0,.093.009c.689,0,1.377,0,2.066,0,.107,0,.136-.038.136-.138,0-.672,0-1.344,0-2.016A.852.852,0,0,0,8.7,5.66Zm-1.18-4.77L2.945,5.357c.028,0,.068.007.108.007.677,0,1.353,0,2.03,0,.123,0,.16-.038.159-.156,0-.656,0-1.313,0-1.969C5.24,3.2,5.235,3.163,5.233,3.126Z"})})]})},f=function(){return(0,r.BX)("svg",{className:"debugger-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16.54",children:[(0,r.tZ)("defs",{className:"jsx-a38088c861f63c13",children:(0,r.tZ)(a(),{id:"a38088c861f63c13",children:".debugger-icon-svg{width:100%;height:100%}.debugger-icon-svg path{fill:currentColor;fill-rule:evenodd}"})}),(0,r.BX)("g",{children:[(0,r.tZ)("path",{d:"M.626,8.244q0-2.428,0-4.856a.853.853,0,0,1,.041-.3.567.567,0,0,1,.857-.266c.522.3,1.038.614,1.555.922Q6.248,5.634,9.416,7.521a.851.851,0,0,1,.148,1.344.761.761,0,0,1-.14.1L1.6,13.627a.7.7,0,0,1-.514.13.576.576,0,0,1-.454-.585q0-1.314,0-2.63Z"}),(0,r.tZ)("path",{d:"M14.466,13.925h-.61a.867.867,0,0,1-.867-.867l.041-9.64A.867.867,0,0,1,13.9,2.55h.61a.867.867,0,0,1,.867.867l-.041,9.64A.867.867,0,0,1,14.466,13.925Z"})]})]})},p=function(){return(0,r.BX)("svg",{className:"file-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.908 20.614",children:[(0,r.tZ)("defs",{className:"jsx-df3046c110d1b54a",children:(0,r.tZ)(a(),{id:"df3046c110d1b54a",children:".file-icon-svg{width:100%;height:100%}.file-icon-svg path{fill:currentColor}"})}),(0,r.tZ)("g",{children:(0,r.tZ)("path",{d:"M10.4.937H.9v18.74H17.094V7.608ZM15.6,18.1H2.422V2.51H9.554V8.124H15.6Z"})})]})},h=function(){return(0,r.BX)("svg",{className:"github-icon-svg",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("defs",{className:"jsx-5d094e78a7b6a3b4",children:(0,r.tZ)(a(),{id:"5d094e78a7b6a3b4",children:".github-icon-svg{height:100%;width:100%}.github-icon-svg path{fill:currentColor}"})}),(0,r.tZ)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})},m=function(){return(0,r.BX)("svg",{className:"github-public-icon-svg",viewBox:"0 0 14.528 19.72",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("defs",{className:"jsx-f154528c4ebbff88",children:(0,r.tZ)(a(),{id:"f154528c4ebbff88",children:".github-public-icon-svg{height:100%;width:100%}.github-public-icon-svg path{fill:currentColor}"})}),(0,r.tZ)("path",{d:"M13.626.945H1.973A1.264 1.264 0 00.709 2.21V16.2a1.264 1.264 0 001.264 1.26h11.653a1.264 1.264 0 001.264-1.26V2.21A1.264 1.264 0 0013.626.945zm.1 15.394H1.752v-2.383h11.97zm.016-3.55H2.831V2.024h10.907z"}),(0,r.tZ)("path",{d:"M4.16 19.853v-4.706H7.8v4.706l-1.735-1.735-1.905 1.735zM4.123 3.213h1.221v1.221H4.123zM4.123 5.602h1.221v1.221H4.123zM4.123 7.991h1.221v1.221H4.123zM4.123 10.38h1.221v1.221H4.123z"})," "]})},v=function(){return(0,r.BX)("svg",{className:"github-private-icon-svg",viewBox:"0 0 14.528 19.72",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.tZ)("defs",{className:"jsx-ef88cf42a515bfdd",children:(0,r.tZ)(a(),{id:"ef88cf42a515bfdd",children:".github-private-icon{height:100%;width:100%}.github-private-icon-svg{fill:currentColor}"})}),(0,r.tZ)("path",{d:"M5.207 8.922c.683.04 1.369.017 2.054.017s1.369-.007 2.054 0c.328 0 .5-.118.494-.463-.009-.624.033-1.255-.016-1.876A2.583 2.583 0 007.36 4.1a2.535 2.535 0 00-2.568 2.14 12.7 12.7 0 00-.033 2.333c.005.127.285.34.448.349z",fill:"transparent"}),(0,r.tZ)("path",{d:"M13.856 10.006a1.022 1.022 0 00-1.049-1.059 4.716 4.716 0 00-.629 0c-.364.023-.505-.13-.509-.5a27.522 27.522 0 00-.084-2.225 4.344 4.344 0 00-8.5-.822A12.066 12.066 0 002.856 8c-.038 1.019.062.936-.919.945-.913.01-1.273.372-1.274 1.291v7.32c0 .932.34 1.267 1.279 1.27H7.26c1.83 0 3.66.006 5.49 0a.986.986 0 001.108-1.036q.02-3.89-.002-7.784zM4.792 6.24A2.535 2.535 0 017.36 4.1a2.583 2.583 0 012.433 2.5c.049.624.008 1.255.016 1.882.005.345-.166.468-.494.463-.685-.01-1.37 0-2.054 0s-1.371.023-2.054-.017c-.163-.009-.443-.222-.448-.349a12.7 12.7 0 01.033-2.339zm8.225 11.712H2.649V9.817h10.368z"}),(0,r.tZ)("path",{d:"M3.643 10.88h1.221v1.221H3.643zM3.643 13.27h1.221v1.221H3.643zM3.643 15.659h1.221v1.221H3.643z"})]})},g=function(e){var t=e.color;return(0,r.BX)("svg",{className:"globe-svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.967 17.653",children:[(0,r.tZ)("defs",{className:a().dynamic([["93817b212df0fc6b",[t]]]),children:(0,r.tZ)(a(),{id:"93817b212df0fc6b",dynamic:[t],children:".globe-svg-icon .cls-1{fill:currentColor}.globe-svg-icon .cls-2{fill:".concat(t,"}")})}),(0,r.BX)("g",{children:[(0,r.tZ)("path",{className:"cls-1",d:"M17.073,8.846a8,8,0,1,1-16.008,0,7.864,7.864,0,0,1,8-8A7.994,7.994,0,0,1,17.073,8.846Z"}),(0,r.tZ)("path",{className:"cls-2",d:"M9.4,7.789l.053-.23-.035-.124-.035-.124-.263-.48L9.1,6.708l-.019-.145-.034-.138.177-.053.124-.088V5.948L9.4,5.841l.159-.124h.124l.124-.124-.035-.248.106-.177.141-.018L10.2,5.01V4.887l.088-.248.195.088.177.035.3-.025.124-.088.106-.159.106-.195.035-.177L11.1,4l-.141-.088-.141-.071-.195-.088L10.464,3.6l-.053-.141L10.2,3.366l-.053-.159-.088-.141-.141-.088-.141.035L9.615,3.1l-.124.018-.141.018-.124-.141-.177-.141L8.89,2.711,8.757,2.6l-.11.208-.018.23-.035.283v.513l-.341-.171-.124-.195a.736.736,0,0,0-.212-.106,1.326,1.326,0,0,0-.212-.018H7.546l-.053-.177.212-.106.141-.035.141-.124.159-.195,0-.335h-.1l-.265-.018H7.564a.663.663,0,0,0-.141.018c-.071.018-.177.053-.177.053L7,2.552l-.283.071-.159.035-.283.106-.124.071L5.8,3.03l-.318.124-.212.141-.195.177-.159.159-.141.141-.23.106-.124.195L4.2,4.356l.018.265-.088.248.053.177a.684.684,0,0,1-.018.159,1.445,1.445,0,0,0-.018.248v.159c0,.053.018.177.018.177l.053.159.124.141.071.159.088.124.123.191v.251l.053.141.035.141s.177.124.177.195A.7.7,0,0,0,5,7.557c.035.053.071.071.106.124a1.961,1.961,0,0,0,.195.195L5.424,8l.159.177.212.283a.829.829,0,0,0,.177.106.545.545,0,0,0,.23.053h.336c.159,0,.377-.205.448-.17s.531-.042.671.2c0,0,.57.911.605.982s.2.075.2.075a1.036,1.036,0,0,0,.36.033l.276.017L9.414,9.7l-.17.365-.124.177-.195.106-.106.141-.053.177-.018.159-.018.248.018.177a1.946,1.946,0,0,0,.283.477l.124.177.071.124.035.177.159.088.159.265.185.544-.063.252-.094.252-.094.535-.157.377-.094.22-.094.22-.031.22.189.409.6-.157.315-.189.126-.22a.4.4,0,0,1,.031-.252c.063-.126.157-.189.189-.315a.779.779,0,0,1,.22-.283l.252-.22.377-.346.346-.031.346-.346.535-.346.22-.157.22-.315.157-.22.157-.283.031-.5-.189-.252-.44-.22a1.521,1.521,0,0,0-.409-.346l-.22-.44-.346-.157-.283-.252-.283-.189-.189-.22L10.771,9.3l-.22-.157-.377-.031h-.22l-.22.031-.126.283-.051.083L9.476,9.5H9.384l-.14.005L9,9.467l-.23-.106-.124-.177V9.042l-.088-.177-.212-.177-.124-.124.005-.146-.288-.4H7.723L7.6,8l-.212-.018-.248-.018-.248-.106-.177-.071V7.61l.035-.177L6.8,7.274,6.927,7.1l.248.124.283.053H7.6l.141-.035.212-.088.159-.106.548.106.228.6.141.035.212.071"})]})]})},b=n(51438),x=n(52951),y=n(28668),Z=n(25171),w=function(e){(0,y.Z)(n,e);var t=(0,Z.Z)(n);function n(){return(0,b.Z)(this,n),t.apply(this,arguments)}return(0,x.Z)(n,[{key:"render",value:function(){return(0,r.BX)("svg",{className:"history-icon-svg","data-name":"Layer 1 copy 5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 21.051 18.415",children:[(0,r.tZ)("defs",{className:"jsx-2b4f128e034148c0",children:(0,r.tZ)(a(),{id:"2b4f128e034148c0",children:".history-icon-svg .cls-1,.history-icon-svg .cls-2{fill:currentColor}.history-icon-svg .cls-1{fill-rule:evenodd}"})}),(0,r.BX)("g",{children:[(0,r.tZ)("path",{className:"cls-1",d:"M9.813,6.732a.485.485,0,0,1,.02-.154.262.262,0,0,1,.409-.139c.249.159,2.758,1.8,3.766,2.453a.47.47,0,0,1,.071.7.366.366,0,0,1-.067.052l-3.736,2.436a.314.314,0,0,1-.246.068.3.3,0,0,1-.217-.306C9.813,11.386,9.813,7.578,9.813,6.732Z"}),(0,r.tZ)("path",{className:"cls-2",d:"M19.595,7.041A8.324,8.324,0,0,0,18.053,4a8.49,8.49,0,0,0-2.638-2.208A8.3,8.3,0,0,0,12.246.837,8.286,8.286,0,0,0,5.918,2.96,10.2,10.2,0,0,0,3.3,7.162C2.879,6.6,2.362,5.925,2.093,5.568,1.9,5.312,1.9,5.312,1.652,5.5c-.114.087-.228.174-.342.26-.229.171-.229.171-.059.4C2.062,7.23,2.877,8.3,3.679,9.38c.123.165.208.2.394.09,1.184-.683,2.375-1.354,3.564-2.025.032-.018.062-.032.094-.048a.106.106,0,0,0,.045-.147c-.14-.247-.232-.405-.331-.6-.084-.169-.173-.187-.334-.092-.643.375-2.035,1.154-2.083,1.178l-.263.15A10.5,10.5,0,0,1,7.7,3.694a6.579,6.579,0,0,1,3.271-1.133,6.85,6.85,0,0,1,2.847.38,6.353,6.353,0,0,1,2.039,1.195A6.53,6.53,0,0,1,18.1,8.382a6.415,6.415,0,0,1-.465,3.4,6.472,6.472,0,0,1-5.083,3.976,6.43,6.43,0,0,1-2.325-.037,6.538,6.538,0,0,1-2.111-.788,6.094,6.094,0,0,1-1.643-1.4.62.62,0,0,0-.948-.08,2.874,2.874,0,0,1-.278.221.622.622,0,0,0-.124.968,8.162,8.162,0,0,0,1.5,1.377A8.57,8.57,0,0,0,9.387,17.3a8.145,8.145,0,0,0,2.076.273h.089a8.23,8.23,0,0,0,2.72-.487,8.452,8.452,0,0,0,3.954-2.945,8.266,8.266,0,0,0,1.369-7.1ZM4.5,8.032l0-.006h.014Z"})]})]})}}]),n}(o.PureComponent),k=function(e){var t=e.strokeWidth;return(0,r.BX)("svg",{className:"minimize-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.379 1.23",children:[(0,r.tZ)("defs",{className:a().dynamic([["20a85162fe300752",[t||0]]]),children:(0,r.tZ)(a(),{id:"20a85162fe300752",dynamic:[t||0],children:".minimize-icon-svg{width:100%;height:100%}.minimize-icon-svg .cls-1{fill:currentColor;stroke:currentColor;stroke-width:".concat(t||0,"px}")})}),(0,r.tZ)("g",{children:(0,r.tZ)("path",{className:"cls-1",d:"M.563,1.174V.056H11.816V1.174Z"})})]})},E=function(){return(0,r.BX)("svg",{className:"packages-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16.54",children:[(0,r.tZ)("defs",{className:"jsx-497860706f97c603",children:(0,r.tZ)(a(),{id:"497860706f97c603",children:".packages-icon-svg{width:100%;height:100%}.packages-icon-svg path{fill:currentColor}"})}),(0,r.BX)("g",{children:[(0,r.tZ)("path",{d:"M1.6,5.093a.4.4,0,0,0-.616.385v6.451a1.247,1.247,0,0,0,.608,1l4.863,2.538a.382.382,0,0,0,.608-.369V8.447a1.2,1.2,0,0,0-.616-.987Z"}),(0,r.tZ)("path",{d:"M14.523,5.093a.4.4,0,0,1,.616.385v6.451a1.247,1.247,0,0,1-.608,1L9.669,15.471a.382.382,0,0,1-.608-.369V8.447a1.2,1.2,0,0,1,.616-.987Z"}),(0,r.tZ)("path",{d:"M7.413,1.041A1.776,1.776,0,0,1,8.7,1.047l4.491,2.067c.353.163.35.422-.007.576L8.707,5.629a1.9,1.9,0,0,1-1.3.006L2.793,3.685c-.358-.151-.361-.405-.006-.565Z"})]})]})},_=function(e){var t=e.strokeWidth;return(0,r.BX)("svg",{className:"wall-arrow-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15.241 11.433",children:[(0,r.tZ)("defs",{className:a().dynamic([["37c6e018ba6fa825",[t||0]]]),children:(0,r.tZ)(a(),{id:"37c6e018ba6fa825",dynamic:[t||0],children:".wall-arrow-icon-svg{width:100%;height:100%}.wall-arrow-icon-svg .cls-1{fill:currentColor;stroke:currentColor;stroke-width:".concat(t||0,"px}")})}),(0,r.tZ)("g",{children:(0,r.tZ)("path",{className:"cls-1",d:"M6.105,6.487c4.787-.006,3.691-.012,8.443-.019V5.442c-4.758.006-3.655.012-8.443.019L8.653,1.876c-.378,0-.693,0-1.006.006a.284.284,0,0,0-.194.1q-1.407,1.933-2.8,3.877a.239.239,0,0,0-.006.219q1.4,1.94,2.81,3.87a.245.245,0,0,0,.15.106c.334.009.668,0,1.056,0ZM1.717,10.914C1.71,5.118,1.7,6.3,1.695.518h-1C.7,6.313.708,5.135.715,10.915Z"})})]})},C=function(){return(0,r.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.tZ)("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),(0,r.tZ)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}}}]);
//# sourceMappingURL=4025-ca9f7803607f3ea4.js.map