(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9460,2380],{44725:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment2",function(){return n(19485)}])},79611:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),i=n(11163);function o(e,t){var n=(0,i.useRouter)();(0,r.useEffect)((function(){}),[e,n]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=t.split("/")[1].slice(1);n.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:o,replId:r}},n.asPath)}}),[e,n,t])}},19485:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ao}});var r=n(47568),i=n(10253),o=n(34051),a=n.n(o),l=n(35944),c=n(67294),s=n(91131),u=n(11163),d=n(22862),p=n(70338),f=n(78896),v=n(36077),h=n.n(v),g=n(90317),m=n(60731),Z=n(86127),b=n(65389),y=n(92098),x=n(86292),w=n(41664),E=n.n(w),k=n(89033),I=n(26473),C=n(99408),D=n(58502),S=n(26042),P=n(69396),R=n(70804),N=n(80314),T=n(33773),O=n(57082),A=n(36316),G=n(56499),M=n(45734);function _(){return(0,l.tZ)(m.G7,{children:(0,l.tZ)(m.G7,{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",css:[m.l0.width(8),m.l0.height(8),m.l0.borderRadius("full"),m.l0.backgroundColor.accentPositiveDefault,{alignSelf:"start",boxShadow:"0 0 12px "+m.TV.accentPositiveDefault}]})})}function L(e){var t=e.repl,n=e.refetch,r=(0,u.useRouter)(),o=(0,i.Z)(c.useState(!1),2),a=o[0],s=o[1];return(0,l.BX)(R.Z,{isOpen:a,maxWidth:460,onClickOutside:function(){},padding:0,placement:"bottom-start",growToMaxWidth:!0,zIndex:M.I-1,elevated:!1,children:[(0,l.BX)(m.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){s(!0)},css:[m.l0.align.center,m.l0.cursor.pointer,m.l0.rowWithGap(8),m.l0.p(4),m.l0.borderRadius(8),m.l0.color.foregroundDefault,a&&{pointerEvents:"none"},{border:"1px solid transparent",backgroundColor:"transparent","&:hover":{borderColor:m.TV.outlineDimmest}}],children:[(0,l.tZ)(O.Z,{user:t.user}),(0,l.tZ)(A.Z,{repl:t}),t.isAlwaysOn?(0,l.tZ)(_,{}):null,(0,l.tZ)(m.G7,{css:[m.l0.p(4)],children:(0,l.tZ)(T.Z,{})})]}),(0,l.tZ)(G.ZP,{setIsEditing:s,repl:t,refetch:n,onUpdateRepl:function(e){if(t&&(!!e.title&&e.title!==t.title)){var n=(0,N.Z)(r.query);r.push({pathname:r.pathname,query:(0,P.Z)((0,S.Z)({},r.query),{replUrl:t.url})},{pathname:t.url,query:n},{shallow:!0})}}})]})}var z=n(4997),U=n(18935),B=n(1129),H=n(34193),K=n(98567),j=n(42511),X=n(23579),F=n(63377),W=n(18172),V=n(71171),Y=n.n(V),$=n(68963),q=n(95068),Q=n(12727),J=n(36757),ee=n(72676),te=((0,s.cn)(null,(function(e,t,n){var r=e(Q.Eh).find((function(e){return e.isDialog}));r?t(J.$r,r.paneId):t(ne,n)})),(0,s.cn)(null,(function(e,t,n){var r=e(Q.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(t(J.$r,r.paneId),t(ne,n)):t(J.vN,{paneId:r.paneId,data:n.pane})}else t(ne,n)}))),ne=(0,s.cn)(null,(function(e,t,n){if(!e(Q.Eh).find((function(e){return e.isDialog}))){var r=e(q.g4),i=e(Q.CK),o=Y()(),a=i.x+i.width,l=i.y+i.height,c=n.maxWidth||a,s=n.maxHeight||l,u=Math.min(c,.8*a),d=Math.min(s,.8*l),p={width:u,height:d,x:a/2-u/2-i.x,y:l/2-d/2-i.y},f=(0,W.ZP)(r,(function(e){(0,$.mZ)(e,{isFloating:!0,panes:[o],rect:p})}));t(ee.iH,f),t(q.W1,{paneId:o});var v=(0,Q.z)(o),h=e(v);t(q.W1,{paneId:o}),t(v,(0,P.Z)((0,S.Z)({},h),{isDialog:!0})),t(h.data,n.pane)}})),re=(0,s.cn)(null,(function(e,t){var n=e(Q.Eh).find((function(e){return e.isDialog}));n&&t(J.$r,n.paneId)})),ie=n(56679),oe=n(87653),ae=n(87263),le=n(52722),ce=n(95596),se=n(39715),ue=n(51871),de=n(61193),pe=n(43804),fe=n(44746),ve=n(3462),he=n(77538),ge=(0,m.KD)("a"),me=[g.Sy.Submit,g.Sy.Resubmit,g.Sy.UpdateModelSolution,g.Sy.PublishTemplate,g.Sy.EditTemplate,g.Sy.ReviewSubmission],Ze={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"};function be(){var e,t,n,r,o,a=(0,C.Z)(),u=a.runner,d=a.presence,p=a.replbox,f=a.session,v=(0,F.Z)(),h=(0,D.Z)({presence:d}),Z=(0,i.Z)(c.useState(u),2),b=Z[0],y=Z[1],w=(0,i.Z)(c.useState(!1),2),S=w[0],P=w[1],R=(0,de.e)(pe.H.Run),N=(0,de.e)(pe.H.Share),T=(0,g.ggE)({variables:{id:v}}),O=T.data,A=T.refetch,G=(0,s.b9)(te),M=(0,fe.Z)(),_=(0,s.b9)(ae.cN),W="Repl"===(null===O||void 0===O?void 0:O.repl.__typename)?O.repl:null,V=null===O||void 0===O?void 0:O.currentUser,Y="replbox"===(null===W||void 0===W||null===(e=W.lang)||void 0===e?void 0:e.engine)&&"html"!==(null===W||void 0===W?void 0:W.lang.id);(0,c.useEffect)((function(){y(Y?p:u)}),[Y,p,u]);var $=(0,c.useRef)(null),q=(0,c.useRef)(null),Q=(0,c.useRef)(S&&(null===N||void 0===N?void 0:N.isActive));(0,c.useEffect)((function(){Q.current&&!(null===N||void 0===N?void 0:N.isActive)&&P(!1),Q.current=S&&(null===N||void 0===N?void 0:N.isActive)}),[N,S]),(0,c.useEffect)((function(){(null===N||void 0===N?void 0:N.isActive)&&(S&&q.current?null===N||void 0===N||N.delegateTooltip(q.current):N.delegateTooltip($.current))}),[N,S,q]);var J="Team"===(null===W||void 0===W||null===(t=W.owner)||void 0===t?void 0:t.__typename),ee=Boolean("Team"===(null===W||void 0===W||null===(n=W.owner)||void 0===n?void 0:n.__typename)&&(null===(r=null===W||void 0===W?void 0:W.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),ne=me.find((function(e){return e===(null===W||void 0===W?void 0:W.workspaceCta)})),re=!ee&&(null===W||void 0===W?void 0:W.currentUserPermissions.editMultiplayers);return(0,ue.x)(Ze,{enabled:!ee,run:function(){P(!0)}}),(0,le.Y)({match:se.pl,data:{type:"action",label:"Multiplayer",icon:(0,l.tZ)(ce.Z,{}),description:"Open multiplayer mode",run:function(){P(!0)},keyboardShortcut:Ze}},{enabled:!ee}),(0,c.useEffect)((function(){return d.onUserOpenedFile((function(e){var t=e.user,n=e.file,r=d.getFollowedUser();r&&r.id===t.id&&n&&f.openFile(n)}))}),[d,f]),W?(0,l.BX)(m.Tg,{elevated:!0,tag:"header",css:[m.l0.height(60),m.l0.rowWithGap(8),m.l0.align.center,m.l0.justify.spaceBetween,m.l0.p(8),m.l0.position.relative,m.l0.pl(48)],children:[(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(4),m.l0.center],children:[(0,l.tZ)(m.G7,{css:[m.l0.p(8),m.l0.pl(0)],children:(0,l.tZ)(E(),{as:"/~",href:"/home",passHref:!0,children:(0,l.tZ)(ge,{css:[m.l0.center,m.l0.color.foregroundDefault,m.l0.width(32),m.l0.height(32)],children:(0,l.tZ)(k.Z,{})})})}),(null===V||void 0===V?void 0:V.isFirewallMode)&&(0,l.tZ)(ve.Z,{isWorkspace:!0}),(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(4),m.l0.align.center],children:[(0,l.tZ)(L,{repl:W,refetch:A}),(0,l.tZ)(U.Z,{repl:W,canEdit:W.currentUserPermissions.containerWrite})]})]}),(0,l.tZ)(m.G7,{innerRef:null===R||void 0===R?void 0:R.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===R||void 0===R?void 0:R.isActive)&&R.next()},css:[m.l0.position.absolute,m.l0.height(42),{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}],children:(0,l.tZ)(z.Z,{runner:b,disableTooltip:null===R||void 0===R?void 0:R.isActive})}),(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(8),m.l0.align.center,m.l0.justify.end],children:[h&&h.length>0?(0,l.tZ)(B.Z,{users:h,onAvatarClick:M}):null,(null===V||void 0===V?void 0:V.isExplorer)?(0,l.tZ)(he.Z,{}):null,ne?(0,l.tZ)(m.G7,{css:[m.l0.pr(8)],children:(0,l.tZ)(ie.Z,{cta:ne,replId:v,isGroupProject:Boolean(null===W||void 0===W||null===(o=W.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){G({pane:{type:"autograder"}})}})}):null,re?(0,l.tZ)(m.G7,{innerRef:$,children:(0,l.tZ)(j.Z,{showPopover:W.currentUserPermissions.inviteGuests,children:(0,l.tZ)(m.zx,{onClick:function(){(0,x.j)(x.U3.INVITE_MODAL_OPENED,{language:W.lang.id,replId:W.id,source:"replEnvironment"}),P(!0)},iconLeft:(0,l.tZ)(I.Z,{}),text:"Invite"})})}):null,(0,l.tZ)(m.hU,{size:28,onClick:function(){_()},tooltipDelay:500,alt:"Search & run commands",tooltipPlacement:"bottom-end",children:(0,l.tZ)(oe.Z,{})})]}),(0,l.tZ)(H.Z,{isOpen:S,onRequestClose:function(){return P(!1)},children:(0,l.tZ)(m.G7,{innerRef:q,children:J?(0,l.tZ)(K.Z,{replId:v}):(0,l.tZ)(X.Z,{replId:v})})})]}):(0,l.tZ)(m.G7,{tag:"header",css:[m.l0.backgroundColor.backgroundDefault,m.l0.height(60)]})}var ye=(0,c.memo)(be),xe=n(92876),we=n(99027),Ee=n(91201),ke=n(53800),Ie=n(99336),Ce=n(11731),De=n(25108);var Se=n(77365),Pe=n(15682),Re=n(40705),Ne=n(47979),Te=n(24888),Oe=n(62944),Ae=n(87514),Ge=n(83074),Me=n(89364),_e=n(82893),Le=n(1557),ze=n(42844),Ue=n(88075),Be=n(54774),He=n(86514),Ke=n(30170),je=n(6951),Xe=n(44781),Fe=n(19526),We=n(30019),Ve=n(49108),Ye=n(81255);function $e(e){var t=e.isVisible,n=e.children,i=e.onDismiss,o=(0,F.Z)(),s=(0,C.Z)().fs,u=(0,Ve.Z)("workspace","enveditorintro"),d=u.shouldDisplay,p=u.register,f=u.dismiss;return c.useEffect((function(){var e=!1,n=function(){var n=(0,r.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.readFile(".env");case 2:if(r=n.sent,!e){n.next=5;break}return n.abrupt("return");case 5:if(!r.error){n.next=7;break}return n.abrupt("return");case 7:t&&p();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!0}}),[o,s,t,p]),(0,l.tZ)("div",{css:[Ye.l0.display.flex,Ye.l0.width("100%"),Ye.l0.height("100%"),Ye.l0.center],children:(0,l.BX)(R.Z,{isOpen:d,placement:"right",showArrow:!0,children:[c.cloneElement(n,{tooltipHidden:d}),(0,l.BX)(Fe.gC,{spacing:1,align:"stretch",children:[(0,l.tZ)(We.Z,{level:4,children:"Looking for your .env file?"}),(0,l.tZ)(Xe.Z,{size:"small",children:"Your environment moved here, click on the icon to the left to check it out and edit your environment."}),(0,l.tZ)(Fe.Ug,{justify:"end",children:(0,l.tZ)(je.Z,{color:"primary",onClick:function(e){e.stopPropagation(),f(),i()},children:"dismiss"})})]})]})})}var qe=n(55897),Qe=n(64824),Je=n(12771),et=n(91885);function tt(e,t){var n=t.leftPath,r=t.percent,i=t.snapPercent,o=void 0===i?0:i,a=(0,Je.K)(e,n);if(!a||!(0,et.r)(a))throw new Error("Expected leftNode");var l=(0,et.I)(n),c=(0,Je.K)(e,l);if("split"!==(null===c||void 0===c?void 0:c.type))throw new Error("Expected splitNode");var s=c.children.indexOf(a);if(-1===s)throw new Error("Expected leftNodeIndex");var u=s+1,d=c.children[u];if(!d)throw new Error("Expected rightNode");if(r<=o){if(a.percent=0,r<0&&s>0)for(var p=Math.abs(r),f=s-1;p>0;){var v=c.children[f];if(v.percent>p){v.percent-=p;break}if(p-=v.percent,v.percent=0,0===f)break;f--}var h=c.children.reduce((function(e,t){return t===d?e:e+t.percent}),0);d.percent=100-h}else{var g=a.percent+d.percent,m=c.children.slice(s).reduce((function(e,t){return e+t.percent}),0);if(r>g-o){if(a.percent=Math.min(m,Math.max(g,r)),d.percent=0,r>g&&u<c.children.length-1)for(var Z=r-g,b=u+1;Z>0;){var y=c.children[b];if(y.percent>Z){y.percent-=Z;break}if(Z-=y.percent,y.percent=0,b===c.children.length-1)break;b++}}else{var x=a.percent-r;d.percent=d.percent+x,a.percent=r}}}var nt=(0,s.cn)(null,(function(e,t,n){var r=e(q.g4),i=(0,W.ZP)(r,(function(e){tt(e,{leftPath:n.leftPath,percent:n.percent})}));t(ee.iH,i)}));var rt=n(35642);function it(e){var t,n,r=e.isVisible,i=e.children,o=e.onDismiss,a=(0,F.Z)(),s=(0,g.CHr)({variables:{replId:a}}),u=s.data,d=s.loading,p="io-tests-popover-dismissed-".concat(a),f=rt.Z.get(p,"boolean");if(!u||d)return null;var v="Repl"===(null===u||void 0===u||null===(t=u.repl)||void 0===t?void 0:t.__typename)?u.repl:null;if(!v)return null;var h=v.isProjectFork,m=v.ioTests,Z=v.owner,b=(null===(n=v.unitTests)||void 0===n?void 0:n.tests)?v.unitTests.tests:[],y="Team"===(null===Z||void 0===Z?void 0:Z.__typename)&&(null===Z||void 0===Z?void 0:Z.isAdmin),x=m.length>0||b.length>0,w=!y&&h&&!f&&x&&r;return(0,l.tZ)("div",{css:[Ye.l0.display.flex,Ye.l0.width("100%"),Ye.l0.height("100%"),Ye.l0.center],children:(0,l.BX)(R.Z,{isOpen:w,placement:"right",showArrow:!0,borderColor:"var(--accent-purple-default)",children:[c.cloneElement(i,{tooltipHidden:w}),(0,l.BX)(Fe.gC,{spacing:1,align:"stretch",children:[m.length>0?(0,l.BX)(Xe.Z,{size:"small",children:["This project has ",(0,l.tZ)("strong",{children:m.length})," input/output"," ",m.length>1?"tests":"test","."]}):(0,l.BX)(Xe.Z,{size:"small",children:["This project has ",(0,l.tZ)("strong",{children:b.length})," unit"," ",b.length>1?"tests":"test","."]}),(0,l.tZ)(Xe.Z,{size:"small",children:"Run tests to check your work!"}),(0,l.tZ)(Fe.Ug,{justify:"end",children:(0,l.tZ)(je.Z,{onClick:function(e){e.stopPropagation(),rt.Z.set(p,!0),o()},children:"dismiss"})})]})]})})}var ot=n(25497),at=n(69128);function lt(){var e,t=(0,F.Z)(),n=(0,g.iw1)({variables:{replId:t}}).data,r="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;return r?{repl:r,currentUser:(null===n||void 0===n?void 0:n.currentUser)||null}:{repl:null,currentUser:null}}function ct(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=null===e||void 0===e?void 0:e.lang.hasDAP,i=function(){var e=(0,C.Z)().dotReplit,t=(0,c.useState)(!1),n=t[0],r=t[1];return(0,c.useEffect)((function(){return e.watch((function(e){var t,n;e.error?e.error===ot.Yt.NotFound&&r(!1):r(Boolean(null===e||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.debugger)||void 0===n?void 0:n.support))}))})),n}();(0,c.useEffect)((function(){r||i?t({type:"debugger",icon:(0,l.tZ)(Me.Z,{}),tooltip:"Debugger"}):n("debugger")}),[r,i,t,n])}var st=!1;function ut(){var e=(0,s.Dv)(Ke.nv),t=(0,s.Dv)(Ke.sz),n=(0,s.b9)(Ke.zN);return function(){var e=(0,s.b9)(Ke.ye),t=(0,s.b9)(Ke.jw),n=(0,qe.e)().isTutorial,r=(0,s.b9)(Ke.zN),i=(0,s.b9)(nt);(0,c.useEffect)((function(){if(n)return e({type:"tutorial",icon:(0,l.tZ)(Ae.Z,{}),tooltip:"Tutorial"}),r("tutorial"),void i({leftPath:["tiling",0],percent:25});t("tutorial")}),[n,t,e,r,i])}(),function(){var e=(0,s.b9)(Ke.ye),t=(0,s.b9)(Ke.jw),n=(0,Ne.oj)(),r=(0,qe.e)().isTutorial,i=(0,s.b9)(Ke.zN);(0,c.useEffect)((function(){if(n)return e({type:"kaboombar",icon:(0,l.tZ)(Be.Z,{}),tooltip:"Kaboom"}),void(r||i("kaboombar"));t("kaboombar")}),[n,r,t,e,i])}(),function(){var e,t=(0,s.b9)(Ke.ye);(0,c.useEffect)((function(){t({type:"filetree",icon:(0,l.tZ)(Te.Z,{}),tooltip:"Files"})}),[t]);var n=(0,s.b9)(Ke.Wp),r=null===(e=(0,de.e)(pe.H.Sidepane))||void 0===e?void 0:e.isActive;(0,c.useEffect)((function(){if(r){var e=setInterval((function(){n("filetree")}),200);return function(){clearInterval(e)}}}),[r,n])}(),function(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=Boolean(null===e||void 0===e?void 0:e.lang.supportsGit);(0,c.useEffect)((function(){r?t({type:"git",icon:(0,l.tZ)(Ge.Z,{}),tooltip:"Version control"}):n("git")}),[r,n,t])}(),function(){var e=(0,s.b9)(Ke.ye),t=(0,s.b9)(Ke.jw),n=(0,Re.x)();(0,c.useEffect)((function(){(null===n||void 0===n?void 0:n.packageSearch)?e({type:"packager",tooltip:"Packager",icon:(0,l.tZ)(Oe.Z,{})}):t("packager")}),[n,e,t])}(),function(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=e&&!(null===e||void 0===e?void 0:e.lang.key.startsWith("html"));(0,c.useEffect)((function(){r?t({type:"envEditor",icon:(0,l.tZ)(_e.Z,{}),IconWrapper:$e,tooltip:"Secrets (Environment variables)"}):n("envEditor")}),[r,t,n])}(),ct(),function(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=e&&!(null===e||void 0===e?void 0:e.lang.key.startsWith("html"));(0,c.useEffect)((function(){r?t({type:"database",icon:(0,l.tZ)(Le.Z,{}),tooltip:"Database"}):n("database")}),[r,t,n])}(),function(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=(null===e||void 0===e?void 0:e.isProject)||(null===e||void 0===e?void 0:e.isProjectFork);(0,c.useEffect)((function(){r?t({type:"autograder",icon:(0,l.tZ)(Ue.Z,{}),tooltip:"Tests",IconWrapper:it}):n("autograder")}),[r,t,n])}(),function(){var e=lt().repl,t=(0,s.b9)(Ke.ye),n=(0,s.b9)(Ke.jw),r=(null===e||void 0===e?void 0:e.isProject)||(null===e||void 0===e?void 0:e.isProjectFork),i=(0,at.Z)().language,o=!r&&null!==i;(0,c.useEffect)((function(){o?t({type:"unitTests",icon:(0,l.tZ)(Ue.Z,{}),tooltip:"Unit tests"}):n("unitTests")}),[o,t,n])}(),function(){var e,t,n=lt().repl,r=(0,s.b9)(Ke.ye),i=(0,s.b9)(Ke.jw),o=(null===n||void 0===n?void 0:n.isProjectFork)&&!(null===n||void 0===n?void 0:n.isModelSolution)&&"Team"===(null===n||void 0===n||null===(e=n.owner)||void 0===e?void 0:e.__typename)&&(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.isAdmin);(0,c.useEffect)((function(){o?r({type:"education",icon:(0,l.tZ)(Ae.Z,{}),tooltip:"Teams for Education"}):i("education")}),[o,r,i])}(),function(){var e=(0,s.b9)(Ke.ye);(0,c.useEffect)((function(){e({type:"preferences",icon:(0,l.tZ)(ze.Z,{}),tooltip:"Settings"})}),[e])}(),function(){var e=(0,u.useRouter)(),t=lt().currentUser,n=(0,s.b9)(Ke.ye),r=(0,s.b9)(Ke.jw),i=(null===t||void 0===t?void 0:t.isAdmin)||Boolean(e.query.debug)||st;(0,c.useEffect)((function(){window.debug=function(){st=!0,n({type:"adminPanel",icon:(0,l.tZ)(He.Z,{}),tooltip:"Debug"})}}),[n]),(0,c.useEffect)((function(){i?n({type:"adminPanel",icon:(0,l.tZ)(He.Z,{}),tooltip:"Debug"}):r("education")}),[i,n,r])}(),{items:e,activeItem:t,onDockItemClick:n}}var dt=n(31823),pt=n(75301);function ft(e){var t=e.item,n=e.isActive,r=e.onClick,o=(0,i.Z)(c.useState(!0),2),a=o[0],s=o[1],u=c.useRef(null),d=(0,i.Z)((0,Pe.XZ)(u,!1),4),p=d[0],f=d[1],v=d[2],h=d[3];(0,Pe.Ym)(f,u);var g=(0,l.tZ)(m.hU,{innerRef:u,role:"tab",tabIndex:p,tooltipPlacement:"right","aria-selected":n,size:40,alt:t.tooltip,css:[n?[m.l0.backgroundColor.accentPrimaryDimmest,m.l0.color.accentPrimaryStrongest]:m.l0.color.foregroundDimmest,{"&:hover":n?[m.l0.backgroundColor.accentPrimaryDimmest,m.l0.color.accentPrimaryStrongest]:m.l0.color.accentPrimaryStrongest}],onKeyDown:v,onClick:function(e){h(),s(!1),r(e)},children:t.icon},t.type);return t.IconWrapper?(0,l.tZ)(t.IconWrapper,{isVisible:a,onDismiss:function(){return s(!1)},children:g}):g}var vt={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},ht={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"};function gt(){var e=ut(),t=e.items,n=e.activeItem,r=e.onDockItemClick,i=(0,s.b9)(Ke.Wp),o=(0,g.QHX)().data,a=null===o||void 0===o?void 0:o.currentUser;(0,ue.x)(vt,{run:function(){i("preferences")}}),(0,le.Y)({match:se.pl,data:{type:"action",icon:(0,l.tZ)(ze.Z,{}),label:"Settings",description:"Manage editor settings",keyboardShortcut:vt,run:function(){i("preferences")}}});var c=t.some((function(e){return"git"===e.type}));return(0,ue.x)(ht,{run:function(){i("git")},enabled:c}),(0,le.Y)({match:se.pl,data:{icon:(0,l.tZ)(pt.Z,{}),label:"Version control",description:"Open version control sidebar",type:"action",keyboardShortcut:ht,run:function(){i("git")}}},{enabled:c}),(0,l.BX)(m.Tg,{elevated:!0,css:[m.l0.borderRadius(4,0,0,4),m.l0.colWithGap(4),m.l0.flex.growAndShrink(1),m.l0.justify.spaceBetween,m.l0.align.center,m.l0.pb(8),m.l0.position.relative,{borderRight:"1px solid "+m.TV.backgroundHigher}],children:[(0,l.tZ)(Pe.uP,{options:{direction:"vertical"},children:(0,l.BX)(m.G7,{css:[m.l0.p(4),m.l0.overflowY("auto"),m.l0.flex.growAndShrink(1),m.l0.colWithGap(4),m.l0.align.start],role:"tablist","aria-orientation":"vertical","aria-label":"Dock",children:[t.map((function(e){var t=e.type===n;return(0,l.tZ)(m.G7,{children:(0,l.tZ)(ft,{item:e,isActive:t,onClick:function(){return r(e.type)}})},e.type)})),0===t.length?(0,l.tZ)(m.hU,{"aria-disabled":!0,alt:"",size:40,css:{opacity:0},children:(0,l.tZ)(Te.Z,{})}):null]})}),a?(0,l.tZ)(dt.Z,{css:[m.l0.center,m.l0.shadow(1),m.l0.cursor.pointer,m.l0.color.foregroundDimmer,m.l0.backgroundColor.backgroundDefault,{border:"1px solid ".concat(m.TV.backgroundHighest),userSelect:"none",transition:"0.1s",borderRadius:"100%"}],currentUser:a}):null,(0,l.tZ)(mt,{direction:"top"}),(0,l.tZ)(mt,{direction:"bottom"})]})}function mt(e){return(0,l.tZ)(m.Tg,{css:[m.l0.position.absolute,m.l0.right(-5),m.l0.width(4),m.l0.height(4),"top"===e.direction?m.l0.top(0):m.l0.bottom(0),{pointerEvents:"none"}]})}var Zt=(0,c.memo)(gt),bt=n(60523),yt=n(2858),xt=n(98511);function wt(e){var t=e.children,n=c.useRef({fileMap:new Map});return(0,l.tZ)(bt.Z.Provider,{value:n,children:t})}function Et(e){var t=e.ui,n=e.services,r=e.replId,i=e.children;return(0,l.tZ)(ke.kz,{value:t,children:(0,l.tZ)(wt,{children:(0,l.tZ)(yt.Z.Provider,{value:n,children:(0,l.tZ)(xt.Z.Provider,{value:r,children:i})})})})}var kt=n(51438),It=n(28668),Ct=n(25171),Dt=n(14924),St=n(70917),Pt=n(93160),Rt=n(69346),Nt=n(70504),Tt=n(13482),Ot=(0,Rt.K)("div"),At=["n","s","e","w","ne","nw","se","sw"];function Gt(e){var t=e.resizable&&e.onResizeControlPointerDown?At.map((function(t){return(0,l.tZ)(Mt,{size:8,side:t,onPointerDown:function(n){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(n,t)}},t)})):null,n=e.rect,r=e.floating?2:void 0;(e.isBeingDragged||e.active)&&(r=(r||2)+1);var i=(0,St.iv)([Ye.l0.position.absolute,Ye.l0.width(n.width),Ye.l0.height(n.height),e.hidden&&{visibility:"hidden"},{transform:"translate(".concat(Math.round(n.x),"px, ").concat(Math.round(n.y),"px)"),transition:e.animate?"transform 140ms, width 140ms, height 140ms":void 0,transitionTimingFunction:"ease-out",zIndex:r},!Tt.g&&{"& .cm-editor > .cm-tooltip":{width:"max-content",transform:"translate(".concat(-e.viewportInset.x,"px, ").concat(-e.viewportInset.y,"px)")},"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(-e.viewportInset.y,"px)")},".cm-custom-context-menu":{transform:"translate(".concat(-e.viewportInset.x,"px, ").concat(-e.viewportInset.y,"px)")}}]),o=(0,St.iv)([{borderRadius:4}]),a=(0,St.iv)([{transform:"scale(".concat(e.scaleDown?.8:1,")"),transformOrigin:"center top"},e.animate&&{transition:"transform 140ms ease-out",transitionDelay:e.scaleDown?"100ms":"0ms"}]);return(0,l.tZ)(Rt.Z,{css:[i,(0,Nt.PH)({active:e.active})],children:(0,l.BX)(Pt.Z,{onClick:e.onClick,onContextMenu:e.onClick,elevated:!0,css:[Ye.l0.coverContainer,o,a],className:e.className,children:[(0,l.tZ)(Rt.Z,{css:[Ye.l0.coverContainer],children:e.children}),t]})})}function Mt(e){var t=e.side,n=e.size,r=e.onPointerDown;if("n"===t||"s"===t)return(0,l.tZ)(Ot,{onPointerDown:r,css:(0,Dt.Z)({cursor:"ns-resize",width:"calc(100% - ".concat(2*n,"px)"),height:n,position:"absolute",left:"50%",transform:"translate(-50%, ".concat("n"===t?2-n:n-2,"px)")},"n"===t?"top":"bottom",0)});if("e"===t||"w"===t)return(0,l.tZ)(Ot,{onPointerDown:r,css:(0,Dt.Z)({cursor:"ew-resize",height:"calc(100% - ".concat(2*n,"px)"),width:n,position:"absolute",top:"50%",transform:"translate(".concat("e"===t?n-2:2-n,"px, -50%)")},"e"===t?"right":"left",0)});var i,o="nw"===t||"se"===t?"nwse-resize":"nesw-resize";return(0,l.tZ)(Ot,{onPointerDown:r,css:(i={cursor:o,height:n,width:n,position:"absolute"},(0,Dt.Z)(i,t.includes("n")?"top":"bottom",0),(0,Dt.Z)(i,t.includes("e")?"right":"left",0),i)})}var _t=n(78648),Lt=(0,s.cn)(null),zt=(0,s.cn)(null,(function(e,t,n){var r=e(q.g4);if("end"===n.type)return t(Lt,null),void t(ee.iH,r);if("update"!==n.type){var i=e(Q.Eh).find((function(e){return e.paneId===n.paneId}));if(!i)throw new Error("Expected pane");t(q.W1,{paneId:n.paneId}),t(Lt,{paneId:n.paneId,side:n.side,rectStart:i.rect})}else{var o=e(Lt);if(!o)throw new Error("Expected floatingResizeState");var a=(0,_t.XR)(o.rectStart,{delta:n.moveDelta,side:o.side}),l=o.paneId,c=(0,W.ZP)(r,(function(e){var t=e.floating.find((function(e){return e.panes.includes(l)}));if(!t)throw new Error("Expected floating");var n=t.rect;n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height}));t(ee.iH,c)}})),Ut=n(31826);function Bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;e.stopPropagation(),e.preventDefault();var r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};t.start&&t.start({mouse:o,shiftKey:e.shiftKey});var l=(0,Ut.Z)((function(e){e.preventDefault(),e.stopPropagation();var n={x:e.pageX,y:e.pageY};a={x:n.x-o.x,y:n.y-o.y},t.move({delta:a,shiftKey:e.shiftKey,mouse:n})}),n),c=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c),document.removeEventListener("touchcancel",c),t.end&&t.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",c),document.addEventListener("touchcancel",c)}function Ht(e){return(0,l.tZ)(Rt.Z,{css:[Ye.l0.width("100%"),Ye.l0.flex.growAndShrink(1),{overflow:"auto"},e.disableInteractions&&{pointerEvents:"none",userSelect:"none"}],children:e.children})}function Kt(e){var t=e.type,n=e.isHTML,r=e.flagLayoutSplits;return!function(e){return Ke.Dn.includes(e)}(t)&&(!!r||(!("webview"!==t||!n)||!["webview","vnc","config"].includes(t)))}var jt=(0,s.cn)(null),Xt=(0,s.cn)(null,(function(e,t,n){if("end"!==n.type)if("update"!==n.type){var r=e(q.g4),i=n.stacked?window.innerHeight:window.innerWidth,o=(0,Je.K)(r,n.leftPath);if(!o||!(0,et.r)(o))throw new Error("Expected left node");var a=(0,et.I)(n.leftPath),l=o.percent,c=function(e,t){var n=t.splitPath,r=(0,Je.K)(e,n);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,o=(0,et.I)(n);o.length;){var a=(0,Je.K)(e,o);if(!a)break;o=(0,et.I)(o),"split"===a.type&&a.stacked===r.stacked&&(i*=a.percent/100)}return i}(r,{splitPath:a}),s=e(Q.CK),u=ee.pc/i*100,d=(0,Je.K)(r,a);if("split"!==(null===d||void 0===d?void 0:d.type))throw new Error("Expected parent split node");var p=d.children.length,f=e(Q.M0),v=n.stacked?ee.SG*(p-1)+f*p:ee.SG*(p-1),h=((n.stacked?s.height:s.width)-v)*(c/100);t(jt,{stacked:n.stacked,leftPath:n.leftPath,startPercent:l,resizeDistance:h,snapPercent:u,initialLayout:r})}else{var g=e(jt);if(!g)throw new Error("Expected tilingResize");var m=g.stacked,Z=g.leftPath,b=g.startPercent,y=g.resizeDistance,x=g.initialLayout,w=g.snapPercent,E=b+(m?n.moveDelta.y:n.moveDelta.x)/y*100,k=(0,W.ZP)(x,(function(e){tt(e,{leftPath:Z,percent:E,snapPercent:w})}));t(ee.iH,k)}else t(jt,null)})),Ft=(0,s.cn)((function(e){return null!==e(Lt)||null!==e(jt)})),Wt=n(21131),Vt=(0,s.cn)(!1),Yt=(0,s.cn)((function(e){if(!e(Vt))return null;var t=e(Q.Eh).find((function(t){return e(t.isActiveAtom)}));return(null===t||void 0===t?void 0:t.paneId)||null})),$t=(0,s.cn)(null,(function(e,t,n){t(Vt,!0),t(q.W1,{paneId:n})})),qt=(0,s.cn)(null,(function(e,t){t(Vt,!1)})),Qt=(0,s.cn)((function(e){var t=e(Q.CK);return{x:-t.x,y:-t.y,width:t.width+t.x+8,height:t.height+t.y+8}})),Jt=(0,s.cn)((function(e){var t=e(Q.M0),n=e(Qt);return{x:n.x,y:n.y,width:n.width,height:t}})),en=(0,s.cn)((function(e){var t=e(Q.M0),n=e(Qt);return{x:n.x,y:n.y+t,width:n.width,height:n.height-t}}));function tn(e){var t=(0,Wt.Z)((function(){return(0,s.cn)((function(t){return e===t(Yt)?t(Jt):null}))}),[e]);return(0,s.Dv)(t)}var nn=n(63035),rn=n(47875),on=n(25108),an=function(e){(0,It.Z)(n,e);var t=(0,Ct.Z)(n);function n(){var e;return(0,kt.Z)(this,n),(e=t.apply(this,arguments)).state={error:null,errorInfo:null},e}var r=n.prototype;return r.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t}),this.props.handleError(e,t),on.error(e)},r.render=function(){return this.state.error?(0,l.tZ)(m.G7,{css:[m.l0.font.code,m.l0.p(16),{whiteSpace:"pre",overflow:"hidden",color:"white"},m.l0.backgroundColor.blurpleDefault,m.l0.height("100%")],children:(0,l.tZ)(m.G7,{children:this.state.error.stack})}):this.props.children},n}(c.Component);function ln(e){var t=e.paneId,n=(0,s.Dv)(Q.CK),r=(0,s.Dv)(Ft),o=(0,s.Dv)((0,Q.z)(t)),a=(0,s.Dv)(o.data),c=function(e){var t=(0,Wt.Z)((function(){return(0,s.cn)((function(t){return e===t(Yt)?t(en):null}))}),[e]);return(0,s.Dv)(t)}(t),u=(0,s.Dv)(o.isActiveAtom),d=(0,s.Dv)(o.isHighlightedAtom),p=(0,i.Z)((0,s.KO)(q.tt),2),f=(p[0],p[1]),v=(0,s.Dv)(nn.gM),h=(0,s.b9)(zt),g=(0,s.b9)(q.W1),m="floating"===o.type&&!o.isDialog,Z=Boolean(o.dropBehavior),b=Z||Boolean(c),y=(0,rn.Q)("flagLayoutSplits"),x=!Kt({type:a.type,isHTML:v,flagLayoutSplits:y}),w=(0,s.Dv)(Q.M0),E=c||{x:o.rect.x,y:o.rect.y-(x?w:0),width:o.rect.width,height:o.rect.height+(x?w:0)},k={x:n.x+E.x,y:n.y+E.y};return(0,l.BX)(l.HY,{children:[o.isDialog?(0,l.tZ)(un,{}):null,(0,l.tZ)(Gt,{hidden:o.isHidden,viewportInset:k,active:u,highlight:d,rect:E,animate:!1,isBeingDragged:Z,floating:b,scaleDown:"tile"===o.dropBehavior,resizable:m,onClick:function(){g({paneId:t})},onResizeControlPointerDown:function(e,n){Bt(e,{start:function(){h({type:"start",paneId:t,side:n})},move:function(e){var t=e.delta;h({type:"update",moveDelta:t})},end:function(){h({type:"end"})}})},children:(0,l.tZ)(an,{handleError:function(e,t){var n=(0,Ie.ZP)(e,{extras:{errInfo:t},tags:{layoutv2:"true",bsod:"true",paneType:o.type}});f(n)},children:(0,l.tZ)(Ht,{disableInteractions:r,children:(0,l.tZ)(sn,{paneId:t,dataAtom:o.data,isHidden:o.isHidden})})},t)})]})}function cn(e){var t=e.paneId,n=e.isHidden,r=e.dataAtom,i=(0,s.Dv)(r),o=(0,ke.Se)().Content,a=(0,s.b9)(J.zx);return(0,l.tZ)(o,{pane:i,options:{paneId:t,isHidden:n,openPane:function(e){a({fromPaneId:t,data:e})}}})}var sn=(0,c.memo)(cn);function un(){var e=(0,s.b9)(re);return(0,l.tZ)(m.G7,{onClick:function(){return e()},css:[m.l0.coverContainer,m.l0.position.fixed,m.l0.backgroundColor.backgroundOverlay]})}var dn=(0,c.memo)(ln);function pn(e,t,n){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(n){var i=2/3,o=Math.max(e.width,r*i),a=Math.max(e.height,r*i),l="left"===n?1:-1,c=t?0:l*(o-e.width)/2,s=t?l*(a-e.height)/2:0;return{width:t?e.width:o,height:t?a:e.height,x:t?e.x:e.x-(o-e.width)/2+c,y:t?e.y-(a-e.height)/2+s:e.y}}var u=Math.max(e.width,r),d=Math.max(e.height,r);return{width:t?e.width:u,height:t?d:e.height,x:t?e.x:e.x-(u-e.width)/2,y:t?e.y-(d-e.height)/2:e.y}}var fn="--grip-color",vn="var(".concat(fn,")");function hn(e){var t,n=e.rect,r=e.onPointerDown,i=e.onDoubleClick,o=e.stacked,a=e.snapped,c=pn(n,o,a);return(0,l.tZ)(Rt.Z,{className:"tiling-handle",onPointerDown:r,onDoubleClick:i,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},css:[Ye.l0.width(c.width),Ye.l0.height(c.height),Ye.l0.position.absolute,Ye.l0.center,{zIndex:1},(t={transform:"translate(".concat(c.x,"px, ").concat(c.y,"px)"),borderRadius:Ye.TV.borderRadius8,minWidth:8,minHeight:8,cursor:o?"row-resize":"col-resize"},(0,Dt.Z)(t,fn,Ye.TV.outlineDimmest),(0,Dt.Z)(t,":active .grip-line, :hover .grip-line",(0,Dt.Z)({},fn,Ye.TV.foregroundDefault)),t)],children:(0,l.tZ)(Rt.Z,{className:"grip-line",css:[{transitionDuration:"140ms"},"left"===a&&{transform:o?"translate(0px, -2px) rotate(135deg)":"translate(-2px, 0px) rotate(45deg)"},"right"===a&&{transform:o?"translate(0px, 2px) rotate(-45deg)":"translate(2px, 0px) rotate(-135deg)"},a&&[Ye.l0.width(6),Ye.l0.height(6),{borderRight:"1px solid",borderTop:"1px solid",borderColor:vn,transition:"border-color"}],!a&&[{width:o?25:2,height:o?2:25,backgroundColor:vn,transition:"background-color"},Ye.l0.borderRadius(4)]]})})}function gn(e){var t=e.handleId,n=(0,s.Dv)((0,Q.vv)(t)),r=(0,s.b9)(Xt),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,c.useRef)(e),n=(0,s.b9)(nt),r=(0,Qe.lV)((0,c.useCallback)((function(e){return e(q.g4)}),[]));return(0,c.useCallback)((function(i){i.snapped?n({leftPath:i.leftPath,percent:t.current}):Promise.resolve(r()).then((function(r){var o=(0,Je.K)(r,i.leftPath);if(!o||!(0,et.r)(o))throw new Error("Expected split or paneGroup");t.current=o.percent,n({leftPath:i.leftPath,percent:e})}))}),[e,n,r])}();return(0,l.tZ)(hn,{snapped:n.snapped,rect:n.rect,stacked:n.stacked,onDoubleClick:function(){i(n)},onPointerDown:function(e){Bt(e,{start:function(){r({type:"start",leftPath:n.leftPath,stacked:n.stacked})},move:function(e){var t=e.delta;r({type:"update",moveDelta:t})},end:function(){r({type:"end"})}})}})}var mn=(0,c.memo)(gn),Zn=n(29815),bn=n(62991),yn=n.n(bn),xn=n(51739),wn=n(7182),En=n(65456),kn=n(54992),In=n(92002),Cn=n(1861),Dn=n(99904),Sn=n(96189),Pn=n(43421),Rn=n(23083),Nn=n(1855);var Tn=(0,m.KD)("div");function On(e){var t=e.paneId,n=e.isActive,r=e.onClick,o=e.onClose,a=(0,Wt.Z)((function(){return(0,s.cn)((function(e){return e(e((0,Q.z)(t)).data)}))}),[t]),u=(0,s.Dv)(a),d=(0,ke.Se)().getTitle(u),p=(0,c.useRef)(null),f=(0,i.Z)((0,Pn.c)({type:wn.z.Pane,item:function(){var e,n=(null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:wn.z.Pane,paneId:t,width:n}},collect:function(e){return{isDragging:e.isDragging()}}}),2),v=f[0].isDragging,h=f[1],g=(0,s.b9)(Ce.c);return(0,c.useEffect)((function(){return g(v)}),[g,v]),(0,l.tZ)(Tn,{css:v?[m.l0.width(0),m.l0.visibility.hidden]:[m.l0.px(2)],onMouseDown:function(e){1===e.button&&o()},children:(0,kn.KM)(u)?(0,l.tZ)(Rn.gn,{innerRef:(0,Nn.l)(h,p),filePath:d,isActive:n,onClick:r,onClose:o}):(0,l.tZ)(Rn.$k,{innerRef:(0,Nn.l)(h,p),title:d,isActive:n,onClick:r,onClose:o})})}var An=n(48551),Gn=n(64184),Mn=n(18757),_n=n(25386),Ln=n(9068),zn=n(34955),Un=n(98705),Bn=n(16352);var Hn=n(64879),Kn=n(86601);function jn(e){var t=e.headerId,n=e.activeFile,r=e.activePaneId,i=(0,F.Z)(),o=(0,g.G7f)({variables:{replId:i}}).data,a="Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl.language:"",u=(0,s.Dv)(Ce.bg),d=(0,s.b9)(Ce.ao),p=(0,s.b9)(Ce.Ky),f=n&&(0,An.gK)(n),v=function(e){var t=e.headerId,n=(0,Kn.Z)(),r=(0,s.Dv)((0,Q.Xs)(t)),i=(0,s.Dv)(nn.gr);return n&&yn()(r.path,i)?n:null}({headerId:t}),h=function(e){var t=e.activePaneId,n=(0,Hn.Z)(),r=(0,s.Dv)((0,Q.z)(t));return(0,s.Dv)(r.isActiveAtom)&&n.length>0?n:null}({activePaneId:r}),Z=function(){var e=(0,Un.Z)((0,s.Dv)(Bn.$));return(0,c.useCallback)((function(){setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}),0)}),[e])}(),b=null;return v?b=(0,l.tZ)(zn.Z,{id:v.id,username:v.username,color:v.color}):f&&n?b=u?(0,l.tZ)(m.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,l.tZ)(Gn.Z,{}),text:"Close preview",onClick:function(){d({type:"markdown"}),Z()}}):(0,l.tZ)(m.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,l.tZ)(Mn.Z,{}),text:"Open preview",onClick:function(){n&&(p({type:"markdown",data:{path:n}}),Z())}}):n&&(b=(0,l.tZ)(_n.Z,{filePath:n,replLanguage:a})),null!==b||h?(0,l.BX)(m.G7,{css:[m.l0.px(4),m.l0.rowWithGap(8)],children:[h&&n?(0,l.tZ)(Ln.Z,{}):null,b]}):null}var Xn=n(59369),Fn=n(67629),Wn=n(89295),Vn=n(94860),Yn=n(73148),$n=n(87534),qn=n(99932),Qn=n(90849),Jn=n(80175),er=(0,s.cn)((function(e){var t,n=e(q.g4),r=e(Ke.Ix);return"split"===(null===(t=n.tiling)||void 0===t?void 0:t.type)&&n.tiling.children.length>(r?2:1)}));var tr=(0,s.cn)(null,(function(e,t,n){var r=e(q.g4),i=(0,Je.R)(r,n),o=(0,W.ZP)(r,(function(e){(0,Jn.Z)(e,i.paneGroupPath)}));t(ee.iH,o)}));var nr=(0,s.cn)(null,(function(e,t,n){var r=e(q.g4),i=(0,Je.R)(r,n.paneId),o=Y()();t(e((0,Q.z)(o)).data,{type:"commands",data:{autoFocus:!1}});var a=(0,W.ZP)(r,(function(e){(0,$.mZ)(e,{isFloating:!1,placement:n.placement,relativeTo:i.paneGroupPath,panes:[o]})}));t(ee.iH,a)}));function rr(e){var t=e.paneId,n=(0,s.Dv)(er),r=(0,s.b9)(tr),i=(0,s.b9)(nr),o={maximizePane:(0,s.b9)($t),restoreMaximizedPane:(0,s.b9)(qt)},a=o.maximizePane,c=o.restoreMaximizedPane,u=tn(t);if(u)return(0,l.tZ)(m.hU,{onClick:function(){return c()},alt:u?"Restore":"Fullscreen",children:(0,l.tZ)(Vn.Z,{})});var d=[{label:"Split Left",icon:(0,l.tZ)($n.Z,{}),run:function(){return i({placement:"leftOf",paneId:t})}},{label:"Split Right",icon:(0,l.tZ)(qn.Z,{}),run:function(){return i({placement:"rightOf",paneId:t})}},{label:"Split Up",icon:(0,l.tZ)(Qn.Z,{}),run:function(){return i({placement:"above",paneId:t})}},{label:"Split Down",icon:(0,l.tZ)(Yn.Z,{}),run:function(){return i({placement:"below",paneId:t})}},{label:"Maximize",icon:(0,l.tZ)(Wn.Z,{}),run:function(){return a(t)}}];return n&&d.push({label:"Close",icon:(0,l.tZ)(Fn.Z,{}),run:function(){return r(t)}}),(0,l.tZ)(Xn.Z,{label:"Pane Actions",items:d,onItemClick:function(e){e.run()}})}function ir(e){var t=(0,Q.Xs)(e),n=(0,Wt.Z)((function(){return(0,s.cn)((function(e){var n=e(t);return e((0,Q.z)(n.panes[n.activeIndex])).paneId}))}),[t]);return(0,s.Dv)(n)}function or(e){var t=e.headerId,n=(0,s.b9)(Ce.Oe),r=(0,s.b9)(Ce.Et),o=(0,s.b9)(Ce.SG),a=(0,s.b9)(J.$r),u=(0,s.b9)(J.vN),d=(0,Dn.Z)(),p=(0,s.Dv)(Ce.c),f=(0,rn.Q)("flagLayoutSplits"),v=function(e){var t=(0,Q.Xs)(e),n=(0,s.Dv)((0,Wt.Z)((function(){return(0,s.cn)((function(e){return e(t).activeIndex}))}),[t])),r=(0,s.Dv)((0,Wt.Z)((function(){return(0,Qe.kv)(t,(function(e){return e.path}),yn())}),[t])),i=(0,s.Dv)((0,Wt.Z)((function(){return(0,Qe.kv)(t,(function(e){return e.panes}),yn())}),[t])),o=ir(e),a=(0,Wt.Z)((function(){return(0,s.cn)((function(e){var n=e(t),r=e((0,Q.z)(n.panes[n.activeIndex])),i=e(r.data);return(0,kn.KM)(i)?(0,kn.DQ)(i):null}))}),[t]);return{activeIndex:n,path:r,panes:i,activePaneId:o,activeFile:(0,s.Dv)(a)}}(t),h=v.activeIndex,g=v.path,Z=v.panes,b=v.activePaneId,y=v.activeFile,x=(0,i.Z)((0,xn.L)({accept:[En.Tv.File,wn.z.Pane],hover:function(e,t){var n=t.getSourceClientOffset();n&&C({item:e,panes:Z,sourceClientOffset:n.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var n=null!==(null===D||void 0===D?void 0:D.index)?null===D||void 0===D?void 0:D.index:Z.length;if(e.type!==En.Tv.File){var i=Z.includes(e.paneId)?Z.length-1:Z.length;o({paneId:e.paneId,index:void 0!==n&&n<i?n:i,toPaneGroupPath:g})}else r({paneGroupPath:g,index:n,pane:{type:"codeEditor",data:{path:e.path}}})}}}),2),w=x[0],E=x[1],k=function(e){var t=e.isOver,n=(0,c.useState)(null),r=n[0],i=n[1],o=(0,c.useRef)(null),a=(0,c.useRef)([]);(0,c.useEffect)((function(){if(!t)return a.current=[],void i(null);o.current&&(a.current=(0,Zn.Z)(o.current.children).map((function(e){var t=e.getBoundingClientRect();return t.x+t.width/2})))}),[t]);var l=(0,c.useCallback)((function(e){if(0!==a.current.length){var t=e.item.type===wn.z.Pane?e.item:null,n=(null===t||void 0===t?void 0:t.paneId)||null,r=n?e.panes.indexOf(n):-1,o=(null===t||void 0===t?void 0:t.width)||80,l=a.current.map((function(e,t){return-1===r||r<t?e:e+o/2})).findIndex((function(t){return t>e.sourceClientOffset})),c=-1===l,s=-1===r?e.panes.length:e.panes.length-1;i({index:c?s:Math.min(l,s),paneId:n,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:w.isOver}),I=k.tabContainerRef,C=k.hover,D=k.dropState,S=D?D.index:null;if((null===D||void 0===D?void 0:D.paneId)&&null!==S){var P=Z.indexOf(D.paneId);P>-1&&P<S&&S++}var R=D&&null!==S?(0,Zn.Z)(Z.slice(0,S)).concat([D],(0,Zn.Z)(Z.slice(S))):Z,N=(0,Sn.Z)((function(){var e,t,n=null===(e=d.ref)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.osInstance();null===n||void 0===n||n.update()}),{type:"throttle",wait:500});return(0,l.BX)(l.HY,{children:[(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(2),m.l0.flex.growAndShrink(1),m.l0.align.center,m.l0.height("100%")],innerRef:E,children:[(0,l.tZ)(m.G7,{innerRef:N,css:[m.l0.flex.row,m.l0.flex.shrink(1),m.l0.align.center,m.l0.height("100%")],children:(0,l.tZ)(Cn.E,{style:{height:"100%",width:"100%"},className:d.className,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave",visibility:p?"hidden":"auto"}},onWheel:d.handleWheel,ref:d.ref,children:(0,l.tZ)(m.G7,{innerRef:I,css:[m.l0.flex.row,m.l0.height("100%"),m.l0.py(4),m.l0.px(2)],children:R.map((function(e,t){var r=h===t;return"string"!==typeof e?(0,l.tZ)(m.G7,{css:[m.l0.px(2)],children:(0,l.tZ)(m.G7,{css:[m.l0.borderRadius(8),m.l0.width(e.width),m.l0.height(28),m.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(m.TV.accentPrimaryDefault)}]})},"preview"):(0,l.tZ)(On,{paneId:e,isActive:r,onClick:function(){n(e)},onClose:function(){1!==Z.length?a(e):u({paneId:e,data:{type:"commands",data:{autoFocus:!1}}})}},e)}))})})}),(0,l.tZ)(m.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupPath:g,activate:!0,pane:{type:"commands",data:{autoFocus:!0}}})},children:(0,l.tZ)(In.Z,{})})]}),(0,l.tZ)(jn,{headerId:t,activePaneId:b,activeFile:y}),f?(0,l.tZ)(m.G7,{css:m.l0.px(4),children:(0,l.tZ)(rr,{paneId:b})}):null]})}var ar=(0,c.memo)(or),lr=(0,St.iv)([m.l0.borderRadius(8,8,0,0),m.l0.position.absolute,m.l0.flex.row,m.l0.align.center],{borderBottom:"1px solid ".concat(m.TV.backgroundHigher)});function cr(e){var t=e.headerId,n=(0,Q.Xs)(t),r=tn(ir(t)),i=(0,Wt.Z)((function(){return(0,s.cn)((function(e){return e(n).rect}))}),[n]),o=(0,Wt.Z)((function(){return(0,s.cn)((function(e){var t=e(n),r=t.panes,i=t.activeIndex,o=e((0,Q.z)(r[i]));return Kt({type:e(o.data).type,isHTML:e(nn.gM),flagLayoutSplits:e(rn.H).flagLayoutSplits})}))}),[n]),a=(0,s.Dv)(i);if(!(0,s.Dv)(o))return null;var c=r||a;return(0,l.tZ)(m.Tg,{elevated:!0,css:lr,style:{width:c.width,height:c.height,top:Math.round(c.y),left:Math.round(c.x),zIndex:r?M.I+1:void 0},children:(0,l.tZ)(ar,{headerId:t})})}var sr=(0,c.memo)(cr),ur=(0,s.cn)(null),dr=(0,s.cn)((function(e){var t;return null===(t=e(ur))||void 0===t?void 0:t.dropPreview}));function pr(e){var t=e.rect,n=e.animate,r=e.borderRadius,i=void 0===r?8:r;return(0,l.tZ)("div",{css:[Ye.l0.position.absolute,Ye.l0.width(t.width),Ye.l0.height(t.height),Ye.l0.backgroundColor.accentPrimaryDefault,{borderRadius:i,pointerEvents:"none",zIndex:1,opacity:.2,transform:"translate(".concat(Math.round(t.x),"px, ").concat(Math.round(t.y),"px)")},n&&{transition:"transform 140ms, width 140ms, height 140ms"}]})}function fr(){var e=(0,s.Dv)(dr),t=(0,s.Dv)(q._E);return e?(0,l.tZ)(pr,{rect:e.rect,animate:t}):null}var vr=(0,c.memo)(fr);var hr=n(98719),gr=n(99461),mr=n(42490);var Zr=n(41107),br=n(93910),yr=n(91550),xr=n(72654),wr=n(51995),Er=n(91082),kr=n(48920),Ir=n(76506),Cr=n(1879),Dr=n(42456),Sr={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function Pr(){var e=(0,s.b9)(ae.cN),t=(0,c.useState)(!1),n=t[0],r=t[1],i=(0,Dr.A)(),o=(0,C.Z)(),a=o.fs,u=o.session,d=o.container,p=o.runner,f=(0,z.L)(p);return(0,ue.x)(br.q,{run:e}),(0,ue.x)(yr.q,{run:function(){e(yr.i({fs:a,session:u,getRecentFiles:i}))}}),(0,ue.x)(xr.q,{run:function(){e(xr.F({container:d}))}}),(0,le.Y)(yr.i({session:u,fs:a,getRecentFiles:i})),(0,le.Y)(xr.F({container:d})),(0,le.Y)({match:se.pl,data:{type:"action",icon:(0,l.tZ)(wr.Z,{}),label:"Run",description:"Run Repl",run:function(){p.run()},keyboardShortcut:Sr}},{enabled:f===kr.A.IDLE}),(0,ue.x)(Sr,{run:function(){f===kr.A.RUNNING&&p.stopRun(),p.run()},enabled:f!==kr.A.OFFLINE}),(0,le.Y)({match:se.pl,data:{type:"action",icon:(0,l.tZ)(Er.Z,{}),label:"Stop",description:"Stop Repl",run:function(){p.stopRun()}}},{enabled:f===kr.A.RUNNING}),(0,le.Y)({match:(0,se.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,l.tZ)(In.Z,{}),description:"Create a new Repl",run:function(){r(!0)}}}),(0,l.tZ)(Cr.Z,{isOpen:n,onRequestClose:function(){return r(!1)},maxWidth:600,centered:!0,children:(0,l.tZ)(Ir.Z,{})})}var Rr=(0,c.memo)(Pr),Nr=n(97813),Tr=n(1144),Or=n(41654),Ar=n(61756),Gr=n(31066),Mr=n(78244);function _r(){var e,t=(0,C.Z)().fs,n=(0,c.useRef)(new Map),i=(0,Nr.Z)(),o=(0,c.useState)(!1),u=o[0],d=o[1],p=(0,c.useState)(!1),f=p[0],v=p[1],h=(0,c.useState)([]),Z=h[0],b=h[1],y=(0,g.$G6)().data,w=(null===y||void 0===y||null===(e=y.currentUser)||void 0===e?void 0:e.isAdmin)||window.location.search.includes("debug=1"),E=(0,s.b9)(q.tt),k=(0,s.b9)(Ce.a4),I=Z.map((function(e){return e.path})).map((function(e){return{title:e,path:e}})),D=(0,c.useState)(),S=D[0],P=D[1];(0,c.useEffect)((function(){if(i&&!n.current.has(i)&&i!==Gr.rq){var e=function(e){k(e),n.current.delete(i),b((function(e){return e.filter((function(e){return e.path!==i}))}))};(0,An.Mb)(i)?t.watchOtFile(i,{onMoveOrDelete:e,onError:function(e,n){if(!e.code){var r=(0,Ie.ZP)(e,{extras:n,tags:{ot:!0}});t.flush(),t.persist({skipDebounce:!0}),E(r)}},onReconnectFail:function(e,t){b((function(n){return(0,Zn.Z)(n).concat([{path:i,prompt:t,cb:e}])})),d(!0),S||P(i)}}):t.watchFile(i,{onChange:function(){},onMoveOrDelete:e}),n.current.set(i,!0)}}),[i,t,E,k]);var R,N,T=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,x.j)(x.U3.FILE_RECONNECT_FALLBACK_CHOSEN,{choice:t}),(0,x.j)(x.U3.CONTENTS_DIVERGED_ACTION,{action:"local"===t?"client":"server"}),v(!0),e.next=5,Promise.all(Z.map((function(e){return b((function(t){var n=t.filter((function(t){return t.path!==e.path}));return 0===n.length?d(!1):P(n[0].path),n})),e.cb(t)})));case 5:v(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=S?Z.find((function(e){return e.path===S})):null,A=null===O||void 0===O?void 0:O.prompt,G=S,M=[m.l0.minHeight("7em"),m.l0.maxHeight("50vh"),m.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,l.tZ)(m.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:u,onRequestClose:function(){},children:(0,l.BX)(m.G7,{css:[m.l0.colWithGap(24)],children:[(0,l.tZ)(Tr.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,l.BX)(Tr.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",Z.length>1?"these files":"this file"," you'd like to keep."," ",Z.length>1?(0,l.BX)("strong",{children:["There are ",Z.length," files impacted by this."]}):""]}),f?(0,l.tZ)(Or.Loader,{}):(0,l.BX)(l.HY,{children:[I.length?(0,l.tZ)(m.Ph,{initialSelectedItem:I[0],selectedItem:I.find((function(e){return e.path===S})),items:I,onChange:function(e){P(e.path)}}):null,w?(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(16),m.l0.justify.start,m.l0.align.center,m.l0.pt(16),m.l0.p(8),m.l0.backgroundColor.redDimmest,m.l0.font.code],children:[(0,l.tZ)(Tr.x,{variant:"subheadDefault",children:"Debug View"}),(0,l.BX)(Tr.x,{children:["Divergence type: ",null===A||void 0===A?void 0:A.case]})]}):null,(0,l.BX)(m.G7,{css:[m.l0.rowWithGap(8)],children:[(0,l.BX)(m.G7,{css:[m.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,l.tZ)(Tr.x,{variant:"subheadDefault",children:"My changes"}),(0,l.tZ)(m.Tg,{elevated:!0,css:[m.l0.flex.growAndShrink(1),m.l0.py(8)],children:(0,l.tZ)(m.G7,{css:M,children:(0,l.tZ)(Mr.Z,{filePath:G,hasExtraPadding:!1,code:null!==(R=null===A||void 0===A?void 0:A.localContent)&&void 0!==R?R:""})})}),(0,l.BX)(m.G7,{css:[m.l0.pt(16)],children:[(0,l.tZ)(Tr.x,{multiline:!0,css:[m.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,l.tZ)(Ar.zx,{onClick:function(){T("local")},text:"Reset to Mine"})]})]}),(0,l.BX)(m.G7,{css:[m.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,l.tZ)(Tr.x,{variant:"subheadDefault",children:"Shared changes"}),(0,l.tZ)(m.Tg,{elevated:!0,css:[m.l0.flex.growAndShrink(1),m.l0.py(8)],children:(0,l.tZ)(m.G7,{css:M,children:(0,l.tZ)(Mr.Z,{filePath:G,hasExtraPadding:!1,code:null!==(N=null===A||void 0===A?void 0:A.remoteContent)&&void 0!==N?N:""})})}),(0,l.BX)(m.G7,{css:[m.l0.pt(16),m.l0.justify.end],children:[(0,l.tZ)(Tr.x,{multiline:!0,css:[m.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,l.tZ)(Ar.zx,{onClick:function(){T("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var Lr=n(93527),zr=n(79611),Ur=n(92010),Br=n(20934),Hr=n(35271),Kr=n(30601),jr=n(54810);function Xr(){var e=(0,s.Dv)(Br.c);return(0,jr.Z)("flag-threads-2")?(0,l.BX)("div",{style:{position:"fixed",bottom:46,right:"var(--space-12)",zIndex:10},children:[(0,l.tZ)("div",{children:(0,l.tZ)(Ur.Z,{})}),e&&(0,l.tZ)("div",{style:{position:"relative"},children:(0,l.tZ)(Kr.Z,{})})]}):(0,l.tZ)("div",{style:{position:"fixed",bottom:"var(--space-24)",right:"var(--space-8)",zIndex:10},children:e?(0,l.BX)("div",{style:{position:"relative",right:"var(--space-8)"},children:[(0,l.tZ)("div",{children:(0,l.tZ)(Ur.Z,{})}),(0,l.tZ)("div",{style:{position:"relative"},children:(0,l.tZ)(Hr.Z,{})})]}):(0,l.tZ)("div",{children:(0,l.tZ)(Ur.Z,{})})})}var Fr=n(42895),Wr=n(51748),Vr=(0,s.cn)(null,(function(e,t,n){var r,i=e(q.g4),o=e(Ke.T5);if("split"!==(null===(r=i.tiling)||void 0===r?void 0:r.type))throw new Error("Expected split");var a=i.tiling.children.length===(o?2:1);if((!n||!a)&&(!(i.tiling.children.length===(o?3:2))||n)){var l=a?["tiling",o?1:0,0]:["tiling",o?1:0],c=a?["tiling",o?1:0,1]:["tiling",o?2:1],s=(0,W.ZP)(i,(function(e){var t=(0,Je.K)(e,l);if("paneGroup"!==(null===t||void 0===t?void 0:t.type))throw new Error("Expected editorNode");var r=(0,Je.K)(e,c);if(!r||!(0,et.r)(r))throw new Error("Expected secondaryNode");"split"===r.type&&(r.stacked=!n);var i=o?(0,Je.R)(e,o.paneId):null;if(i&&i.floating)throw new Error("Expected tiled sidebarPaneNode");var a=null===i||void 0===i?void 0:i.paneGroup.percent;(0,Jn.Z)(e,l),n?(0,$.mZ)(e,{panes:t.panes,percent:t.percent,activeIndex:t.activeIndex,relativeTo:["tiling",o?1:0],placement:"above"}):(0,$.mZ)(e,{panes:t.panes,percent:t.percent,activeIndex:t.activeIndex,relativeTo:["tiling",o?1:0],placement:"leftOf"}),i&&void 0!==a&&tt(e,{leftPath:["tiling",0],percent:a})}));t(ee.iH,s)}})),Yr=n(32951),$r=n(7787),qr=n(45528),Qr=!1;var Jr=n(55877),ei=n.n(Jr);var ti={filetree:!0,codeEditor:!0,database:!0,webview:!0,media:!0,vnc:!0,pedit:!0,education:!0,runnerOutput:!0,unitTests:!0,autograder:!0,markdown:!0,shell:!0,packager:!0,envEditor:!0,commands:!0,draw:!0,preferences:!0,adminPanel:!0,git:!0,kaboombar:!0,instructions:!0,debugger:!0,tutorial:!0,config:!0,threadInbox:!0,dotReplitEditor:!0,extension:!0,docs:!0};function ni(e){if("number"!==typeof e)throw new Error("Expected number")}function ri(e){if("string"!==typeof e)throw new Error("Expected string")}function ii(e){if(ri(e.type),ni(e.percent),"paneGroup"!==e.type){if("split"===e.type)return function(e){if("boolean"!==typeof e)throw new Error("Expected boolean")}(e.stacked),function(e){if(!Array.isArray(e.children))throw new Error("Expected children")}(e),void e.children.forEach(ii);throw new Error("Invalid pane type: "+e.type)}if(!Array.isArray(e.panes))throw new Error("Expected panes array");e.panes.map(ri)}function oi(e,t){if(!Array.isArray(e.floating))throw new Error("Expected floating");e.floating.forEach((function(e){if(!Array.isArray(e.panes))throw new Error("Expected panes array");!function(e){[e.x,e.y,e.width,e.height].forEach(ni)}(e.rect),e.panes.forEach((function(e){if(ri(e),!t.includes(e))throw new Error("Unrecognized id")}))})),e.tiling&&ii(e.tiling)}function ai(e){if("object"!==typeof e)throw new Error("Expected object");if(!ti[e.type])throw new Error("Expected valid pane, got: ".concat(e.type))}function li(e){!function(e){if("object"!==typeof e)throw new Error("Expected object");Object.values(e).map(ai)}(e.data),oi(e.layout,Object.keys(e.data))}var ci=n(58809),si=n(28173),ui=(0,s.cn)((function(e){var t=e(q.g4),n={};return e(Q.Eh).forEach((function(t){n[t.paneId]=e(t.data)})),{layout:t,data:n}})),di=(0,s.cn)(null),pi=(0,s.cn)(null),fi=(0,s.cn)(null);function vi(e,t){return hi.apply(this,arguments)}function hi(){return hi=(0,r.Z)(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=2,e.next=5,null===ci.l||void 0===ci.l?void 0:ci.l.mutate({mutation:g.R6j,variables:{input:{replId:t,state:n}}});case 5:i=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,retry:!0});case 11:if(!("Repl"===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.setReplLayoutState.__typename))){e.next=14;break}return e.abrupt("return",{success:!0,retry:void 0});case 14:return e.abrupt("return",{success:!1,retry:!1});case 15:case"end":return e.stop()}}),e,null,[[2,8]])}))),hi.apply(this,arguments)}var gi=(0,s.cn)(null,function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,l,c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t(pi))||r.retry){e.next=3;break}return e.abrupt("return");case 3:if(!(r&&Date.now()-r.timestamp<6e4)){e.next=5;break}return e.abrupt("return");case 5:if(t(q.nJ)){e.next=7;break}return e.abrupt("return");case 7:if(t(rn.H).flagSaveLayoutState){e.next=10;break}return e.abrupt("return");case 10:if(i=t(ui),o=t(mi)){e.next=14;break}return e.abrupt("return");case 14:if(l=t(di),!yn()(l,i)){e.next=17;break}return e.abrupt("return");case 17:return c=Y()(),n(fi,c),e.next=21,vi(o,i);case 21:if(s=e.sent,t(fi)===c){e.next=24;break}return e.abrupt("return");case 24:if(n(fi,null),!s.retry){e.next=28;break}return n(pi,{timestamp:Date.now(),retry:!0}),e.abrupt("return");case 28:if(s.success){e.next=31;break}return n(pi,{timestamp:Date.now(),retry:!1}),e.abrupt("return");case 31:n(di,i);case 32:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var mi=(0,s.cn)(null),Zi=(0,s.cn)(!1),bi=(0,s.cn)(null,(function(e,t,n){if(t(mi,n.replId),Object.entries(n.data).forEach((function(n){var r=(0,i.Z)(n,2),o=r[0],a=r[1],l=e((0,Q.z)(o));t(l.data,a)})),t(ee.iH,n.layout),t(Zi,n.isSavedLayout),t(di,e(ui)),n.isSavedLayout){var r=e(q.S6).map((function(t){return{path:(0,kn.DQ)(e(t.data)),isHidden:t.isHidden}})).filter((function(e){var t=e.path;return Boolean(t)})).sort((function(e,t){return Number(t.isHidden)-Number(e.isHidden)})),o=r.length?r[0].path:null;if(o&&(t(q.Sg,o),!(0,An.gK)(o))){var a=r.find((function(e){return e.path&&(0,An.gK)(e.path)}));a&&t(q.Md,a.path)}}}));function yi(e){var t=e.isHTML,n=e.initialLayoutState,r=e.flagSaveLayoutState,i=(0,Wr.Z)(),o=i.preferences,a=i.initiallyLoading,l=o.isLayoutStacked,u=(0,F.Z)(),d=(0,s.b9)(bi),p=(0,c.useRef)(!1);(0,c.useEffect)((function(){if(!p.current&&!a){var e=n?function(e){try{li(e)}catch(t){return null}return e}(n):null,i=r&&e?e:function(e){var t=e.isStacked,n=e.isHTML,r={filetree:{paneId:ei()(),pane:{type:"filetree"}},codeEditor:{paneId:ei()(),pane:{type:"codeEditor",data:{path:""}}},output:{paneId:ei()(),pane:{type:n?"webview":"runnerOutput"}},shell:{paneId:ei()(),pane:{type:"shell"}}},i={};Object.values(r).forEach((function(e){var t=e.paneId,n=e.pane;i[t]=n}));var o=function(e){var t=e.filetreeId,n=e.codeEditorId,r=e.outputId,i=e.shellId;return{floating:[],tiling:e.isStacked?{type:"split",stacked:!1,percent:100,children:[{percent:15,type:"paneGroup",panes:[t],activeIndex:0},{type:"split",stacked:!0,percent:85,children:[{percent:60,type:"paneGroup",panes:[n],activeIndex:0},{percent:40,type:"paneGroup",panes:[r,i],activeIndex:0}]}]}:{type:"split",stacked:!1,percent:100,children:[{percent:15,type:"paneGroup",panes:[t],activeIndex:0},{percent:45,type:"paneGroup",panes:[n],activeIndex:0},{percent:40,type:"paneGroup",panes:[r,i],activeIndex:0}]}}}({filetreeId:r.filetree.paneId,codeEditorId:r.codeEditor.paneId,outputId:r.output.paneId,shellId:r.shell.paneId,isStacked:t});return{layout:o,data:i}}({isStacked:l,isHTML:t}),o=i.data,c=i.layout;d({data:o,layout:c,replId:u,isSavedLayout:Boolean(e)}),p.current=!0}}),[d,a,l,u,n,t,r])}var xi=n(3307),wi=n(58482),Ei=n(56232),ki=n(35776),Ii=n(53852),Ci=n(21e3),Di=n(50580),Si=n(43410),Pi=n(83965);var Ri=n(93058),Ni=n(5783);function Ti(){var e=(0,Ri.Z)(),t=e.showConfirm,n=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,C.Z)().container;(0,c.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||n(e,function(e){var t=e.length/.025+1e3;return Math.max(1e4,t)}(e))})),a=null,l=!1,c=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===Ni.e.CONNECTED)return l=!0,void(a=t("Connected",1500));l&&(e!==Ni.e.CONNECTING?e!==Ni.e.DISCONNECTED||(a=i("Disconnected")):a=n("Reconnecting"))}));return function(){a&&r(a),e(),c()}}),[o,t,n,i,r])}var Oi=n(66223),Ai=n(50217),Gi=n(18962),Mi=n(25108);var _i=n(30942),Li=n(78207);var zi={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};function Ui(){var e=(0,C.Z)().runner,t=(0,s.b9)(Ce.im),n=(0,s.b9)(Ce.Ky),r=(0,s.b9)(Ce.ao),o=function(){var e=(0,C.Z)().session,t=(0,i.Z)(c.useState(e.getInstructionsViewerVisible()),2),n=t[0],r=t[1];return c.useEffect((function(){return r(e.getInstructionsViewerVisible()),e.onInstructionsViewerToggled(r)}),[e]),n}(),a=(0,de.e)(pe.H.Output);c.useEffect((function(){if(null===a||void 0===a?void 0:a.isActive){var e=setInterval((function(){t()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,t]),c.useEffect((function(){return e.onStateChanged((function(e){e===kr.A.RUNNING&&t()}))}),[e,t]),c.useEffect((function(){o?n({type:"instructions"}):r({type:"instructions"})}),[o,n,r]),(0,ue.x)(zi,{run:function(){return n({type:"shell"})}})}var Bi=n(536),Hi=n(45435);var Ki=n(25070);function ji(){var e=function(){var e=(0,s.b9)(gi);return(0,Wt.Z)((function(){return(0,si.Z)(e,1e3)}),[e])}();(0,c.useEffect)((function(){var t=function(){e.flush()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e]),(0,c.useEffect)((function(){var t=function(){"hidden"===document.visibilityState&&e()};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[e]),(0,c.useEffect)((function(){var t=null;return function n(){t=setTimeout((function(){e(),n()}),6e4)}(),function(){t&&clearTimeout(t)}}),[e]),(0,c.useEffect)((function(){return function(){e.flush()}}),[e])}function Xi(e){var t,n=e.repl,o=e.currentUser,l=o.id===(null===(t=n.user)||void 0===t?void 0:t.id),d=(0,Wr.Z)().preferences,p=(0,C.Z)().session;!function(){var e=(0,u.useRouter)(),t=(0,s.b9)(q.j0);(0,c.useEffect)((function(){var n=function(){t()};return e.events.on("routeChangeStart",n),function(){e.events.off("routeChangeStart",n)}}),[])}(),ji(),(0,xi.Z)(),(0,ki.Z)(),(0,Bi.Z)({workspaceType:"desktop"}),(0,Ii.Z)(),(0,Ci.Z)(),(0,Di.Z)(),(0,Si.Z)();var f=(0,wi.Z)();(0,Ei.Z)({isAnon:!1,isOwner:l,ignoreUnloadPrompt:f}),(0,Pi.Z)(),function(){var e=(0,C.Z)().presence,t=(0,Nr.Z)();(0,c.useEffect)((function(){e.updateOpenFile(t)}),[e,t])}(),Ti(),function(){var e,t,n=(0,F.Z)(),i=(0,C.Z)(),o=i.fs,l=i.session,s=(0,g.eGB)({variables:{id:n}}).data,u="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,d="CurrentUser"===(null===s||void 0===s||null===(e=s.currentUser)||void 0===e?void 0:e.__typename)?s.currentUser:null,p="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)&&s.repl.isModelSolutionFork,f=p?u&&(null===(t=u.origin)||void 0===t?void 0:t.origin):u&&u.origin||null,v=(0,qr.b)("Repl"===(null===f||void 0===f?void 0:f.__typename)?{repl:f,currentUser:d||void 0}:null);c.useEffect((function(){u&&d&&u.isProject&&o.stat(".lesson").then((function(e){e.exists||o.createDir(".lesson")}))}),[o,d,u]),c.useEffect((function(){if(u&&(u.isProjectFork||p)&&f&&v){var e=(0,Ni.Z)({onUnrecoverableError:function(e){Mi.error(e),xe.$e((function(t){t.setTag("curriculum-authoring",!0),t.setExtra("originId",f.id),xe.Tb(e)}))}}),t=(0,Oi.Z)({container:e});e.connect({context:v,fetchConnectionMetadata:function(){return(0,Ai.Z)({url:"/data/repls/".concat(u.id,"/get_repl_origin_guest_connection_metadata")})}});var n=e.onConnectionStateChanged(function(){var i=(0,r.Z)(a().mark((function r(i){var c;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i!==Gi.e.CONNECTED){r.next=22;break}return n(),r.prev=2,r.next=5,o.copyDirFromRemote(".lesson",".lesson",t);case 5:if(!(c=r.sent).error){r.next=10;break}xe.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",f.id),xe.Tb({message:"Error copying lesson: ".concat(c.error)})})),r.next=14;break;case 10:return r.next=12,o.stat(".lesson/instructions.md");case 12:r.sent.exists&&l.setInstructionsViewerVisible(!0);case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(2),xe.$e((function(e){e.setTag("curriculum-authoring",!0),xe.Tb(r.t0)}));case 19:return r.prev=19,e.destroy(),r.finish(19);case 22:case"end":return r.stop()}}),r,null,[[2,16,19,22]])})));return function(e){return i.apply(this,arguments)}}());return function(){return e.destroy()}}}),[o,v,u,f,p,l])}(),(0,Li.ZP)(),Ui(),function(){var e=(0,u.useRouter)(),t=(0,C.Z)().container,n=(0,i.Z)((0,s.KO)(Hi.a0),2),r=n[0],o=n[1],a=(0,s.b9)(Hi.Th);(0,c.useEffect)((function(){e.query.debug&&o(!0)}),[o,e.query.debug]),(0,c.useEffect)((function(){if(r)return t.client().onDebugLog((function(e){"log"===e.type&&a((function(t){return(0,Zn.Z)(t).concat([{index:t[t.length-1]?t[t.length-1].index+1:0,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])}))}))}),[r,a,t])}(),(0,_i.Z)({onOpenFile:function(e){p.openFile(e.path),p.updateDeeplink(e)},onOutput:function(){}}),(0,Ki.Z)();var v=["html","html_beta"].includes(n.language),h=(0,c.useRef)(n.layoutState||null);yi({isHTML:v,initialLayoutState:h.current,flagSaveLayoutState:Boolean(o.flagSaveLayoutState)}),(0,c.useEffect)((function(){return xe.YA("replId",n.id),Ie.c_.setTag("replId",n.id),function(){xe.YA("replId",void 0),Ie.c_.setTag("replId",void 0)}}),[n.id]),function(e){var t=e.repl,n=e.currentUser,r=(0,C.Z)().container,i=(0,u.useRouter)(),o=(0,qr.b)({repl:t,currentUser:n});(0,c.useEffect)((function(){var e;return Qr||(Qr=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:o}),function(){r.close()}}),[o,r]),(0,c.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:n,currentUser:o}),function(){var e=(0,F.Z)(),t=(0,C.Z)().container,n=(0,s.b9)(Ce._N),r=(0,i.Z)((0,g.SrS)(),1)[0];(0,c.useEffect)((function(){return t.onPortOpened((function(t){var i,o=t.isVnc;n(o?"vnc":"webview"),i=o?{isVnc:!0}:{isServer:!0},r({variables:{input:(0,S.Z)({id:e},i)}})}))}),[t,n,r,e])}(),(0,c.useEffect)((function(){var e,t="Repl"===(null===(e=n.origin)||void 0===e?void 0:e.__typename)?n.origin.id:null;return(0,$r.Fy)({id:n.id,slug:n.slug,originId:t,roles:o.roles&&o.roles.map((function(e){return e.name}))}),function(){(0,$r.dv)()}}),[n,o.roles]);var m=(0,s.b9)(q._E),Z=(0,Fr.T)();(0,c.useEffect)((function(){m(!Z)}),[Z,m]);var b=(0,s.b9)(Vr);(0,Yr.Z)((function(){b(d.isLayoutStacked)}),[d.isLayoutStacked,b]);var y=d.isLayoutStacked,x=(0,s.b9)(nn.h$);(0,c.useEffect)((function(){return x(y)}),[x,y]);var w=(0,s.b9)(nn.gM);return(0,c.useEffect)((function(){return w(v)}),[w,v]),null}var Fi=n(25602),Wi=n(89390),Vi=function(){var e=(0,r.Z)(a().mark((function e(t,n){var r,i,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,Fi.u9)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,Fi.mv)(t);case 4:if(r=e.sent,i=r.path,o=r.line,l=r.col,i){e.next=10;break}return e.abrupt("return",!1);case 10:return n.openFile(i,{line:o,col:l}),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Yi(){return function(){var e=(0,C.Z)(),t=e.fs,n=e.session,i=e.dotReplit,o=(0,F.Z)(),l=(0,c.useRef)(!1),u=(0,s.Dv)(q.QP),d=(0,Un.Z)(u),p=(0,Un.Z)((0,s.Dv)(Zi));(0,c.useEffect)((function(){if(u){var e=(0,Fi.YM)({path:u}),t=window.location.hash;t===u||t.startsWith(e+":")||(l.current=!0,window.location.hash=e)}}),[u]),(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vi(t,n);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return");case 7:if(!p.current){e.next=9;break}return e.abrupt("return");case 9:(0,Wi.P)(t,n,i,o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n,i,o,d,p]),(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=3;break}return l.current=!1,e.abrupt("return");case 3:return e.next=5,Vi(t,n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}),[t,n])}(),null}function $i(){var e=(0,jr.Z)("flag-iframe-extensions"),t=(0,s.b9)(J.g2),n=c.useCallback((function(e){t({pane:{data:{extensionUrl:e},type:"extension"},makeActive:!0,placement:"rightOf"})}),[t]);return(0,le.Y)({match:se.pl,data:{type:"action",label:"Add extension",icon:(0,l.tZ)(In.Z,{}),description:"Add an extension",run:function(){var e=prompt("insert extension url");e&&n(e)}}},{enabled:e}),null}var qi=(0,s.cn)((function(e){var t=e(nn.gr),n=e(q.g4),r=(0,Je.K)(n,t),i="paneGroup"===(null===r||void 0===r?void 0:r.type)||"floatingPaneGroup"===(null===r||void 0===r?void 0:r.type)?r.panes[0]:null;if(!i)return null;var o=e((0,Q.z)(i)).rect,a=e(Q.M0);return{x:o.x,y:o.y-a,width:o.width,height:o.height+a}}));function Qi(){var e=(0,s.Dv)(qi),t=(0,Kn.Z)();return e&&t?(0,l.tZ)("div",{css:[Ye.l0.position.absolute,Ye.l0.width(e.width),Ye.l0.height(e.height),Ye.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(t.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var Ji=(0,c.memo)(Qi);function eo(e){var t=e.repl,n=e.currentUser,r=function(e){var t=e.repl,n=(0,u.useRouter)(),r=(0,s.b9)(q.tt),i=(0,s.b9)(Ce.Up);return{services:(0,c.useState)((function(){return(0,we.Z)({runnerMode:"html"===t.language?"html":"shellrunner",onUnrecoverableError:function(e){if(e.message.toLowerCase().includes("repl not found"))n.push("/home","~/");else{var t={replenvironmentservices:!0,layoutv2:!0};De.error(e),xe.Tb(e,{tags:t});var i=(0,Ie.ZP)(e,{tags:t});r(i)}},openFile:i})}))[0],ui:(0,c.useState)((function(){return(0,ke.fK)({config:(0,Ee.U)()})}))[0]}}({repl:t}),i=r.services,o=r.ui,a=(0,s.Dv)(q.nJ);return(0,l.BX)(Et,{ui:o,services:i,replId:t.id,children:[(0,l.tZ)(ue.h,{}),(0,l.tZ)(Rr,{}),(0,l.tZ)(hr.Z,{}),(0,l.tZ)(ye,{}),(0,l.tZ)(le.Z,{}),(0,l.tZ)(Yi,{}),(0,l.tZ)(Xi,{repl:t,currentUser:n}),(0,l.tZ)(Lr.ZP,{}),(0,l.BX)(m.G7,{css:[m.l0.flex.row,m.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(m.G7,{css:[m.l0.py(8),m.l0.pl(8),!a&&m.l0.visibility.hidden],children:(0,l.tZ)(Zt,{})}),(0,l.tZ)(io,{})]}),(0,l.tZ)(Zr.Z,{container:i.container}),(0,l.tZ)(_r,{}),(0,l.tZ)(Xr,{}),(0,l.tZ)(no,{isMultiplayerSession:t.multiplayers.length>0}),(0,l.tZ)(to,{image:n.image,username:n.username}),(0,l.tZ)($i,{})]})}function to(e){var t=e.image,n=e.username,r=(0,i.Z)((0,s.KO)(q.tt),2),o=r[0],a=r[1];return o?(0,l.tZ)(d.Z,{devHide:function(){return a(null)},eventId:o,currentUserImage:t,currentUserUsername:n}):null}function no(e){var t=function(e){var t=(0,i.Z)(c.useState(!1),2),n=t[0],o=t[1],l=(0,mr.X)(),s=l&&!l.isDone&&!l.isLoading;return c.useEffect((function(){s||e&&"default"===(0,gr.eo)()&&o(!0)}),[e,s]),{shouldShowModal:n,hideModal:c.useCallback((function(){(0,gr.Oc)(!0),o(!1)}),[]),confirm:c.useCallback((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,gr.$q)();case 2:o(!1);case 3:case"end":return e.stop()}}),e)}))),[])}}(e.isMultiplayerSession),n=t.shouldShowModal,o=t.hideModal,s=t.confirm;return n?(0,l.tZ)(b.Z,{onCancel:o,onConfirm:s}):null}var ro=(0,m.KD)("div");function io(){var e=function(){var e=(0,s.b9)(ee.rR),t=(0,c.useRef)(null),n=(0,Sn.Z)((function(n){var r=n.width,i=n.height;if(r&&i&&t.current){var o=t.current.getBoundingClientRect(),a=o.top,l=o.left;e({width:r,height:i,x:l,y:a})}}));return(0,c.useCallback)((function(e){t.current=e,n(e)}),[n])}(),t=(0,s.Dv)(q.nJ),n=(0,s.Dv)(Q.gg),r=(0,s.Dv)(Q.g3),i=(0,s.Dv)(Q.If);return(0,l.tZ)(m.G7,{css:[m.l0.position.relative,m.l0.flex.growAndShrink(1)],children:(0,l.tZ)(ro,{ref:e,css:[m.l0.position.absolute,m.l0.top(8),m.l0.left(0),m.l0.width("calc(100% - (".concat(8,"px))")),m.l0.height("calc(100% - (".concat(8,"px * 2))"))],children:t?(0,l.BX)(l.HY,{children:[r.map((function(e){return(0,l.tZ)(mn,{handleId:e},e)})),i.map((function(e){return(0,l.tZ)(sr,{headerId:e},e)})),n.map((function(e){return(0,l.tZ)(dn,{paneId:e},e)})),(0,l.tZ)(vr,{}),(0,l.tZ)(Ji,{})]}):null})})}var oo=function(){var e=null,t=(0,u.useRouter)().query;if(!t.replUrl)throw new Error("Expected replUrl to be set");var n=t.replUrl.toString(),r=(0,g.CdZ)({variables:{url:n},ssr:Boolean(t.ssr)}),i=r.data,o=r.loading,a=r.error,s=i&&"Repl"===i.repl.__typename?i.repl:null,d=(null===i||void 0===i?void 0:i.currentUser)||void 0,p="https://replit.com".concat(n),v=function(e){if(e){if(e.description)return e.description;var t=h().get(e.language).displayName;return"A ".concat(t," Repl")}}(s),b=(0,c.useState)(!1),x=b[0],w=b[1];return(0,c.useEffect)((function(){return w(!0)}),[]),(0,c.useEffect)(Z.S,[]),(0,zr.Z)((null===i||void 0===i?void 0:i.repl)||null,n),e=a?(0,l.tZ)(m.G7,{css:[m.l0.center,m.l0.flex.growAndShrink(1)],children:(0,l.tZ)(m.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):o||!x?(0,l.tZ)(m.G7,{css:[m.l0.center,m.l0.flex.growAndShrink(1)],children:(0,l.tZ)(Se.Z,{size:32})}):s&&d?(0,l.tZ)(eo,{repl:s,currentUser:d}):(0,l.tZ)(m.G7,{css:[m.l0.center,m.l0.flex.growAndShrink(1)],children:(0,l.tZ)(Se.Z,{size:32})}),(0,l.tZ)(pe.E,{hideTour:!d,children:(0,l.tZ)(y.Z,{children:(0,l.tZ)(f.Z,{dataCy:"workspace-page",title:"".concat((null===s||void 0===s?void 0:s.title)||""),oembedUrl:p,description:v,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,l.tZ)(m.Tg,{css:[m.l0.height("100vh"),m.l0.width("100vw"),m.l0.overflow("hidden")],children:e})})})})};oo.getInitialProps=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,r=t.store,e.next=3,(0,p.Z)(n,r);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ao=oo},1861:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(67294),i=n(45432),o=n.n(i);class a extends r.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=r.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=o()(this.osTarget(),this.props.options||{},this.props.extensions),l(this._osInstance,this.props.className)}componentWillUnmount(){o().valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){o().valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&l(this._osInstance,this.props.className))}render(){const e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(this.props,["options","extensions","children","className"]);return r.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),r.createElement("div",{className:"os-resize-observer-host"}),r.createElement("div",{className:"os-padding"},r.createElement("div",{className:"os-viewport"},r.createElement("div",{className:"os-content"},this.props.children))),r.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},r.createElement("div",{className:"os-scrollbar-track"},r.createElement("div",{className:"os-scrollbar-handle"}))),r.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},r.createElement("div",{className:"os-scrollbar-track"},r.createElement("div",{className:"os-scrollbar-handle"}))),r.createElement("div",{className:"os-scrollbar-corner"}))}}function l(e,t){if(o().valid(e)){const{host:n}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),i=n.className.split(" ").filter((e=>e.match(r))).join(" ");n.className=`${i} ${t||""}`}}},12380:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(87462),i=n(63366),o=n(94578);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(67294),c=n(98885),s=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&s(e,r),i&&s(e,i),o&&s(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return l.createElement(c.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);u.defaultProps={classNames:""},u.propTypes={};var d=u},98885:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var r=n(63366),i=n(94578),o=n(67294),a=n(73935),l=!1,c=n(220),s="unmounted",u="exited",d="entering",p="entered",f="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=u,r.appearStatus=d):i=p:i=t.unmountOnExit||t.mountOnEnter?s:u,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t=f)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:s})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],c=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||l?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,c),this.safeSetState({status:d},(function(){t.props.onEntering(o,c),t.onTransitionEnd(u,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,c)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!l?(this.props.onExit(r),this.safeSetState({status:f},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],l=i[1];this.props.addEndListener(o,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(c.Z.Provider,{value:null},"function"===typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function h(){}v.contextType=c.Z,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},v.UNMOUNTED=s,v.EXITED=u,v.ENTERING=d,v.ENTERED=p,v.EXITING=f;var g=v},220:function(e,t,n){"use strict";var r=n(67294);t.Z=r.createContext(null)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5762,8350,3443,2240,6344,3662,6351,3582,8764,3285,8966,4778,4969,9998,8944,3981,7485,9710,3220,443,4837,315,3129,1674,4508,3623,9950,8896,7046,1942,9601,6223,3407,2483,4912,817,9027,4593,2256,4025,2171,7596,7297,1092,9774,2888,179],(function(){return t(25436),t(44725)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=replEnvironment2-a867931da597006c.js.map